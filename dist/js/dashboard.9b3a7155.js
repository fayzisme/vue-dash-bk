(window.webpackJsonp=window.webpackJsonp||[]).push([["dashboard"],{"7b33":function(t,e,a){t.exports=a.p+"img/api.90585e9e.svg"},"7d56":function(t,e,a){"use strict";a("ff2e6")},8521:function(t,e){
/**
 * [chartjs-plugin-labels]{@link https://github.com/emn178/chartjs-plugin-labels}
 *
 * @version 1.1.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2017-2018
 * @license MIT
 */
!function(){"use strict";var r;function l(){this.renderToDataset=this.renderToDataset.bind(this)}"undefined"!=typeof Chart&&("function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=n[o])}return a}),r={},["pie","doughnut","polarArea","bar"].forEach(function(t){r[t]=!0}),l.prototype.setup=function(t,e){this.chart=t,this.ctx=t.ctx,this.args={},this.barTotal={};var a=t.config.options;this.options=Object.assign({position:"default",precision:0,fontSize:a.defaultFontSize,fontColor:a.defaultFontColor,fontStyle:a.defaultFontStyle,fontFamily:a.defaultFontFamily,shadowOffsetX:3,shadowOffsetY:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:6,images:[],outsidePadding:2,textMargin:2,overlap:!0},e),"bar"===t.config.type&&(this.options.position="default",this.options.arc=!1,this.options.overlap=!0)},l.prototype.render=function(){this.labelBounds=[],this.chart.data.datasets.forEach(this.renderToDataset)},l.prototype.renderToDataset=function(a,t){this.totalPercentage=0,this.total=null;var i=this.args[t];i.meta.data.forEach(function(t,e){this.renderToElement(a,i,t,e)}.bind(this))},l.prototype.renderToElement=function(t,e,a,i){var n,o;this.shouldRenderToElement(e.meta,a)&&(this.percentage=null,(n=this.getLabel(t,a,i))&&((o=this.ctx).save(),o.font=Chart.helpers.fontString(this.options.fontSize,this.options.fontStyle,this.options.fontFamily),e=this.getRenderInfo(a,n),this.drawable(a,n,e)&&(o.beginPath(),o.fillStyle=this.getFontColor(t,a,i),this.renderLabel(n,e)),o.restore()))},l.prototype.renderLabel=function(t,e){return this.options.arc?this.renderArcLabel(t,e):this.renderBaseLabel(t,e)},l.prototype.renderBaseLabel=function(t,e){var a=this.ctx;if("object"==typeof t)a.drawImage(t,e.x-t.width/2,e.y-t.height/2,t.width,t.height);else{a.save(),a.textBaseline="top",a.textAlign="center",this.options.textShadow&&(a.shadowOffsetX=this.options.shadowOffsetX,a.shadowOffsetY=this.options.shadowOffsetY,a.shadowColor=this.options.shadowColor,a.shadowBlur=this.options.shadowBlur);for(var i=t.split("\n"),n=0;n<i.length;n++){var o=e.y-this.options.fontSize/2*i.length+this.options.fontSize*n;a.fillText(i[n],e.x,o)}a.restore()}},l.prototype.renderArcLabel=function(t,e){var a=this.ctx,i=e.radius,n=e.view;if(a.save(),a.translate(n.x,n.y),"string"==typeof t){a.rotate(e.startAngle),a.textBaseline="middle",a.textAlign="left";var o=t.split("\n"),s=0,r=[],l=0;"border"===this.options.position&&(l=(o.length-1)*this.options.fontSize/2);for(var d=0;d<o.length;++d){var c=a.measureText(o[d]);c.width>s&&(s=c.width),r.push(c.width)}for(d=0;d<o.length;++d){var u=o[d],h=(o.length-1-d)*-this.options.fontSize+l;a.save();var g=(s-r[d])/2;a.rotate(g/i);for(var p=0;p<u.length;p++){var m=u.charAt(p),c=a.measureText(m);a.save(),a.translate(0,-1*i),a.fillText(m,0,h),a.restore(),a.rotate(c.width/i)}a.restore()}}else a.rotate((n.startAngle+Math.PI/2+e.endAngle)/2),a.translate(0,-1*i),this.renderLabel(t,{x:0,y:0});a.restore()},l.prototype.shouldRenderToElement=function(t,e){return!t.hidden&&!e.hidden&&(this.options.showZero||"polarArea"===this.chart.config.type?0!==e._view.outerRadius:0!==e._view.circumference)},l.prototype.getLabel=function(t,e,a){var i;if("function"==typeof this.options.render)i=this.options.render({label:this.chart.config.data.labels[a],value:t.data[a],percentage:this.getPercentage(t,e,a),dataset:t,index:a});else switch(this.options.render){case"value":i=t.data[a];break;case"label":i=this.chart.config.data.labels[a];break;case"image":i=this.options.images[a]?this.loadImage(this.options.images[a]):"";break;default:i=this.getPercentage(t,e,a)+"%"}return"object"==typeof i?i=this.loadImage(i):null!=i&&(i=i.toString()),i},l.prototype.getFontColor=function(t,e,a){var i=this.options.fontColor;return"function"==typeof i?i=i({label:this.chart.config.data.labels[a],value:t.data[a],percentage:this.getPercentage(t,e,a),backgroundColor:t.backgroundColor[a],dataset:t,index:a}):"string"!=typeof i&&(i=i[a]||this.chart.config.options.defaultFontColor),i},l.prototype.getPercentage=function(t,e,a){if(null!==this.percentage)return this.percentage;var i;if("polarArea"===this.chart.config.type){if(null===this.total)for(var n=this.total=0;n<t.data.length;++n)this.total+=t.data[n];i=t.data[a]/this.total*100}else if("bar"===this.chart.config.type){if(void 0===this.barTotal[a])for(n=this.barTotal[a]=0;n<this.chart.data.datasets.length;++n)this.barTotal[a]+=this.chart.data.datasets[n].data[a];i=t.data[a]/this.barTotal[a]*100}else i=e._view.circumference/this.chart.config.options.circumference*100;return i=parseFloat(i.toFixed(this.options.precision)),this.options.showActualPercentages||("bar"===this.chart.config.type&&(this.totalPercentage=this.barTotalPercentage[a]||0),this.totalPercentage+=i,100<this.totalPercentage&&(i-=this.totalPercentage-100,i=parseFloat(i.toFixed(this.options.precision))),"bar"===this.chart.config.type&&(this.barTotalPercentage[a]=this.totalPercentage)),this.percentage=i},l.prototype.getRenderInfo=function(t,e){return"bar"===this.chart.config.type?this.getBarRenderInfo(t,e):this.options.arc?this.getArcRenderInfo(t,e):this.getBaseRenderInfo(t,e)},l.prototype.getBaseRenderInfo=function(t,e){if("outside"!==this.options.position&&"border"!==this.options.position)return t.tooltipPosition();var a,i=t._view,n=i.startAngle+(i.endAngle-i.startAngle)/2,t=i.outerRadius/2;return"border"===this.options.position?a=(i.outerRadius-t)/2+t:"outside"===this.options.position&&(a=i.outerRadius-t+t+this.options.textMargin),a={x:i.x+Math.cos(n)*a,y:i.y+Math.sin(n)*a},"outside"===this.options.position&&(e=this.options.textMargin+this.measureLabel(e).width/2,a.x+=a.x<i.x?-e:e),a},l.prototype.getArcRenderInfo=function(t,e){var a=t._view,i="outside"===this.options.position?a.outerRadius+this.options.fontSize+this.options.textMargin:"border"===this.options.position?(a.outerRadius/2+a.outerRadius)/2:(a.innerRadius+a.outerRadius)/2,n=a.startAngle,o=a.endAngle,t=o-n;return n+=Math.PI/2,{radius:i,startAngle:n+=((o+=Math.PI/2)-(this.measureLabel(e).width/i+n))/2,endAngle:o,totalAngle:t,view:a}},l.prototype.getBarRenderInfo=function(t,e){t=t.tooltipPosition();return t.y-=this.measureLabel(e).height/2+this.options.textMargin,t},l.prototype.drawable=function(t,e,a){if(this.options.overlap)return!0;if(this.options.arc)return a.endAngle-a.startAngle<=a.totalAngle;var i=this.measureLabel(e),n=a.x-i.width/2,o=a.x+i.width/2,e=a.y-i.height/2,i=a.y+i.height/2;return"outside"===this.options.renderInfo?this.outsideInRange(n,o,e,i):t.inRange(n,e)&&t.inRange(n,i)&&t.inRange(o,e)&&t.inRange(o,i)},l.prototype.outsideInRange=function(t,e,a,i){for(var n=this.labelBounds,o=0;o<n.length;++o){for(var s=n[o],r=[[t,a],[t,i],[e,a],[e,i]],l=0;l<r.length;++l){var d=r[l][0],c=r[l][1];if(d>=s.left&&d<=s.right&&c>=s.top&&c<=s.bottom)return!1}for(r=[[s.left,s.top],[s.left,s.bottom],[s.right,s.top],[s.right,s.bottom]],l=0;l<r.length;++l)if(d=r[l][0],c=r[l][1],t<=d&&d<=e&&a<=c&&c<=i)return!1}return n.push({left:t,right:e,top:a,bottom:i}),!0},l.prototype.measureLabel=function(t){if("object"==typeof t)return{width:t.width,height:t.height};for(var e=0,a=t.split("\n"),i=0;i<a.length;++i){var n=this.ctx.measureText(a[i]);n.width>e&&(e=n.width)}return{width:e,height:this.options.fontSize*a.length}},l.prototype.loadImage=function(t){var e=new Image;return e.src=t.src,e.width=t.width,e.height=t.height,e},Chart.plugins.register({id:"labels",beforeDatasetsUpdate:function(t,e){if(r[t.config.type]){var a=(e=!Array.isArray(e)?[e]:e).length;t._labels&&a===t._labels.length||(t._labels=e.map(function(){return new l}));for(var i=!1,n=0,o=0;o<a;++o){var s=t._labels[o];s.setup(t,e[o]),"outside"===s.options.position&&(i=!0,n<(s=1.5*s.options.fontSize+s.options.outsidePadding)&&(n=s))}i&&(t.chartArea.top+=n,t.chartArea.bottom-=n)}},afterDatasetUpdate:function(t,e,a){r[t.config.type]&&t._labels.forEach(function(t){t.args[e.index]=e})},beforeDraw:function(t){r[t.config.type]&&t._labels.forEach(function(t){t.barTotalPercentage={}})},afterDatasetsDraw:function(t){r[t.config.type]&&t._labels.forEach(function(t){t.render()})}}))}()},9545:function(t,e,a){},"9c5d":function(t,e,a){"use strict";a("9545")},e44b:function(t,e,a){t.exports=a.p+"img/no_data@3x.c9f2b0ef.png"},ec95:function(t,e,a){"use strict";a.r(e);var i,n,o,s,r,l,d,c,u,h,g,p,m=(a("7f7f"),a("a481"),a("ac6a"),a("96cf"),a("3b8d")),f=a("db49"),b=a("271f"),v=a("c1df"),w=a.n(v),x=a("2ef0"),y=a.n(x),C=a("f858"),v=a("b204"),x=a("8521"),x=a.n(x),M=a("c0d6"),x={name:"Dashboard",directives:{echarts:C.a},components:{Chart:v.a,ChartLabel:x.a},data:function(){return{asyncComponent:"peity",monthOfTheSelected:"",dialogDetailOutbound:!1,loadingUniqueOutboundDetail:!1,user:M.a.getters.userID,startDate:"",endDate:"",outbondDetail:[],resized:!1,config:f.a,loadingWA:!0,loading:{ticket:!0,overview:!0,mostTemplate:!0,uniqueUser:!0,uniqueOutbound:!1},showAlertMessage:!1,showAlertError:!1,loadingTable:!0,isLoading:!0,totalWA:0,totalBill:0,loadingContact:!0,totalContact:0,selectedPhoneNumber:"",companyPhone:"",monthName:w()().format("MMMM"),prevMonth:w()().subtract(1,"months").format("YYYY-MM"),currentMonth:w()().format("YYYY-MM"),prevMonthTicket:"".concat(w()().subtract(1,"months").format("YYYY-MM"),"-01 00:00:00"),currentMonthTicket:"".concat(w()().format("YYYY-MM"),"-01 00:00:00"),ticketPrevMonth:{open:0,process:0,close:0},ticketCurrMonth:{open:0,process:0,close:0},thisMonth:{tanggal:[0],textTotal:[0],image:{total:[0]},hsm:{total:[0]},document:{total:[0]},audio:{total:[0]},outbond:{total:[0]}},previousMonth:{tanggal:[0],textTotal:[0],image:{total:[0]},hsm:{total:[0]},document:{total:[0]},audio:{total:[0]},outbond:{total:[0]}},chartOptionNotification:{areaColor:"#FFF",grid:{show:!1,left:"20px",right:"50px",bottom:"20px",top:"20px",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{show:!1,data:["line","bar"],textStyle:{color:"#ccc"}},xAxis:[{type:"category",boundaryGap:!1,data:[0],axisLine:{lineStyle:{color:"rgba(255,255,255,0.5)"}}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"rgba(255,255,255,0.5)"}}}],series:[{name:"Total Notification Previous Month",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:10,lineStyle:{color:"#fff"},itemStyle:{color:"#fff",borderColor:"#5f8fdf",borderWidth:3},areaStyle:{color:"rgba(255,255,255,0.2)"},animationDuration:2800,animationEasing:"cubicInOut",data:[0]},{name:"Total Notification This Month",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:10,lineStyle:{color:"#f98643"},itemStyle:{color:"#f98643",borderColor:"#5f8fdf",borderWidth:3},areaStyle:{color:"rgba(255,255,255,0.2)"},animationDuration:2800,animationEasing:"cubicInOut",data:[0]}]},chartOptionOutbond:{areaColor:"#FFF",grid:{show:!1,left:"20px",right:"50px",bottom:"20px",top:"20px",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{show:!1,data:["line","bar"],textStyle:{color:"#ccc"}},xAxis:[{type:"category",boundaryGap:!1,data:[0],axisLine:{lineStyle:{color:"rgba(255,255,255,0.5)"}}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"rgba(255,255,255,0.5)"}}}],series:[{name:"Total Outbond Previous Month",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:10,lineStyle:{color:"#fff"},itemStyle:{color:"#fff",borderColor:"#5f8fdf",borderWidth:3},areaStyle:{color:"rgba(255,255,255,0.2)"},animationDuration:2800,animationEasing:"cubicInOut",data:[0]},{name:"Total Outbond This Month",type:"line",smooth:!0,showAllSymbol:!0,symbol:"emptyCircle",symbolSize:10,lineStyle:{color:"#f98643"},itemStyle:{color:"#f98643",borderColor:"#5f8fdf",borderWidth:3},areaStyle:{color:"rgba(255,255,255,0.2)"},animationDuration:2800,animationEasing:"cubicInOut",data:[0]}]},donutHsmData:{labels:[],datasets:[{data:[],backgroundColor:["#4aa0f1","#249393","#bb4c3f","#ed6c63","#97cd76","#ff8a65","#964af1","#5d4037","#00796b","#827717","#7986cb","#7f8c8d"]}]},donutHsmOptions:{segmentShowStroke:!1,responsive:!0,legend:{position:"left"},title:{display:!0,text:"Most Used Template This Month"},animation:{animateScale:!0,animateRotate:!0},plugins:{labels:{render:"value",fontSize:12,fontColor:"#ffff",fontStyle:"normal",fontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",position:"default"}}},donutDataTopHsm:{labels:[],data:[],type:"pie"},donutUniqueData:{labels:[],datasets:[{data:[],backgroundColor:["#4aa0f1","#249393","#bb4c3f","#ed6c63","#97cd76","#ff8a65","#964af1","#5d4037","#00796b","#827717","#7986cb"]}]},donutUniqueOptions:{segmentShowStroke:!1,responsive:!0,legend:{position:"left",orient:"vertical",x:"left"},title:{display:!0,text:"Total Unique User"},animation:{animateScale:!0,animateRotate:!0},plugins:{labels:{render:"value",fontSize:12,fontColor:"#fff",fontStyle:"normal",fontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",position:"default"}}},donutDataUnique:{labels:[],data:[],type:"pie",labelLine:{normal:{show:!0}},selectedMode:"single",radius:[0,"30%"]},uniqueOutboundDonuts:{labels:[],data:[],type:"pie",labelLine:{normal:{show:!0}},selectedMode:"single",radius:["50%","70%"]},uniqueOutboundData:{labels:[],datasets:[{data:[],backgroundColor:["#4aa0f2","#249393","#bb4c3f","#ed6c63","#97cd76","#ff8a65","#5d4037","#00796b","#827717","#7986cb","#964af1"]}]},uniqueOutboundOptions:{segmentShowStroke:!1,responsive:!0,legend:{onClick:function(t){},display:!0,position:"left",orient:"vertical",x:"left"},title:{display:!0,text:"Total Unique User"},animation:{animateScale:!0,animateRotate:!0,animationDelay:function(t){return 200*Math.random()}},plugins:{labels:{render:"value",fontSize:12,fontColor:"#fff",fontStyle:"normal",fontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",position:"default"}}}}},computed:{smallWidget:function(){return 970<=this.dashboardWidth&&this.dashboardWidth<=1412&&1200<=this.windowWidth}},methods:{dialogDetail:function(){this.dialogDetailOutbound=!0},overview_contact:(p=Object(m.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)({method:"get",url:"phonebook/all"}).then(function(t){t=t.data;e.totalContact=t.numRows}).catch(function(t){});case 2:this.loadingContact=!1;case 3:case"end":return t.stop()}},t,this)})),function(){return p.apply(this,arguments)}),wa_detail:(g=Object(m.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)({method:"post",url:"user/detail/number",data:{channels:"whatsapp"}}).then(function(t){e.companyPhone=t.data.data,e.selectedPhoneNumber=e.companyPhone[0]}).catch(function(t){});case 2:case"end":return t.stop()}},t)})),function(){return g.apply(this,arguments)}),wa_billing_previous_month:(h=Object(m.a)(regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)({method:"post",url:"user/overview",data:{months:this.prevMonth,with_date:!0,number:this.selectedPhoneNumber}}).then(function(t){var e,l,d,c,u,h,g,p;a.loadingData=!1,200==t.data.ec?(a.showAlertError=!1,e=t.data.data,l=new Array,d={total:new Array},c={total:new Array},u={total:new Array},h={total:new Array},g={total:new Array},p={total:new Array},new Array,y.a.forOwn(e,function(t,e){var a=w()(e).format("YYYY-MM-DD");l.push(a);var i=t.text.delivered+t.text.read+t.text.sent,n=t.text.failed+t.text.invalid;d.total.push(i+n);var o=t.image.delivered+t.image.read+t.image.sent,s=t.image.failed+t.image.invalid;c.total.push(o+s);var r=t.hsm.delivered+t.hsm.read+t.hsm.sent,e=t.hsm.failed+t.hsm.invalid;u.total.push(r+e);a=t.document.delivered+t.document.read+t.document.sent,r=t.document.failed+t.document.invalid;h.total.push(a+r);e=t.audio.delivered+t.audio.read+t.audio.sent,t=t.audio.failed+t.audio.invalid;g.total.push(e+t),p.total.push(i+o+a+e+(n+s+r+t))}),a.previousMonth.tanggal=l,a.previousMonth.textTotal=d.total,a.previousMonth.image=c,a.previousMonth.hsm=u,a.previousMonth.document=h,a.previousMonth.audio=g,a.previousMonth.outbond=p):400==t.data.ec&&"not_subscribe"==t.data.message?a.showAlertMessage=!0:500==t.data.ec&&(a.showAlertError=!0)}).catch(function(t){a.loadingData=!1,a.showAlertError=!0});case 2:this.isLoading=!1;case 3:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)}),wa_billing_current_month:(u=Object(m.a)(regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)({method:"post",url:"user/overview",data:{months:this.currentMonth,with_date:!0,number:this.selectedPhoneNumber}}).then(function(t){var e,l,d,c,u,h,g,p;a.loadingData=!1,200==t.data.ec?(a.showAlertError=!1,e=t.data.data,l=new Array,d={total:new Array},c={total:new Array},u={total:new Array},h={total:new Array},g={total:new Array},p={total:new Array},new Array,y.a.forOwn(e,function(t,e){var a=w()(e).format("YYYY-MM-DD");l.push(a);var i=t.text.delivered+t.text.read+t.text.sent,n=t.text.failed+t.text.invalid;d.total.push(i+n);var o=t.image.delivered+t.image.read+t.image.sent,s=t.image.failed+t.image.invalid;c.total.push(o+s);var r=t.hsm.delivered+t.hsm.read+t.hsm.sent,e=t.hsm.failed+t.hsm.invalid;u.total.push(r+e);a=t.document.delivered+t.document.read+t.document.sent,r=t.document.failed+t.document.invalid;h.total.push(a+r);e=t.audio.delivered+t.audio.read+t.audio.sent,t=t.audio.failed+t.audio.invalid;g.total.push(e+t),p.total.push(i+o+a+e+(n+s+r+t))}),a.thisMonth.tanggal=l,a.thisMonth.textTotal=d.total,a.thisMonth.image=c,a.thisMonth.hsm=u,a.thisMonth.document=h,a.thisMonth.audio=g,a.thisMonth.outbond=p):400==t.data.ec&&"not_subscribe"==t.data.message?a.showAlertMessage=!0:500==t.data.ec&&(a.showAlertError=!0)}).catch(function(t){a.loadingData=!1,a.showAlertError=!0});case 2:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)}),renderChart:function(){var t=Object.assign({},this.chartOptionNotification),e=Object.assign({},this.chartOptionOutbond);t.xAxis[0].data=this.thisMonth.tanggal,t.series[0].data=this.previousMonth.hsm.total,t.series[1].data=this.thisMonth.hsm.total,e.xAxis[0].data=this.thisMonth.tanggal,e.series[0].data=this.previousMonth.outbond.total,e.series[1].data=this.thisMonth.outbond.total,this.chartOptionNotification=t,this.chartOptionOutbond=e,this.isLoading=!1},getTicketPreviousMonth:(c=Object(m.a)(regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)({method:"post",url:"user/ticket",data:{month:this.prevMonthTicket}}).then(function(t){var e=t.data.data;200==t.data.ec&&(a.ticketPrevMonth.open=e.open,a.ticketPrevMonth.process=e.onproccess,a.ticketPrevMonth.close=e.close)}).catch(function(t){});case 2:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),getTicketCurrentMonth:(d=Object(m.a)(regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.a)({method:"post",url:"user/ticket",data:{month:this.currentMonthTicket}}).then(function(t){var e=t.data.data;200==t.data.ec&&(a.ticketCurrMonth.open=e.open,a.ticketCurrMonth.process=e.onproccess,a.ticketCurrMonth.close=e.close)}).catch(function(t){});case 2:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)}),getTopHsm:(l=Object(m.a)(regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading.mostTemplate=!0,t.next=3,Object(b.a)({method:"post",url:"user/top-hsm"}).then(function(t){var t=t.data.data,e=[],a=[];y.a.forEach(t,function(t){e.push(t.name.replace("hsm:","").replace("hsm_group:","")),a.push(t.total)}),i.donutDataTopHsm.labels=e,i.donutDataTopHsm.data=a}).catch(function(t){});case 3:this.renderDoughnutTopHsm(),this.loading.mostTemplate=!1;case 5:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)}),renderDoughnutTopHsm:function(){var t=Object.assign({},this.donutHsmData);t.labels=this.donutDataTopHsm.labels,t.datasets[0].data=this.donutDataTopHsm.data,this.donutHsmData=t,this.donutDataTopHsm.type="doughnut",this.isLoading=!1},getUniqueUser:(r=Object(m.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading.uniqueUser=!0,t.next=3,Object(b.a)({method:"post",url:"user/unique-user"}).then(function(t){var t=t.data.data,a=[],i=[];y.a.forEach(t,function(t){var e=w()(t.Month).format("MMMM");a.push(e),i.push(t.totalUnique)}),e.donutDataUnique.labels=a,e.donutDataUnique.data=i}).catch(function(t){});case 3:this.renderDoughnutUniqueUser(),this.loading.uniqueUser=!1;case 5:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),renderDoughnutUniqueUser:function(){var t=Object.assign({},this.donutUniqueData);t.labels=this.donutDataUnique.labels,t.datasets[0].data=this.donutDataUnique.data,this.donutUniqueData=t,this.donutDataUnique.type="doughnut",this.isLoading=!1},renderDoughnutUniqueOutbound:function(){var i=this,t=Object.assign({},this.uniqueOutboundData);t.labels=this.uniqueOutboundDonuts.labels,t.datasets[0].data=this.uniqueOutboundDonuts.data,this.uniqueOutboundData=t,this.uniqueOutboundOptions.onClick=function(t,e){var a=e[0]._view.label,e=a.substring(0,3);i.monthOfTheSelected=a;e=w()().month(e).format("YYYY-MM-DD"),a=w()(e).startOf("month").format("YYYY-MM-DD"),e=w()(e).endOf("month").format("YYYY-MM-DD");i.uniqueOutboundDetail(a,e),i.dialogDetailOutbound=!0},this.uniqueOutboundDonuts.type="doughnut",this.isLoading=!1},goToUrl:function(t){window.open(t,"_blank").focus()},fetchTicket:(s=Object(m.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading.ticket=!0,t.next=3,this.getTicketPreviousMonth();case 3:return t.next=5,this.getTicketCurrentMonth();case 5:this.loading.ticket=!1;case 6:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)}),fetchOverview:(o=Object(m.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading.overview=!0,t.next=3,this.wa_billing_previous_month();case 3:return t.next=5,this.wa_billing_current_month();case 5:return t.next=7,this.renderChart();case 7:this.loading.overview=!1;case 8:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),uniqueOutbound:(n=Object(m.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading.uniqueOutbound=!0,t.next=3,Object(b.a)({method:"get",url:"uniqueOutbound"}).then(function(t){e.loadingData=!1,e.isLoading=!1;var t=t.data.data,a=[],i=[];y.a.forEach(t,function(t){var e=w()(t.month).format("MMMM");a.push(e),i.push(t.total)}),e.uniqueOutboundDonuts.labels=a,e.uniqueOutboundDonuts.data=i}).catch(function(t){e.loadingData=!1,e.showAlertError=!0,e.showFormMessage=!1});case 3:this.renderDoughnutUniqueOutbound(),this.loading.uniqueOutbound=!1;case 5:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)}),uniqueOutboundDetail:function(t,e){var a=this;this.loadingUniqueOutboundDetail=!0,Object(b.a)({method:"get",url:"uniqueOutbound/detail",params:{user:this.user,startDate:t,endDate:e}}).then(function(t){a.outbondDetail=t.data.data.result.data,a.loadingUniqueOutboundDetail=!1}).catch(function(t){a.$message({showClose:!0,message:"Cannot get unique user detail",type:"error"})})}},mounted:(i=Object(m.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wa_detail();case 2:this.fetchOverview(),this.fetchTicket(),this.getTopHsm(),this.uniqueOutbound();case 6:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},m=(a("9c5d"),a("7d56"),a("2877")),x=Object(m.a)(x,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"scrollable only-y"},[e.showAlertMessage?t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],attrs:{align:"center"}},[t("h2",[e._v("Start messaging your customers today")]),t("span",{domProps:{innerHTML:e._s(e.$t("promote.desc.whatsapp"))}}),t("br"),t("br"),t("span",[t("el-button",{on:{click:function(t){return e.mailto()}}},[e._v("Send us e-mail")])],1)]):t("el-row",{attrs:{gutter:30}},[t("el-dialog",{attrs:{title:"Unique User Detail on "+e.monthOfTheSelected,visible:e.dialogDetailOutbound},on:{"update:visible":function(t){e.dialogDetailOutbound=t}}},[[""==e.outbondDetail?t("p",{attrs:{align:"center"}},[t("img",{attrs:{src:a("e44b"),width:"250px"}})]):t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingUniqueOutboundDetail,expression:"loadingUniqueOutboundDetail"}],staticStyle:{width:"100%"},attrs:{data:e.outbondDetail}},[t("el-table-column",{attrs:{prop:"to",label:"Number"}}),t("el-table-column",{attrs:{prop:"total",label:"Total"}})],1)]],2),t("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[t("div",{staticClass:"page-header header-accent card-base card-shadow--medium gradient-api"},[t("img",{staticClass:"float-image",attrs:{src:a("7b33"),width:"250px"}}),t("h2",{staticClass:"no-m white-text"},[e._v(e._s(e.$t("dashboard.documentation")))]),t("h4",{staticClass:"o-090"},[e._v(e._s(e.$t("dashboard.documentation_description")))]),t("el-button",{staticClass:"accent-text mt-20",attrs:{round:""},on:{click:function(t){return e.goToUrl(e.config.documentation)}}},[e._v(e._s(e.$t("dashboard.documentation_button")))])],1),e.showAlertError?t("error-gope-siji",{staticStyle:{"margin-bottom":"1em"}}):e._e(),e.showAlertError?e._e():t("div",{staticClass:"page-header card-base card-shadow--medium"},[t("h2",{staticClass:"no-m"},[e._v(e._s(e.$t("dashboard.setup")))]),t("el-row",{attrs:{gutter:30}},[t("el-col",{staticClass:"mt-30",attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.mostTemplate,expression:"loading.mostTemplate"}],staticClass:"card-base card-shadow--medium p-10"},[t("chart",{attrs:{type:e.donutDataTopHsm.type,data:e.donutHsmData,options:e.donutHsmOptions}})],1)]),t("el-col",{staticClass:"mt-30",attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.uniqueOutbound,expression:"loading.uniqueOutbound"}],staticClass:"card-base card-shadow--medium p-10"},[t("chart",{attrs:{type:e.uniqueOutboundDonuts.type,data:e.uniqueOutboundData,options:e.uniqueOutboundOptions}})],1)]),t("el-col",{staticClass:"mt-20",attrs:{xs:12,sm:12,md:12,lg:12,xl:4}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ticket,expression:"loading.ticket"}],staticClass:"card-base card-shadow--medium mb-30 widget small-widget"},[t("div",{staticClass:"widget-header ph-20 pt-20"},[t("div",{staticClass:"flex justify-center align-center"},[t("div",{staticClass:"widget-icon-box mr-20 animated fadeInRight"},[t("i",{staticClass:"widget-icon mdi mdi-email-alert accent-text fs-30"}),t("div",{staticClass:"badge-box"})]),t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Open Ticket")])])]),t("div",{staticClass:"flex justify-center align-center mb-20"},[t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft mr-10"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Prev Month")]),t("h2",{staticClass:"m-0 text-truncate ml-40"},[e._v(e._s(e.ticketPrevMonth.open.toLocaleString("id",{minimumFractionDigits:0==Number.isInteger(e.ticketPrevMonth.open)?4:void 0})))])])])]),t(e.asyncComponent,{tag:"component",attrs:{type:"bar",options:{width:"100%",height:80,fill:["#129393"]},data:[3,5,2,3,4,7,2,8,4,5,4,6,9,8,10,6,5,10,7,4].toString()}})],1)]),t("el-col",{staticClass:"mt-20",attrs:{xs:12,sm:12,md:12,lg:12,xl:4}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ticket,expression:"loading.ticket"}],staticClass:"card-base card-shadow--medium mb-30 widget small-widget"},[t("div",{staticClass:"widget-header ph-20 pt-20"},[t("div",{staticClass:"flex justify-center align-center"},[t("div",{staticClass:"widget-icon-box mr-20 animated fadeInRight"},[t("i",{staticClass:"widget-icon mdi mdi-email-alert accent-text fs-30"}),t("div",{staticClass:"badge-box"})]),t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Open Ticket")])])]),t("div",{staticClass:"flex justify-center align-center mb-20"},[t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft mr-10"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Current Month")]),t("h2",{staticClass:"m-0 text-truncate ml-40"},[e._v(e._s(e.ticketCurrMonth.open.toLocaleString("id",{minimumFractionDigits:0==Number.isInteger(e.ticketCurrMonth.open)?4:void 0})))])])])]),t(e.asyncComponent,{tag:"component",attrs:{type:"bar",options:{width:"100%",height:80,fill:["#000000"]},data:[3,5,2,3,4,7,2,8,4,5,4,6,9,8,10,6,5,10,7,4].toString()}})],1)]),t("el-col",{staticClass:"mt-20",attrs:{xs:12,sm:12,md:12,lg:12,xl:4}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ticket,expression:"loading.ticket"}],staticClass:"card-base card-shadow--medium mb-30 widget small-widget"},[t("div",{staticClass:"widget-header ph-20 pt-20"},[t("div",{staticClass:"flex justify-center align-center"},[t("div",{staticClass:"widget-icon-box mr-20 animated fadeInRight"},[t("i",{staticClass:"widget-icon mdi mdi-email-open accent-text fs-30"}),t("div",{staticClass:"badge-box"})]),t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Process Ticket")])])]),t("div",{staticClass:"flex justify-center align-center mb-20"},[t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft mr-10"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Previous Month")]),t("h2",{staticClass:"m-0 text-truncate ml-40"},[e._v(e._s(e.ticketPrevMonth.process.toLocaleString("id",{minimumFractionDigits:0==Number.isInteger(e.ticketPrevMonth.process)?4:void 0})))])])])]),t(e.asyncComponent,{tag:"component",attrs:{type:"bar",options:{width:"100%",height:80,fill:["#129393"]},data:[3,5,2,3,4,7,2,8,4,5,4,6,9,8,10,6,5,10,7,4].toString()}})],1)]),t("el-col",{staticClass:"mt-20",attrs:{xs:12,sm:12,md:12,lg:12,xl:4}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ticket,expression:"loading.ticket"}],staticClass:"card-base card-shadow--medium mb-30 widget small-widget"},[t("div",{staticClass:"widget-header ph-20 pt-20"},[t("div",{staticClass:"flex justify-center align-center"},[t("div",{staticClass:"widget-icon-box mr-20 animated fadeInRight"},[t("i",{staticClass:"widget-icon mdi mdi-email-open accent-text fs-30"}),t("div",{staticClass:"badge-box"})]),t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Process Ticket")])])]),t("div",{staticClass:"flex justify-center align-center mb-20"},[t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft mr-10"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Current Month")]),t("h2",{staticClass:"m-0 text-truncate ml-40"},[e._v(e._s(e.ticketCurrMonth.process.toLocaleString("id",{minimumFractionDigits:0==Number.isInteger(e.ticketCurrMonth.process)?4:void 0})))])])])]),t(e.asyncComponent,{tag:"component",attrs:{type:"bar",options:{width:"100%",height:80,fill:["#000000"]},data:[3,5,2,3,4,7,2,8,4,5,4,6,9,8,10,6,5,10,7,4].toString()}})],1)]),t("el-col",{staticClass:"mt-20",attrs:{xs:12,sm:12,md:12,lg:12,xl:4}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ticket,expression:"loading.ticket"}],staticClass:"card-base card-shadow--medium mb-30 widget small-widget"},[t("div",{staticClass:"widget-header ph-20 pt-20"},[t("div",{staticClass:"flex justify-center align-center"},[t("div",{staticClass:"widget-icon-box mr-20 animated fadeInRight"},[t("i",{staticClass:"widget-icon mdi mdi-email-secure accent-text fs-30"}),t("div",{staticClass:"badge-box"})]),t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Closed Ticket")])])]),t("div",{staticClass:"flex justify-center align-center mb-20"},[t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft mr-10"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Previous Month")]),t("h2",{staticClass:"m-0 text-truncate ml-40"},[e._v(e._s(e.ticketPrevMonth.close.toLocaleString("id",{minimumFractionDigits:0==Number.isInteger(e.ticketPrevMonth.close)?4:void 0})))])])])]),t(e.asyncComponent,{tag:"component",attrs:{type:"bar",options:{width:"100%",height:80,fill:["#129393"]},data:[3,5,2,3,4,7,2,8,4,5,4,6,9,8,10,6,5,10,7,4].toString()}})],1)]),t("el-col",{staticClass:"mt-20",attrs:{xs:12,sm:12,md:12,lg:12,xl:4}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.ticket,expression:"loading.ticket"}],staticClass:"card-base card-shadow--medium mb-30 widget small-widget"},[t("div",{staticClass:"widget-header ph-20 pt-20"},[t("div",{staticClass:"flex justify-center align-center"},[t("div",{staticClass:"widget-icon-box mr-20 animated fadeInRight"},[t("i",{staticClass:"widget-icon mdi mdi-email-secure accent-text fs-30"}),t("div",{staticClass:"badge-box"})]),t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Closed Ticket")])])]),t("div",{staticClass:"flex justify-center align-center mb-20"},[t("div",{staticClass:"widget-info box grow text-truncate animated fadeInLeft mr-10"},[t("div",{staticClass:"o-050 widget-title text-truncate pt-5 pb-10"},[e._v("Current Month")]),t("h2",{staticClass:"m-0 text-truncate ml-40"},[e._v(e._s(e.ticketCurrMonth.close.toLocaleString("id",{minimumFractionDigits:0==Number.isInteger(e.ticketCurrMonth.close)?4:void 0})))])])])]),t(e.asyncComponent,{tag:"component",attrs:{type:"bar",options:{width:"100%",height:80,fill:["#000000"]},data:[3,5,2,3,4,7,2,8,4,5,4,6,9,8,10,6,5,10,7,4].toString()}})],1)]),t("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.overview,expression:"loading.overview"}],staticClass:"card-base bg-accent card-shadow--medium p-10"},[t("h3",{staticClass:"mt-0 mb-40 white-text o-050 animated slideInUp"},[e._v("Total Notification")]),t("div",{directives:[{name:"echarts",rawName:"v-echarts",value:e.chartOptionNotification,expression:"chartOptionNotification"}],staticClass:"chart"})])]),t("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.overview,expression:"loading.overview"}],staticClass:"card-base bg-accent card-shadow--medium p-10"},[t("h3",{staticClass:"mt-0 mb-40 white-text o-050 animated slideInUp"},[e._v("Total Outbond")]),t("div",{directives:[{name:"echarts",rawName:"v-echarts",value:e.chartOptionOutbond,expression:"chartOptionOutbond"}],staticClass:"chart"})])])],1)],1)],1)],1)],1)},[],!1,null,"1b95d7a8",null);e.default=x.exports},ff2e6:function(t,e,a){}}]);