(window.webpackJsonp=window.webpackJsonp||[]).push([["register-invite"],{"0b3e":function(t,e,r){"use strict";r.r(e);var s,a,o=(r("7f7f"),r("3b2b"),r("96cf"),r("3b8d")),n=r("271f"),i=r("db49"),c=new(r("5928"))({b:512}).importKey(i.a.privateKey,"pkcs1-public-pem"),l={name:"Register",data:function(){return{form:{name:"",username:"",email:"",password:"",password_confirm:""},passwordStrength:{value:0,color:"exception"},customer:"",loadingReg:!1,windowWidth:window.innerWidth}},methods:{emailValid:function(t){return/^([A-Za-z0-9_\-.+])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/.test(t)},login:function(){this.$store.commit("setLogout"),this.$router.push("/login")},toLanding:function(){window.open("https://damcorp.id")},invitedData:(a=Object(o.a)(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(n.a)({method:"get",url:i.a.baseApi+"auth/invite/"+this.$route.params.code}).then(function(t){200==t.data.ec?e.form.email=t.data.data.detail.invited_email:500==t.data.ec?e.$swal({title:e.$t("error"),text:e.$t("error_text"),type:"warning"}):e.$swal({title:e.$t("error"),text:e.$t("register.".concat(t.data.message)),type:"warning"})}).catch(function(t){e.$swal({title:e.$t("error"),text:e.$t("error_text"),type:"danger"})});case 2:this.loadingReg=!1;case 3:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),register:(s=Object(o.a)(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[!@#$%^&*]))|((?=.*[A-Z])(?=.*[!@#$%^&*])))(?=.{6,})"),this.form.password.length<8||0==e.test(this.form.password))return this.$swal({title:this.$t("error"),text:this.form.password.length<8?this.$t("register.invalid_length"):this.$t("register.not_strong"),type:"warning"}),t.abrupt("return");t.next=4;break;case 4:if(this.form.password!=this.form.password_confirm)return this.$swal({title:this.$t("error"),text:this.$t("register.password_not_match"),type:"warning"}),t.abrupt("return");t.next=7;break;case 7:if(0==this.emailValid(this.form.email))return this.$swal({title:this.$t("error"),text:this.$t("register.email_not_valid"),type:"warning"}),t.abrupt("return");t.next=10;break;case 10:return this.loadingReg=!0,t.next=13,Object(n.a)({method:"post",url:i.a.baseApi+"auth/invite/"+this.$route.params.code,data:{name:this.form.name,username:this.form.username,email:this.form.email,password:c.encrypt(this.form.password,"base64")}}).then(function(t){200==t.data.ec?r.$swal({title:r.$t("success"),text:r.$t("register.".concat(t.data.message)),type:"success"}).then(function(t){r.$store.commit("setLogout"),r.$router.push("/login")}):500==t.data.ec?r.$swal({title:r.$t("error"),text:r.$t("error_text"),type:"warning"}):r.$swal({title:r.$t("error"),text:r.$t("register.".concat(t.data.message)),type:"warning"})}).catch(function(t){r.$swal({title:r.$t("error"),text:r.$t("error_text"),type:"danger"})});case 13:this.loadingReg=!1;case 14:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)})},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("resize",function(){t.windowWidth=window.innerWidth}),t.invitedData()})},computed:{watchPasword:function(){return this.form.password}},watch:{watchPasword:function(){var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{6,})"),r=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[!@#$%^&*]))|((?=.*[A-Z])(?=.*[!@#$%^&*])))(?=.{6,})");t.test(this.form.password)?(this.passwordStrength.value=100,this.passwordStrength.color="success"):e.test(this.form.password)?(this.passwordStrength.value=80,this.passwordStrength.color="success"):r.test(this.form.password)?(this.passwordStrength.value=60,this.passwordStrength.color="warning"):(this.passwordStrength.value=this.form.password.length<=4?10*this.form.password.length:40,this.passwordStrength.color="exception")}}},o=(r("591b"),r("83af"),r("2877")),l=Object(o.a)(l,function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{staticClass:"scrollable only-y register-page align-vertical"},[t("div",{staticClass:"form-wrapper align-vertical-middle"},[t("div",{staticClass:"form-box card-base card-shadow--extraLarge"},[t("el-row",{staticClass:"no-p no-m",staticStyle:{height:"590px"},attrs:{gutter:30}},[t("el-col",{staticClass:"tab-invert bg-primary p-30",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("img",{staticClass:"image-logo",attrs:{src:r("9d64"),alt:"logo"}}),992<=e.windowWidth?[t("p",{staticClass:"text-center white-text pt-120"},[e._v(e._s(e.$t("register.have_account")))]),t("div",{staticClass:"text-center pb-100"},[t("el-button",{staticClass:"accent-text mt-20",attrs:{round:""},on:{click:e.login}},[e._v(e._s(e.$t("login.login")))]),t("p",{staticClass:"text-center white-text"},[e._v("- or -")]),t("el-button",{staticClass:"accent-text",attrs:{round:""},on:{click:e.toLanding}},[e._v("Visit Our Website")])],1)]:e._e()],2),t("el-col",{staticClass:"p-30",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("h1",{staticClass:"mt-0 mb-10"},[e._v("Register")]),t("p",{staticClass:"pb-30"},[e._v(e._s(e.$t("register.request_field")))]),t("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t("float-label",{staticClass:"styled"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{required:"",type:"text",placeholder:"Your Name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),t("float-label",{staticClass:"styled"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],attrs:{required:"",type:"text",placeholder:"Username"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}})]),t("float-label",{staticClass:"styled"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{required:"",type:"email",readonly:"",placeholder:"E-mail"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),t("float-label",{staticClass:"styled"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{required:"",type:"password",placeholder:"Password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),t("small",[e._v("Password strength:")]),t("el-progress",{attrs:{"show-text":!1,percentage:e.passwordStrength.value,status:e.passwordStrength.color}})],1),t("float-label",{staticClass:"styled"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password_confirm,expression:"form.password_confirm"}],attrs:{required:"",type:"password",placeholder:"Password (confirm)"},domProps:{value:e.form.password_confirm},on:{input:function(t){t.target.composing||e.$set(e.form,"password_confirm",t.target.value)}}})]),t("div",{staticClass:"flex text-center center pt-30 pb-20"},[t("el-button",{staticClass:"signin-btn tada animated",attrs:{round:"","native-type":"submit",loading:e.loadingReg}},[e._v(" "+e._s(e.$t("register.register"))+" ")])],1)],1)]),e.windowWidth<992?t("el-col",{staticClass:"tab-invert bg-primary p-30",attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[t("p",{staticClass:"text-center white-text no-m"},[e._v(e._s(e.$t("register.have_account")))]),t("div",{staticClass:"text-center"},[t("el-button",{staticClass:"accent-text mt-20",attrs:{round:""},on:{click:e.login}},[e._v(e._s(e.$t("login.login")))]),t("p",{staticClass:"text-center white-text"},[e._v("- or -")]),t("el-button",{staticClass:"accent-text",attrs:{round:""},on:{click:e.toLanding}},[e._v("Visit Our Website")])],1)]):e._e()],1)],1)])])},[],!1,null,"15af800c",null);e.default=l.exports},"0dce":function(t,e,r){},"3b2b":function(t,e,r){var s=r("7726"),o=r("5dbc"),a=r("86cc").f,n=r("9093").f,i=r("aae3e"),c=r("0bfb"),l=f=s.RegExp,u=f.prototype,p=/a/g,d=/a/g,m=new f(p)!==p;if(r("9e1e")&&(!m||r("79e5")(function(){return d[r("2b4c")("match")]=!1,f(p)!=p||f(d)==d||"/a/i"!=f(p,"i")}))){for(var f=function(t,e){var r=this instanceof f,s=i(t),a=void 0===e;return!r&&s&&t.constructor===f&&a?t:o(m?new l(s&&!a?t.source:t,e):l((s=t instanceof f)?t.source:t,s&&a?c.call(t):e),r?this:u,f)},g=n(l),h=0;g.length>h;)!function(e){e in f||a(f,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(g[h++]);(u.constructor=f).prototype=u,r("2aba")(s,"RegExp",f)}r("7a56")("RegExp")},"591b":function(t,e,r){"use strict";r("f3e6")},"5dbc":function(t,e,r){var a=r("d3f4"),o=r("8b97").set;t.exports=function(t,e,r){var s,e=e.constructor;return e!==r&&"function"==typeof e&&(s=e.prototype)!==r.prototype&&a(s)&&o&&o(t,s),t}},"83af":function(t,e,r){"use strict";r("0dce")},"8b97":function(t,e,a){function o(t,e){if(s(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var r=a("d3f4"),s=a("cb7c");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,s){try{(s=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2))(t,[]),r=!(t instanceof Array)}catch(t){r=!0}return function(t,e){return o(t,e),r?t.__proto__=e:s(t,e),t}}({},!1):void 0),check:o}},aae3e:function(t,e,r){var s=r("d3f4"),a=r("2d95"),o=r("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},f3e6:function(t,e,r){}}]);