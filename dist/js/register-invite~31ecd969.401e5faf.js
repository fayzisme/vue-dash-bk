(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register-invite~31ecd969"],{"0b3e":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrollable only-y register-page align-vertical"},[a("div",{staticClass:"form-wrapper align-vertical-middle"},[a("div",{staticClass:"form-box card-base card-shadow--extraLarge"},[a("el-row",{staticClass:"no-p no-m",staticStyle:{height:"590px"},attrs:{gutter:30}},[a("el-col",{staticClass:"tab-invert bg-primary p-30",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("img",{staticClass:"image-logo",attrs:{src:r("9d64"),alt:"logo"}}),t.windowWidth>=992?[a("p",{staticClass:"text-center white-text pt-120"},[t._v(t._s(t.$t("register.have_account")))]),a("div",{staticClass:"text-center pb-100"},[a("el-button",{staticClass:"accent-text mt-20",attrs:{round:""},on:{click:t.login}},[t._v(t._s(t.$t("login.login")))]),a("p",{staticClass:"text-center white-text"},[t._v("- or -")]),a("el-button",{staticClass:"accent-text",attrs:{round:""},on:{click:t.toLanding}},[t._v("Visit Our Website")])],1)]:t._e()],2),a("el-col",{staticClass:"p-30",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("h1",{staticClass:"mt-0 mb-10"},[t._v("Register")]),a("p",{staticClass:"pb-30"},[t._v(t._s(t.$t("register.request_field")))]),a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[a("float-label",{staticClass:"styled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],attrs:{required:"",type:"text",placeholder:"Your Name"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),a("float-label",{staticClass:"styled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{required:"",type:"text",placeholder:"Username"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),a("float-label",{staticClass:"styled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{required:"",type:"email",readonly:"",placeholder:"E-mail"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("float-label",{staticClass:"styled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{required:"",type:"password",placeholder:"Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),a("small",[t._v("Password strength:")]),a("el-progress",{attrs:{"show-text":!1,percentage:t.passwordStrength.value,status:t.passwordStrength.color}})],1),a("float-label",{staticClass:"styled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password_confirm,expression:"form.password_confirm"}],attrs:{required:"",type:"password",placeholder:"Password (confirm)"},domProps:{value:t.form.password_confirm},on:{input:function(e){e.target.composing||t.$set(t.form,"password_confirm",e.target.value)}}})]),a("div",{staticClass:"flex text-center center pt-30 pb-20"},[a("el-button",{staticClass:"signin-btn tada animated",attrs:{round:"","native-type":"submit",loading:t.loadingReg}},[t._v(" "+t._s(t.$t("register.register"))+" ")])],1)],1)]),t.windowWidth<992?a("el-col",{staticClass:"tab-invert bg-primary p-30",attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[a("p",{staticClass:"text-center white-text no-m"},[t._v(t._s(t.$t("register.have_account")))]),a("div",{staticClass:"text-center"},[a("el-button",{staticClass:"accent-text mt-20",attrs:{round:""},on:{click:t.login}},[t._v(t._s(t.$t("login.login")))]),a("p",{staticClass:"text-center white-text"},[t._v("- or -")]),a("el-button",{staticClass:"accent-text",attrs:{round:""},on:{click:t.toLanding}},[t._v("Visit Our Website")])],1)]):t._e()],1)],1)])])},s=[],n=(r("7f7f"),r("3b2b"),r("96cf"),r("1da1")),o=r("271f"),i=r("db49"),c=r("5928"),l=new c({b:512}),u=l.importKey(i["a"].privateKey,"pkcs1-public-pem"),d={name:"Register",data:function(){return{form:{name:"",username:"",email:"",password:"",password_confirm:""},passwordStrength:{value:0,color:"exception"},customer:"",loadingReg:!1,windowWidth:window.innerWidth}},methods:{emailValid:function(t){var e=/^([A-Za-z0-9_\-.+])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,})$/;return e.test(t)},login:function(){this.$store.commit("setLogout"),this.$router.push("/login")},toLanding:function(){window.open("https://damcorp.id")},invitedData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])({method:"get",url:i["a"].baseApi+"auth/invite/"+this.$route.params.code}).then((function(t){200==t.data.ec?e.form.email=t.data.data.detail.invited_email:500==t.data.ec?e.$swal({title:e.$t("error"),text:e.$t("error_text"),type:"warning"}):e.$swal({title:e.$t("error"),text:e.$t("register.".concat(t.data.message)),type:"warning"})})).catch((function(t){e.$swal({title:e.$t("error"),text:e.$t("error_text"),type:"danger"})}));case 2:this.loadingReg=!1;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[!@#$%^&*]))|((?=.*[A-Z])(?=.*[!@#$%^&*])))(?=.{6,})"),!(this.form.password.length<8||0==e.test(this.form.password))){t.next=4;break}return this.$swal({title:this.$t("error"),text:this.form.password.length<8?this.$t("register.invalid_length"):this.$t("register.not_strong"),type:"warning"}),t.abrupt("return");case 4:if(this.form.password==this.form.password_confirm){t.next=7;break}return this.$swal({title:this.$t("error"),text:this.$t("register.password_not_match"),type:"warning"}),t.abrupt("return");case 7:if(0!=this.emailValid(this.form.email)){t.next=10;break}return this.$swal({title:this.$t("error"),text:this.$t("register.email_not_valid"),type:"warning"}),t.abrupt("return");case 10:return this.loadingReg=!0,t.next=13,Object(o["a"])({method:"post",url:i["a"].baseApi+"auth/invite/"+this.$route.params.code,data:{name:this.form.name,username:this.form.username,email:this.form.email,password:u.encrypt(this.form.password,"base64")}}).then((function(t){200==t.data.ec?r.$swal({title:r.$t("success"),text:r.$t("register.".concat(t.data.message)),type:"success"}).then((function(t){r.$store.commit("setLogout"),r.$router.push("/login")})):500==t.data.ec?r.$swal({title:r.$t("error"),text:r.$t("error_text"),type:"warning"}):r.$swal({title:r.$t("error"),text:r.$t("register.".concat(t.data.message)),type:"warning"})})).catch((function(t){r.$swal({title:r.$t("error"),text:r.$t("error_text"),type:"danger"})}));case 13:this.loadingReg=!1;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;this.$nextTick((function(){window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth})),t.invitedData()}))},computed:{watchPasword:function(){return this.form.password}},watch:{watchPasword:function(){var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{6,})"),r=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[!@#$%^&*]))|((?=.*[A-Z])(?=.*[!@#$%^&*])))(?=.{6,})");t.test(this.form.password)?(this.passwordStrength.value=100,this.passwordStrength.color="success"):e.test(this.form.password)?(this.passwordStrength.value=80,this.passwordStrength.color="success"):r.test(this.form.password)?(this.passwordStrength.value=60,this.passwordStrength.color="warning"):(this.passwordStrength.value=this.form.password.length<=4?10*this.form.password.length:40,this.passwordStrength.color="exception")}}},p=d,m=(r("591b"),r("83af"),r("2877")),f=Object(m["a"])(p,a,s,!1,null,"15af800c",null);e["default"]=f.exports},"0dce":function(t,e,r){},"3b2b":function(t,e,r){var a=r("7726"),s=r("5dbc"),n=r("86cc").f,o=r("9093").f,i=r("aae3e"),c=r("0bfb"),l=a.RegExp,u=l,d=l.prototype,p=/a/g,m=/a/g,f=new l(p)!==p;if(r("9e1e")&&(!f||r("79e5")((function(){return m[r("2b4c")("match")]=!1,l(p)!=p||l(m)==m||"/a/i"!=l(p,"i")})))){l=function(t,e){var r=this instanceof l,a=i(t),n=void 0===e;return!r&&a&&t.constructor===l&&n?t:s(f?new u(a&&!n?t.source:t,e):u((a=t instanceof l)?t.source:t,a&&n?c.call(t):e),r?this:d,l)};for(var g=function(t){t in l||n(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},h=o(u),w=0;h.length>w;)g(h[w++]);d.constructor=l,l.prototype=d,r("2aba")(a,"RegExp",l)}r("7a56")("RegExp")},"591b":function(t,e,r){"use strict";r("f3e6")},"5dbc":function(t,e,r){var a=r("d3f4"),s=r("8b97").set;t.exports=function(t,e,r){var n,o=e.constructor;return o!==r&&"function"==typeof o&&(n=o.prototype)!==r.prototype&&a(n)&&s&&s(t,n),t}},"83af":function(t,e,r){"use strict";r("0dce")},"8b97":function(t,e,r){var a=r("d3f4"),s=r("cb7c"),n=function(t,e){if(s(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,r){return n(t,r),e?t.__proto__=r:a(t,r),t}}({},!1):void 0),check:n}},aae3e:function(t,e,r){var a=r("d3f4"),s=r("2d95"),n=r("2b4c")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},f3e6:function(t,e,r){}}]);