(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reset-password~31ecd969"],{"1d7d":function(t,e,r){},"3b2b":function(t,e,r){var s=r("7726"),a=r("5dbc"),o=r("86cc").f,n=r("9093").f,i=r("aae3e"),c=r("0bfb"),p=s.RegExp,d=p,u=p.prototype,l=/a/g,f=/a/g,w=new p(l)!==l;if(r("9e1e")&&(!w||r("79e5")((function(){return f[r("2b4c")("match")]=!1,p(l)!=l||p(f)==f||"/a/i"!=p(l,"i")})))){p=function(t,e){var r=this instanceof p,s=i(t),o=void 0===e;return!r&&s&&t.constructor===p&&o?t:a(w?new d(s&&!o?t.source:t,e):d((s=t instanceof p)?t.source:t,s&&o?c.call(t):e),r?this:u,p)};for(var h=function(t){t in p||o(p,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},m=n(d),g=0;m.length>g;)h(m[g++]);u.constructor=p,p.prototype=u,r("2aba")(s,"RegExp",p)}r("7a56")("RegExp")},"565d":function(t,e,r){},"5b96":function(t,e,r){"use strict";r("1d7d")},"5dbc":function(t,e,r){var s=r("d3f4"),a=r("8b97").set;t.exports=function(t,e,r){var o,n=e.constructor;return n!==r&&"function"==typeof n&&(o=n.prototype)!==r.prototype&&s(o)&&a&&a(t,o),t}},"5dd8":function(t,e,r){"use strict";r("565d")},"8b97":function(t,e,r){var s=r("d3f4"),a=r("cb7c"),o=function(t,e){if(a(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:s(t,r),t}}({},!1):void 0),check:o}},aae3e:function(t,e,r){var s=r("d3f4"),a=r("2d95"),o=r("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},f991:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scrollable only-y reset-password-page align-vertical"},[s("div",{staticClass:"form-wrapper align-vertical-middle"},[s("div",{staticClass:"form-box card-base card-shadow--extraLarge"},[s("el-row",{staticClass:"no-p no-m",attrs:{gutter:30}},[s("el-col",{staticClass:"tab-invert bg-primary p-30",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[s("img",{staticClass:"image-logo",attrs:{src:r("9d64"),alt:"logo"}})]),s("el-col",{staticClass:"p-30",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[s("h1",{staticClass:"mt-0 mb-10"},[t._v(t._s(t.$t("reset_password.reset_password")))]),s("p",{staticClass:"pb-30"},[t._v(t._s(t.$t("reset_password.desc")))]),s("float-label",{staticClass:"styled"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"New Password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),s("small",[t._v("Password strength:")]),s("el-progress",{attrs:{"show-text":!1,percentage:t.passwordStrength.value,status:t.passwordStrength.color}})],1),s("float-label",{staticClass:"styled"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.conf_password,expression:"form.conf_password"}],attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:t.form.conf_password},on:{input:function(e){e.target.composing||t.$set(t.form,"conf_password",e.target.value)}}})]),s("div",{staticClass:"flex text-center center pt-30 pb-20"},[s("el-button",{staticClass:"send-btn tada animated",attrs:{loading:t.btnLoading,round:""},on:{click:t.update_password}},[t._v(" "+t._s(t.$t("reset_password.update_password"))+" ")])],1)],1)],1)],1)])])},a=[],o=(r("3b2b"),r("96cf"),r("1da1")),n=r("271f"),i=r("db49"),c=r("5928"),p=new c({b:512}),d=p.importKey(i["a"].privateKey,"pkcs1-public-pem"),u={name:"ResetPassword",data:function(){return{form:{conf_password:"",password:""},passwordStrength:{value:0,color:"exception"},btnLoading:!1}},methods:{reset:function(){},update_password:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[!@#$%^&*]))|((?=.*[A-Z])(?=.*[!@#$%^&*])))(?=.{6,})"),!(this.form.password.length<8||0==e.test(this.form.password))){t.next=4;break}return this.$swal({title:this.$t("error"),text:this.form.password.length<8?this.$t("register.invalid_length"):this.$t("register.not_strong"),type:"warning"}),t.abrupt("return");case 4:if(this.btnLoading=!0,""==this.form.conf_password||""==this.form.password){t.next=14;break}if(this.form.conf_password!=this.form.password){t.next=11;break}return t.next=9,Object(n["a"])({method:"post",url:i["a"].baseApi+"auth/reset-password/"+this.$route.params.verify_code,data:{password:d.encrypt(this.form.password,"base64"),conf_password:d.encrypt(this.form.conf_password,"base64")}}).then((function(t){200==t.data.ec?r.$swal({title:r.$t("success"),text:r.$t("reset_password.".concat(t.data.message)),type:"success"}).then((function(t){r.$router.push("/login")})):r.$swal({title:r.$t("error"),text:r.$t("error_text"),type:"warning"})})).catch((function(t){r.$swal({title:r.$t("error"),text:r.$t("error_text"),type:"warning"})}));case 9:t.next=12;break;case 11:this.$swal({title:this.$t("error"),text:this.$t("reset_password.password_not_match"),type:"warning"});case 12:t.next=15;break;case 14:this.$swal({title:this.$t("error"),text:this.$t("reset_password.invalid_parameter"),type:"warning"});case 15:this.btnLoading=!1;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),check_code:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["a"])({method:"get",url:i["a"].baseApi+"auth/check-reset-token/"+this.$route.params.verify_code}).then((function(t){200==t.data.ec||e.$router.push("/forgot-password")})).catch((function(t){e.$router.push("/forgot-password")}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},beforeMount:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.check_code();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{watchPasword:function(){return this.form.password}},watch:{watchPasword:function(){var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),e=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{6,})"),r=new RegExp("^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[!@#$%^&*]))|((?=.*[A-Z])(?=.*[!@#$%^&*])))(?=.{6,})");t.test(this.form.password)?(this.passwordStrength.value=100,this.passwordStrength.color="success"):e.test(this.form.password)?(this.passwordStrength.value=80,this.passwordStrength.color="success"):r.test(this.form.password)?(this.passwordStrength.value=60,this.passwordStrength.color="warning"):(this.passwordStrength.value=this.form.password.length<=4?10*this.form.password.length:40,this.passwordStrength.color="exception")}}},l=u,f=(r("5b96"),r("5dd8"),r("2877")),w=Object(f["a"])(l,s,a,!1,null,"74196951",null);e["default"]=w.exports}}]);