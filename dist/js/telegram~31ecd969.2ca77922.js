(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["telegram~31ecd969"],{2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("6b75");function r(t){if(Array.isArray(t))return Object(a["a"])(t)}function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var s=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(s["a"])(t)||o()}},"70bd":function(t,e,n){"use strict";n("9565")},"77f9":function(t,e,n){t.exports=n.p+"media/notif-bell.d8653ed1.wav"},"7acd":function(t,e,n){t.exports=n.p+"img/chat-bg.8bc104bf.png"},"84c1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPage,expression:"loadingPage"}],staticClass:"scrollable only-y"},[a("div",{staticClass:"page-header"},[a("h1",[t._v(t._s(t.$t("menu.helpdesk_tele")))])]),t.showAlertError?a("el-card",{staticStyle:{"margin-bottom":"1em"}},[a("error-gope-siji")],1):t._e(),t.showAlertTicket?a("el-card",{attrs:{align:"center"}},[a("h2",{attrs:{align:"center"}},[t._v("Start messaging your customers today")]),a("p",{domProps:{innerHTML:t._s(t.$t("promote.desc.whatsapp"))}}),a("br"),a("br"),a("span",[a("el-button",{on:{click:function(e){return t.mailto()}}},[t._v("Send us e-mail")])],1)]):t._e(),t.showTicket?a("div",[a("el-dialog",{attrs:{title:"Reach Consumen",visible:t.showDialogReachCons,"before-close":t.resetHsm,width:"60%"},on:{"update:visible":function(e){t.showDialogReachCons=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDialogReach,expression:"loadingDialogReach"}]},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("To")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"text",readonly:"",disabled:""},model:{value:t.dataSendHsm.to,callback:function(e){t.$set(t.dataSendHsm,"to",e)},expression:"dataSendHsm.to"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Template")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-select",{on:{change:t.resetTemplate},model:{value:t.choose_template,callback:function(e){t.choose_template=e},expression:"choose_template"}},[a("el-option",{attrs:{label:"No Template",value:""}}),t._l(t.hsmList,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],2)],1)],1),t._l(t.paramCount,(function(e){return t.choose_template?a("el-row",{key:e,attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Param "+t._s(e))])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"text"},model:{value:t.param[e-1],callback:function(n){t.$set(t.param,e-1,n)},expression:"param[i-1]"}})],1)],1):t._e()})),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Message")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"textarea",value:t.parsingData(t.choose_template,t.param),rows:"8",readonly:""}}),t.choose_template?a("p",{staticClass:"float-right m-0"},[t._v(t._s(t.parsingData(t.choose_template,t.param).length)+" "+t._s(t.$t("whatsapp.characters")))]):t._e()],1)],1)],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.loadingBtnReach},on:{click:t.sendHsm}},[t._v("Send")]),a("el-button",{on:{click:function(e){t.showDialogReachCons=!1}}},[t._v("Close")])],1)])],1):t._e(),t.showTicket?a("div",[a("el-dialog",{attrs:{title:"Create Whatsapp Group",visible:t.showDialogGroup,"before-close":t.resetHsm,width:"50%"},on:{"update:visible":function(e){t.showDialogGroup=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBtnCreateGroup,expression:"loadingBtnCreateGroup"}]},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Participants")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:14,sm:14,md:14,lg:14,xl:14}},[a("el-input",{attrs:{type:"text",placeholder:"Participants number"},model:{value:t.wagroup.participant,callback:function(e){t.$set(t.wagroup,"participant",e)},expression:"wagroup.participant"}}),a("small",[t._v("Separate with commas. Ex: 081234567890, 08123123123")])],1),a("el-col",{staticClass:"mt-25",attrs:{xs:4,sm:4,md:4,lg:4,xl:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openContactDialog}},[a("span",{staticClass:"icon icon-ic_contact"})])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Group Name")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"text",placeholder:"Group name"},model:{value:t.wagroup.subject,callback:function(e){t.$set(t.wagroup,"subject",e)},expression:"wagroup.subject"}})],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Template")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-select",{on:{change:t.resetTemplate},model:{value:t.choose_template,callback:function(e){t.choose_template=e},expression:"choose_template"}},[a("el-option",{attrs:{label:"No Template",value:""}}),t._l(t.hsmList,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],2)],1)],1),t._l(t.paramCount,(function(e){return t.choose_template?a("el-row",{key:e,attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Param "+t._s(e))])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"text"},model:{value:t.param[e-1],callback:function(n){t.$set(t.param,e-1,n)},expression:"param[i-1]"}}),a("small",[t._v("Use #invite_link to auto replace with Whatsapp Group URL")])],1)],1):t._e()})),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Message")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"textarea",value:t.parsingData(t.choose_template,t.param),rows:"8",readonly:""}}),t.choose_template?a("p",{staticClass:"float-right m-0"},[t._v(t._s(t.parsingData(t.choose_template,t.param).length)+" "+t._s(t.$t("whatsapp.characters")))]):t._e()],1)],1)],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.loadingBtnCreateGroup},on:{click:t.createGroupWhatsapp}},[t._v("Create")]),a("el-button",{on:{click:function(e){t.showDialogGroup=!1}}},[t._v("Close")])],1)])],1):t._e(),t.showTicket?a("div",[a("el-dialog",{staticStyle:{"z-index":"1050"},attrs:{title:"Detail Whatsapp Group",visible:t.showDialogGroupDetail,width:"50%"},on:{"update:visible":function(e){t.showDialogGroupDetail=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBtnCreateGroup,expression:"loadingBtnCreateGroup"}]},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Participants")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[t._l(t.groupdetail.participant.split(","),(function(e,n){return a("el-tag",{key:n,staticStyle:{"margin-right":"8px","margin-top":"8px"},attrs:{closable:e.trim().replace("62","0")!=t.sender&&e.trim()!=t.sendTo},on:{close:function(n){t.kickParticipants(e.trim())}}},[t._v(" "+t._s(e)+" "),-1!=t.groupdetail.admins.indexOf(e.trim())?a("span",[t._v("(Group Admin)")]):t._e()])})),a("el-button",{staticStyle:{margin:"8px 8px 0 0"},attrs:{size:"mini",type:"primary"},on:{click:t.fshowDialogGroupAdd}},[a("i",{staticClass:"mdi mdi-plus"}),t._v("Add more ")])],2)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Group Name")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:15,sm:15,md:15,lg:15,xl:15}},[a("el-input",{ref:"detailSubject",attrs:{type:"text",maxlength:"25","show-word-limit":"",placeholder:"Group name",readonly:t.disable.groupSubject},model:{value:t.groupdetail.subject,callback:function(e){t.$set(t.groupdetail,"subject",e)},expression:"groupdetail.subject"}}),a("span",{staticStyle:{float:"right","font-size":"10px"}},[t._v(t._s(t.groupdetail.subject.length)+"/25")])],1),a("el-col",{staticClass:"mt-30",attrs:{xs:3,sm:3,md:3,lg:3,xl:3}},[t.disable.groupSubject&&!t.loadingUpdateSubject?a("a",{on:{click:function(e){t.disable.groupSubject=!1,t.$refs.detailSubject.focus()}}},[a("i",{staticClass:"mdi mdi-pencil"})]):t._e(),t.disable.groupSubject||t.loadingUpdateSubject?t._e():a("a",{on:{click:function(e){t.disable.groupSubject=!0,t.updateGroupSubject()}}},[a("i",{staticClass:"mdi mdi-check"})]),t._v("   "),t.disable.groupSubject||t.loadingUpdateSubject?t._e():a("a",{on:{click:function(e){t.disable.groupSubject=!0}}},[a("i",{staticClass:"mdi mdi-close"})]),t.loadingUpdateSubject?a("a",[a("i",{staticClass:"mdi mdi-spin mdi-loading"})]):t._e()])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDialogGroupDetail=!1}}},[t._v("Close")])],1)])],1):t._e(),t.showTicket?a("div",[a("el-dialog",{attrs:{title:"Add Group Participant to "+t.groupdetail.subject,visible:t.showDialogGroupAdd,"before-close":t.resetHsm,width:"50%"},on:{"update:visible":function(e){t.showDialogGroupAdd=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBtnAddParticipant,expression:"loadingBtnAddParticipant"}]},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Participants")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:14,sm:14,md:14,lg:14,xl:14}},[a("el-input",{attrs:{type:"text",placeholder:"Participants number"},model:{value:t.wagroupadd.participants,callback:function(e){t.$set(t.wagroupadd,"participants",e)},expression:"wagroupadd.participants"}}),a("small",[t._v("Separate with commas. Ex: 081234567890, 08123123123")])],1),a("el-col",{staticClass:"mt-25",attrs:{xs:4,sm:4,md:4,lg:4,xl:4}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.openContactDialog}},[a("span",{staticClass:"icon icon-ic_contact"})])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Template")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-select",{on:{change:t.resetTemplate},model:{value:t.choose_template,callback:function(e){t.choose_template=e},expression:"choose_template"}},[a("el-option",{attrs:{label:"No Template",value:""}}),t._l(t.hsmList,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}))],2)],1)],1),t._l(t.paramCount,(function(e){return t.choose_template?a("el-row",{key:e,attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Param "+t._s(e))])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"text"},model:{value:t.param[e-1],callback:function(n){t.$set(t.param,e-1,n)},expression:"param[i-1]"}}),a("small",[t._v("Use #invite_link to auto replace with Whatsapp Group URL")])],1)],1):t._e()})),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h4",[t._v("Message")])]),a("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-input",{attrs:{type:"textarea",value:t.parsingData(t.choose_template,t.param),rows:"8",readonly:""}}),t.choose_template?a("p",{staticClass:"float-right m-0"},[t._v(t._s(t.parsingData(t.choose_template,t.param).length)+" "+t._s(t.$t("whatsapp.characters")))]):t._e()],1)],1)],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:t.loadingBtnAddParticipant},on:{click:t.addParticipantGroupWhatsapp}},[t._v("Invite")]),a("el-button",{on:{click:function(e){t.showDialogGroupAdd=!1}}},[t._v("Close")])],1)])],1):t._e(),a("el-dialog",{attrs:{title:"Add From Contact",visible:t.contactDialog.visible,"before-close":function(e){t.tempSelectedRecipient=t.currentSelectedRecipient,e()}},on:{"update:visible":function(e){return t.$set(t.contactDialog,"visible",e)}}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:t.$t("contact.search"),clearable:""},on:{clear:t.loadContactAll},nativeOn:{keypress:function(e){return t.doSearchContact.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.doSearchContact.apply(null,arguments)}},model:{value:t.searchContact,callback:function(e){t.searchContact=e},expression:"searchContact"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-pagination",{attrs:{"current-page":t.currentPageContact,background:"",layout:"prev, pager, next",total:t.contactsTotal},on:{"current-change":t.nextContact}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingContact,expression:"loadingContact"}],ref:"contactTable",staticStyle:{width:"100%"},attrs:{data:t.contacts},on:{select:t.handleContactSelectSingle,"select-all":t.handleContactSelect,"row-click":t.tableContactRowClick}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"phone_number",label:"Phone Number"}}),a("el-table-column",{attrs:{prop:"name",label:"Fullname"}}),a("template",{staticStyle:{height:"200px"},slot:"empty"},[a("p",{staticStyle:{color:"#909399"},attrs:{align:"center"}},[a("img",{attrs:{src:n("e0aa"),width:"100"}}),a("br"),t._v("Contact not found ")])])],2),a("br"),a("div",{staticClass:"clearfix"},[a("el-pagination",{attrs:{"current-page":t.currentPageContact,background:"",layout:"prev, pager, next",total:t.contactsTotal},on:{"current-change":t.nextContact}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.contactDialog.visible=!1,t.buildRecipientGroupWhatsapp()}}},[t._v(t._s(t.$t("submit")))])],1)],1),t.showTicket?a("el-row",{staticStyle:{"z-index":"0"},attrs:{gutter:10}},[t.showTicket?a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-card",{attrs:{shadow:"card-shadow--small"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:10,lg:10,xl:10}},[a("span",{staticClass:"mt-0 mr-10",staticStyle:{"font-size":"24px"}},[a("b",[t._v(t._s(t.$t("ticket.ticket")))])])]),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:14,lg:14,xl:14}},[a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0}},[a("el-form-item",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.mute?"Mute Sound Notif":"Unmute Sound Notif",placement:"top"}},[a("el-button",{staticStyle:{position:"relative",bottom:"2px"},attrs:{type:t.mute?"primary":"danger",size:"mini",plain:"",circle:""},on:{click:function(e){t.mute=!t.mute}}},[t.mute?a("i",{staticClass:"mdi mdi-18px mdi-bell-ring"}):a("i",{staticClass:"mdi mdi-18px mdi-bell-off"})])],1)],1),a("el-form-item",[a("el-radio-group",{staticClass:"fl-right mr-10",attrs:{size:"small"},on:{change:function(e){t.ticketLoader=!0,t.loadTicket()}},model:{value:t.filter.btnStatus,callback:function(e){t.$set(t.filter,"btnStatus",e)},expression:"filter.btnStatus"}},[a("el-radio-button",{attrs:{title:t.label.open,label:"0"},model:{value:t.filter.btnStatus,callback:function(e){t.$set(t.filter,"btnStatus",e)},expression:"filter.btnStatus"}},[a("i",{staticClass:"mdi mdi-email-alert"}),t._v(" "+t._s(t.totalTicket.open)+" "+t._s(t.label.open)+" ")]),a("el-radio-button",{attrs:{title:t.label.onproccess,label:"1"},model:{value:t.filter.btnStatus,callback:function(e){t.$set(t.filter,"btnStatus",e)},expression:"filter.btnStatus"}},[a("i",{staticClass:"mdi mdi-email-open"}),t._v(" "+t._s(t.totalTicket.onproccess)+" "+t._s(t.label.onproccess)+" ")]),a("el-radio-button",{attrs:{title:t.label.close,label:"2"},model:{value:t.filter.btnStatus,callback:function(e){t.$set(t.filter,"btnStatus",e)},expression:"filter.btnStatus"}},[a("i",{staticClass:"mdi mdi-email-secure"}),t._v(" "+t._s(t.totalTicket.close)+" "+t._s(t.label.close)+" ")])],1)],1)],1)],1)],1),a("div",[t.totalTicket.waiting>0?a("el-alert",{attrs:{title:"Warning",description:"There is "+t.totalTicket.waiting+" ticket(s) wait for available Customer Service.",type:"warning",closable:!1,"show-icon":"",effect:"dark"}}):t._e()],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-switch",{attrs:{"inactive-color":"#ff4949","active-text":"Available","inactive-text":"Not available"},on:{change:t.setOperatorStatus},model:{value:t.operatorStatus,callback:function(e){t.operatorStatus=e},expression:"operatorStatus"}})],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-switch",{attrs:{"inactive-color":"#9e9e9e","active-text":"Unread","inactive-text":"All"},on:{change:t.filterNewMessages},model:{value:t.newMessages,callback:function(e){t.newMessages=e},expression:"newMessages"}})],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:16,lg:8,xl:8}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:13,md:13,lg:13,xl:13}},[a("el-input",{staticClass:"search-contact",staticStyle:{float:"left !important"},attrs:{"prefix-icon":"el-icon-search",placeholder:t.$t("helpdesk.searchTicket"),clearable:""},on:{clear:t.loadTicket},nativeOn:{keypress:function(e){return t.doSearchTicket.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.doSearchTicket.apply(null,arguments)}},model:{value:t.searchTicket,callback:function(e){t.searchTicket=e},expression:"searchTicket"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:11,md:11,lg:11,xl:11}},[a("el-select",{on:{change:function(e){return t.doSearchTicket("select")}},model:{value:t.searchBy,callback:function(e){t.searchBy=e},expression:"searchBy"}},t._l(t.searchByList,(function(t){return a("el-option",{key:t.by,attrs:{value:t.by,label:t.name}})})),1)],1)],1)],1),a("el-col",{staticClass:"mt-10",staticStyle:{padding:"0"},attrs:{xs:24,sm:24,md:8,lg:4,xl:4}},[a("el-form",{staticStyle:{float:"right"},attrs:{inline:!0},nativeOn:{submit:function(e){return e.preventDefault(),t.doSearchTicket.apply(null,arguments)}}},[a("el-form-item",[a("el-radio-group",{staticClass:"fl-right",on:{change:function(e){t.ticketLoader=!0,t.loadTicket()}},model:{value:t.filter.operator,callback:function(e){t.$set(t.filter,"operator",e)},expression:"filter.operator"}},[a("el-radio-button",{attrs:{label:""},model:{value:t.filter.operator,callback:function(e){t.$set(t.filter,"operator",e)},expression:"filter.operator"}},[t._v(t._s(t.label.allLabel))]),a("el-radio-button",{attrs:{label:t.operatorId},model:{value:t.filter.operator,callback:function(e){t.$set(t.filter,"operator",e)},expression:"filter.operator"}},[t._v(t._s(t.label.yourLabel))])],1)],1)],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.ticketLoader,expression:"ticketLoader"}],staticClass:"group-list scrollable only-y"},[a("el-pagination",{attrs:{background:"","prev-text":"Prev","next-text":"Next",layout:"prev, pager, next","current-page":t.currentPage,"page-size":10,total:parseInt(t.totalTicket[t.ticketStatusName[t.filter.btnStatus]])},on:{"current-change":t.paginateTicket}}),a("br"),[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],ref:"ticketTable",staticStyle:{width:"100%"},attrs:{data:t.ticket,"row-class-name":t.stylingRow},on:{"sort-change":t.sortBy,"row-click":t.openConversation}},[a("el-table-column",{attrs:{fixed:"",sortable:"custom",prop:"code",label:"Ticket",width:"100px"}}),a("el-table-column",{attrs:{width:"300px",prop:"lastMessages",label:"Last Messages"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.readMore(e.row.lastMessages)))]}}],null,!1,2150255625)}),a("el-table-column",{attrs:{width:"190px",sortable:"custom",prop:"lastMessagesTime",label:"Last Messages Time"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatDate(e.row.lastMessagesTime,"YYYY-MM-DD HH:mm:ss")))]}}],null,!1,2604627104)}),a("el-table-column",{attrs:{width:"200px",prop:"custName",label:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.readMoreC(e.row.custName,20)))]}}],null,!1,3937882720)}),a("el-table-column",{attrs:{width:"175px",prop:"operatorName",label:"Handle By"}}),a("el-table-column",{attrs:{prop:"problem",width:"450px",label:"Problem"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",[a("div",{staticClass:"tooltip",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.problem))]),a("p",{staticStyle:{"font-weight":"bold","font-size":"14px"}},[t._v(t._s(t.readMore(e.row.problem)))])])]}}],null,!1,1815830952)}),a("el-table-column",{attrs:{width:"300px",prop:"chat_duration",label:"Duration"}}),a("el-table-column",{attrs:{prop:"tag",width:"200px",label:"Tag"},scopedSlots:t._u([{key:"default",fn:function(e){return[""==e.row.tag||null==e.row.tag?a("span",[t._v("-")]):a("span",[t._v(t._s(e.row.tag))])]}}],null,!1,3719989429)}),a("template",{staticStyle:{height:"500px"},slot:"empty"},[a("p",[a("img",{attrs:{src:n("e44b"),width:"100"}}),a("br"),t._v("No Data ")])])],2)],a("br"),a("el-pagination",{attrs:{background:"","prev-text":"Prev","next-text":"Next",layout:"prev, pager, next","current-page":t.currentPage,"page-size":10,total:parseInt(t.totalTicket[t.ticketStatusName[t.filter.btnStatus]])},on:{"current-change":t.paginateTicket}})],2)],1)],1):t._e()],1):t._e(),a("div",[a("el-dialog",{attrs:{title:t.capitalizeFirstLetter(t.checkFileType(t.clickedImage)),visible:t.dialogImage,width:"image"==t.checkFileType(t.clickedImage)?"30%":"65%",align:"center","before-close":function(e){t.clickedImage="",e()}},on:{"update:visible":function(e){t.dialogImage=e}}},["image"==t.checkFileType(t.clickedImage)?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.clickedImage,expression:"clickedImage"}],staticStyle:{"max-width":"100%","min-width":"100%"}}):t._e(),"pdf"==t.checkFileType(t.clickedImage)?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPdf,expression:"loadingPdf"}],attrs:{align:"center"}},[t.loadingPdf?t._e():a("a",{attrs:{href:t.clickedImage,target:"_blank"}},[a("i",{staticClass:"mdi mdi-download"}),t._v(" Download ")]),a("br"),a("b",[t._v("Total "+t._s(t.pdfNumPages)+" page(s)")]),a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},t._l(t.pdfNumPages,(function(e){return t.loadingPdf?t._e():a("pdf",{key:e,attrs:{src:t.pdfSrc,page:e}})})),1)],1)],1):t._e(),"video"==t.checkFileType(t.clickedImage)?a("div",{staticClass:"iwrapper"},[a("iframe",{attrs:{src:t.clickedImage}})]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogImage=!1}}},[t._v("Close")])],1)])],1),[a("div",[t.showTicket?a("beautiful-chat",{attrs:{showGroupButton:!1,title:t.titleChat,participants:t.participants,titleImageUrl:t.titleImageUrl,onMessageWasSent:t.onMessageWasSent,messageList:t.messageList,newMessagesCount:t.newMessagesCount,isOpen:t.isChatOpen,close:t.closeChat,open:t.openChat,messageStyling:!0,showEmoji:!0,showFile:!0,showTypingIndicator:t.showTypingIndicator,colors:t.colors,showInput:t.showInput,onMessageButton:t.comingSoon,showButtonReach:t.showButtonReach,loadingMessage:t.loadingMessage,onClickButtonReach:t.showDialogReach,showButtonClose:t.showBtnClose,onGroupButton:t.dialogGroup,onClickButtonClose:t.doCloseConversation,loadingButtonClose:t.loadingButtonClose,ticketDetail:t.currentTicket,quickReplyList:t.quickReply,alwaysScrollToBottom:!0}}):t._e()],1)]],2)},r=[],i=(n("6762"),n("2fdb"),n("a481"),n("4917"),n("2909")),s=(n("7514"),n("7f7f"),n("20d6"),n("ac6a"),n("96cf"),n("1da1")),o=(n("28a5"),n("3835")),c=n("ade3"),u=(n("bce9"),n("271f")),l=n("8055"),d=n.n(l),m=n("db49"),p=n("c0d6"),h=n("8f14"),f=n.n(h),g=n("7f45"),k=n.n(g),w=n("b730"),b=n.n(w),v=n("7acd"),y=n.n(v),x=n("2ef0"),C=n.n(x),_=n("7b77"),T=n.n(_),S=n("77f9"),j=n.n(S),M=n("bc3a"),R=d()(m["a"].socketUrl,{transports:["websocket"],upgrade:!1}),O={data:function(){var t;return t={mute:p["a"].getters.bellTone,intervalDuration:null,showGroupButton:!1,showDialogGroup:!1,showDialogGroupDetail:!1,showDialogGroupAdd:!1,contactDialog:{visible:!1},currentPageContact:1,showAlertError:!1,showButtonReach:!1,showBtnClose:!1,loadingButtonClose:!1,showDialogReachCons:!1,loadingDialogReach:!1,loadingBtnReach:!1,loadingBtnCreateGroup:!1,loadingUpdateSubject:!1,loadingBtnAddParticipant:!1,loadingContact:!1,disable:{groupSubject:!0},searchBy:"number",searchByList:[{by:"number",name:"Client Number"},{by:"code",name:"Ticket"},{by:"problem",name:"Issue"},{by:"tag",name:"Tag"}],choose_template:"",searchTicket:"",timeoutTyping:null,timeoutTicket:null,contacts:[],contactsTotal:0,searchContact:"",dataSendHsm:{to:"",param:new Array,sender:""},wagroup:{participant:"",subject:""},wagroupadd:{participants:"",subject:""},groupdetail:{participant:"",subject:"",admins:[]},currentTicket:{code:""},hsmList:[],param:[],paramCount:0,template_message:"",showInput:!0,loadingMessage:!1,loadingTable:!1,operatorNumber:"",titleChat:"chat",inUserList:!1,typeText:"text",ticketCode:"",notifTag:"",operatorStatus:!0,titleImageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png",messageList:[],participants:[],loadingPage:!0,filter:{btnStatus:"0",operator:this.operatorId,sortBy:{column:"lastMessagesTime",type:"descending"}},ticketStatusName:{0:"open",1:"onproccess",2:"close"},newMessages:!1,currentPage:1,operatorId:"",showTicket:!1,showAlertTicket:!1,newMessagesCount:0,isChatOpen:!1,showTypingIndicator:"",colors:{header:{bg:"#1e1e1e",text:"#ffffff"},launcher:{bg:"#249393"},messageList:{bg:"#e5ddd5",bgImage:"url('".concat(y.a,"')")},sentMessage:{bg:"#dcf8c6",text:"#2e2e2e"},receivedMessage:{bg:"#ffffff",text:"#262626"},userInput:{bg:"#f4f7f9",text:"#565867"}},alwaysScrollToBottom:!0,isConnected:!1,socketMessage:"",sendTo:"",to:"",messages:"",sender:"",chat:[],chatConversationId:"",ticket:[],totalTicket:{close:"",onproccess:"",open:"",all:""},dialogImage:!1,clickedImage:"",botId:"",btnLoading:!1,messageArea:"",labelPosition:"all",labelStatus:"open",lbl:"All",label:{allLabel:"All",yourLabel:"Your",waiting:"Waiting",open:"Open",onproccess:"On Proccess",close:"Close"},checked:{},list:[],groups:[],menu:[]},Object(c["a"])(t,"searchContact",""),Object(c["a"])(t,"windowIsBlur",!1),Object(c["a"])(t,"ticketLoader",!0),Object(c["a"])(t,"chatLoader",!1),Object(c["a"])(t,"searchGroup",""),Object(c["a"])(t,"buttonGroupDialogLoader",!1),Object(c["a"])(t,"groupDialog",{visible:!1,data:{},type:"detail"}),Object(c["a"])(t,"imSendingMessage",!1),Object(c["a"])(t,"buttonAddToGroupDialogLoader",!1),Object(c["a"])(t,"addToGroupDialog",{visible:!1,data:{},type:"detail"}),Object(c["a"])(t,"formLabelWidth","120px"),Object(c["a"])(t,"logData",""),Object(c["a"])(t,"addType","single"),Object(c["a"])(t,"csvData",[]),Object(c["a"])(t,"status",""),Object(c["a"])(t,"temp",""),Object(c["a"])(t,"lastSentMessage",""),Object(c["a"])(t,"tempSelectedContact",[]),Object(c["a"])(t,"tempSelectedRecipient",[]),Object(c["a"])(t,"currentSelectedRecipient",[]),Object(c["a"])(t,"currentSelectedContact",[]),Object(c["a"])(t,"quickReply",[]),Object(c["a"])(t,"pdfSrc",void 0),Object(c["a"])(t,"pdfNumPages",void 0),Object(c["a"])(t,"loadingPdf",!1),Object(c["a"])(t,"doMasking",!0),Object(c["a"])(t,"operatorName",""),t},sockets:{connect:function(){this.isConnected=!0,1==this.showTicket&&this.emit("enter conversation",this.operatorId)},reconnect:function(){},disconnect:function(){this.isConnected=!1},listenChat:function(t){this.socketMessage=t}},methods:{checkDuration:function(){this.ticket=this.ticket.map((function(t){return t.chat_duration=f()(k()().diff(t.dateCreate),{largest:3}),t}))},formatDate:function(t,e){return k()(t).format(e)},doRenderPdf:function(){var t=this;this.loadingPdf=!0;var e=this.clickedImage;"http"==e.substring(0,4)&&(e=m["a"].chatApi+"fileReader/?url="+this.clickedImage),this.pdfSrc=T.a.createLoadingTask(e),this.pdfSrc.then((function(e){t.pdfNumPages=e.numPages,t.loadingPdf=!1}))},checkFileType:function(t){if("http"==t.substring(0,4)){var e=this.reverse(t),n=this.reverse(e.substring(0,e.indexOf(".")));return-1!==["jpg","png","gif","jpeg","svg"].indexOf(n)?"image":"pdf"==n?"pdf":-1!==["mp4","mkv","mov"].indexOf(n)?"video":"file"}var a=t.substring("data:".length,t.indexOf(";base64"));if(""!=a){var r=a.split("/"),i=Object(o["a"])(r,2),s=i[0],c=i[1];return"image"==s?s:c}return a},reverse:function(t){return t.split("").reverse().join("")},capitalizeFirstLetter:function(t){if(t.split("_").length>0){var e=[];return C.a.map(t.split("_"),(function(t){e.push(t.charAt(0).toUpperCase()+t.slice(1))})),e.join(" ")}return t.charAt(0).toUpperCase()+t.slice(1)},loadPreferences:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingDetail=!0,t.next=3,Object(u["a"])({method:"get",url:m["a"].chatApi+"auth/preferences/"+this.operatorNumber}).then((function(t){200==t.data.ec&&(e.quickReply=t.data.data.quickReply||[],e.doMasking=void 0==t.data.data.masking_phone||t.data.data.masking_phone)})).catch((function(t){}));case 3:this.loadingDetail=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openContactDialog:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.contactDialog.visible=!0,this.tempSelectedRecipient=C.a.map(this.currentSelectedRecipient,(function(t){return t})),t.next=4,C.a.map(this.currentSelectedContact,(function(t){return t}));case 4:this.tempSelectedContact=t.sent,this.loadContactAll(this.currentPageContact);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),tableContactRowClick:function(t,e,n){this.$refs.contactTable.toggleRowSelection(t),this.handleContactSelect(this.$refs.contactTable.selection)},doSearchContact:function(t){var e=this;clearTimeout(this.timeoutTyping),this.timeoutTyping=setTimeout((function(){e.searchContact.length>=3?(e.currentPageContact=e.currentPageGroupContact=e.currentPage=1,e.loadContactAll()):e.loadContactAll()}),1e3)},loadContactAll:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n=this,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,this.loadingContact=!0,t.next=4,Object(u["a"])({method:"get",url:""==this.searchContact?"phonebook":"phonebook/search",params:{page:e,query:""==this.searchContact||this.searchContact.length<3?void 0:this.searchContact}}).then((function(t){n.contacts=t.data.data.contact,n.contactsTotal=t.data.data.rows})).catch((function(t){}));case 4:this.loadingContact=!1,C.a.forEach(this.contacts,(function(t,e){var a=C.a.findIndex(n.tempSelectedContact,(function(e){return e.phonebook_id==t.phonebook_id}));-1!=a&&n.$refs.contactTable.toggleRowSelection(t)}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),nextContact:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.currentPageContact=e,this.loadContactAll(e);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleContactSelectSingle:function(t,e){this.handleContactSelect(t)},handleContactSelect:function(t){var e=this;C.a.forEach(this.contacts,(function(n){var a=C.a.findIndex(e.tempSelectedContact,{phonebook_id:n.phonebook_id}),r=C.a.findIndex(t,{phonebook_id:n.phonebook_id});-1==r?-1!=a&&e.tempSelectedContact.splice(a,1):-1==a&&e.tempSelectedContact.push(n)})),this.updateSelected()},buildRecipientGroupWhatsapp:function(){var t=C.a.map(this.tempSelectedRecipient,(function(t){return t.contact}));if(""==this.currentTicket.group||null==this.currentTicket.group)this.wagroup.participant=this.wagroup.participants=this.sendTo+", "+t.join(", "),0==t.length&&(this.wagroup.participant=this.sendTo);else{var e=this.wagroupadd.participant||null;this.wagroupadd.participant=this.wagroupadd.participants=(null==e?"":e+", ")+t.join(", "),0==t.length&&(this.wagroupadd.participant=null)}this.currentSelectedContact=C.a.map(this.tempSelectedContact,(function(t){return t})),this.currentSelectedRecipient=C.a.map(this.tempSelectedRecipient,(function(t){return t}))},updateSelected:function(){var t=[];this.tempSelectedContact.forEach((function(e){t.push({id:e.phonebook_id,name:e.name,contact:e.phone_number,type:"contact"})})),this.tempSelectedRecipient=t},fshowDialogGroupAdd:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showDialogGroupAdd=!0,this.loadingBtnAddParticipant=!0,t.next=4,this.loadWa();case 4:this.loadingBtnAddParticipant=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addParticipantGroupWhatsapp:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingBtnAddParticipant=!0,t.next=3,M({method:"put",url:m["a"].chatApi+"whatsapp-conversation/group/invite",headers:{"api-key":p["a"].getters.accessToken},data:{conversation:this.chatConversationId,code:this.currentTicket.code,sender:this.sender,participant:this.wagroupadd.participants,template:this.choose_template,template_message:this.parsingData(this.choose_template,this.param),param:this.param,id:this.currentTicket.id}}).then((function(t){200==t.data.ec?(e.$message.success({showClose:!0,duration:5e3,message:e.$t("success")}),e.showDialogGroupAdd=!1,e.detailGroupWhatsapp(),e.resetHsm()):e.$message.warning({showClose:!0,duration:5e3,message:e.$t("error_text")})})).catch((function(t){console.log("error add",t),e.$message.error({showClose:!0,duration:5e3,message:e.$t("error_text")})}));case 3:this.loadingBtnAddParticipant=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),kickParticipants:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$swal({title:this.$t("helpdesk.confirm_kick.title"),text:this.$t("helpdesk.confirm_kick.text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",showLoaderOnConfirm:!0,preConfirm:function(){return M({method:"delete",url:m["a"].chatApi+"whatsapp-conversation/group/kick",headers:{"api-key":p["a"].getters.accessToken},data:{group:n.currentTicket.group,id:n.currentTicket.id,sender:n.sender,kick:e}}).then((function(t){return t})).catch((function(t){n.$message.error({showClose:!0,duration:5e3,message:n.$t("error_text")})}))},allowOutsideClick:function(){return!Swal.isLoading()}}).then((function(t){200==t.data.ec?(n.$message.success({showClose:!0,duration:5e3,message:n.$t("success")}),n.detailGroupWhatsapp()):n.$message.warning({showClose:!0,duration:5e3,message:n.$t("error_text")})})).catch((function(t){console.log("cancel")}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),resetHsm:function(t){this.param=[],this.choose_template=this.template_message="",this.wagroupadd.participants="",this.tempSelectedRecipient=this.tempSelectedContact=this.currentSelectedRecipient=this.currentSelectedContact=[],t&&t()},dialogAddMore:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==this.currentTicket.group&&null==this.currentTicket.group){t.next=6;break}return this.showDialogGroup=!0,this.loadingBtnCreateGroup=!0,t.next=5,this.loadWa();case 5:this.loadingBtnCreateGroup=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),dialogGroup:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.currentTicket.group&&null!=this.currentTicket.group){t.next=9;break}return this.wagroup={participant:this.sendTo,subject:"Escalation Ticket #"+this.currentTicket.code,conversation:this.chatConversationId,code:this.currentTicket.code,sender:this.sender,operator:this.operatorId},this.showDialogGroup=!0,this.loadingBtnCreateGroup=!0,t.next=6,this.loadWa();case 6:this.loadingBtnCreateGroup=!1,t.next=11;break;case 9:this.showDialogGroupDetail=!0,this.detailGroupWhatsapp();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),detailGroupWhatsapp:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingBtnCreateGroup=!0,t.next=3,M({url:m["a"].chatApi+"whatsapp-conversation/group/detail",method:"POST",headers:{"api-key":p["a"].getters.accessToken},data:{id:this.currentTicket.id,sender:this.sender,group:this.currentTicket.group}}).then((function(t){200==t.data.ec?(e.groupdetail.participant=t.data.data.group.participants.join(", "),e.groupdetail.subject=t.data.data.group.subject,e.groupdetail.admins=t.data.data.group.admins):e.$message.warning({showClose:!0,duration:5e3,message:e.$t("error_text")})})).catch((function(t){console.log("error detail",t)}));case 3:this.loadingBtnCreateGroup=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateGroupSubject:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingUpdateSubject=!0,t.next=3,M({url:m["a"].chatApi+"whatsapp-conversation/group/subject",method:"put",headers:{"api-key":p["a"].getters.accessToken},data:{subject:this.groupdetail.subject,group:this.currentTicket.group,id:this.currentTicket.id,sender:this.sender}}).then((function(t){200==t.data.ec?(e.$message.success({showClose:!0,duration:5e3,message:e.$t("success")}),e.showDialogGroup=!1):e.$message.warning({showClose:!0,duration:5e3,message:e.$t("error_text")})})).catch((function(t){console.log(t)}));case 3:this.loadingUpdateSubject=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createGroupWhatsapp:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.param.map((function(t){return/\#invite_link/gi.test(t)})),!(""!=this.choose_template&&this.dataSendHsm.param.length<this.paramCount)){t.next=5;break}this.$message.warning({showClose:!0,duration:5e3,message:this.$t("whatsapp.hsm_param_empty")}),t.next=17;break;case 5:if(""!=this.choose_template){t.next=9;break}this.$message.warning({showClose:!0,duration:5e3,message:this.$t("whatsapp.hsm_not_choose")}),t.next=17;break;case 9:if(void 0!=e.find((function(t){return 1==t}))){t.next=13;break}this.$message.warning({showClose:!0,duration:1e4,message:"At least one of param should have word #invite_link"}),t.next=17;break;case 13:return this.loadingBtnCreateGroup=!0,t.next=16,M({url:m["a"].chatApi+"whatsapp-conversation/group/create",method:"POST",headers:{"api-key":p["a"].getters.accessToken},data:{participant:this.wagroup.participant,subject:this.wagroup.subject,conversation:this.wagroup.conversation,code:this.wagroup.code,sender:this.wagroup.sender,operator:this.wagroup.operator,template:this.choose_template,template_message:this.parsingData(this.choose_template,this.param),param:this.param}}).then((function(t){200==t.data.ec?(n.$message.success({showClose:!0,duration:5e3,message:n.$t("success")}),n.showDialogGroup=!1,n.loadTicket()):n.$message.warning({showClose:!0,duration:5e3,message:n.$t("error_text")})})).catch((function(t){console.log(t)}));case 16:this.loadingBtnCreateGroup=!1;case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),comingSoon:function(){this.$message.warning({showClose:!0,duration:5e3,message:"Coming soon! We're currently working on creating something fantastic!"})},readMoreC:function(t,e){return t?t.length>0&&t.length>e?t.substring(0,e)+"...":t:"-"},doSearchTicket:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"select"==e?""!=this.searchTicket&&this.loadTicket():(clearTimeout(this.timeoutTicket),this.timeoutTicket=setTimeout((function(){t.currentPage=1,t.loadTicket()}),1e3))},doCloseConversation:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$swal({title:this.$t("helpdesk.confirm_close.title"),text:this.$t("helpdesk.confirm_close.text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingButtonClose=!0,t.next=3,e.sendMessage({type:"text",data:{text:"#close"}});case 3:e.showButtonReach=!1,e.showBtnClose=!1,e.loadingButtonClose=!1,e.showInput=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showDialogReach:function(){this.showDialogReachCons=!0;var t=this.sendTo;t.substring(0,2);this.dataSendHsm.to=t,this.dataSendHsm.sender=this.sender,this.loadWa()},sendHsm:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(""!=this.choose_template&&this.dataSendHsm.param.length<this.paramCount)){t.next=4;break}this.$message.warning({showClose:!0,duration:5e3,message:this.$t("whatsapp.hsm_param_empty")}),t.next=13;break;case 4:if(""!=this.choose_template){t.next=8;break}this.$message.warning({showClose:!0,duration:5e3,message:this.$t("whatsapp.hsm_not_choose")}),t.next=13;break;case 8:return this.loadingBtnReach=!0,e=this.parsingData(this.choose_template,this.dataSendHsm.param),t.next=12,Object(u["a"])({method:"post",url:m["a"].chatApi+"whatsapp-conversation/send-hsm",data:{to:this.dataSendHsm.to,param:this.dataSendHsm.param,sender:this.dataSendHsm.sender,template:this.choose_template,message:this.template_message,messageText:e,messageType:"text",conversationId:this.chatConversationId,ticketCode:this.ticketCode,operator:this.operatorId}}).then((function(t){if(200==t.data.ec){var a={data:{meta:"System - "+k()().format("YYYY-MM-DD HH:mm:ss"),text:e},name:C.a.filter(n.participants,{id:n.dataSendHsm.sender}).name,type:"system"};n.messageList=[].concat(Object(i["a"])(n.messageList),[a]),n.showDialogReachCons=!1,n.loadTicket(),n.resetTemplate(),n.choose_template=""}else n.$message.error({showClose:!0,duration:5e3,message:n.$t("whatsapp.hsm_failed")})})).catch((function(t){n.$message.error({showClose:!0,duration:5e3,message:n.$t("whatsapp.hsm_failed")})}));case 12:this.loadingBtnReach=!1;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadWa:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingDialogReach=!0,this.hsmList=[],t.next=4,Object(u["a"])({method:"post",url:m["a"].chatApi+"user/detail",data:{number:this.sender}}).then((function(t){if(200==t.data.ec){var n=[];C.a.forEach(t.data.data.hsm,(function(t){n.push(t)})),e.hsmList=C.a.uniqBy(n,"name"),e.hsmList=C.a.remove(e.hsmList,(function(t){return 0==C.a.isEmpty(t)}))}else 400==t.data.ec&&t.data.message})).catch((function(t){}));case 4:this.loadingDialogReach=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),parsingData:function(t,e){var n=this,a="";return this.hsmList.forEach((function(r){if(r.name==t){var i=r.message.match(/{{\s*[\w\.]+\s*}}/g);n.paramCount=null!=i?i.length:0,a=r.message,null!=i&&i.forEach((function(t,n){e[n]&&(a=a.replace(t,e[n]))}))}})),this.dataSendHsm.param=e,a},resetTemplate:function(){var t=this;this.param=[],this.template_message=C.a.find(this.hsmList,(function(e){return e.name==t.choose_template})).message},readMore:function(t){return""!==t&&null!=t&&t.length>32?t.substr(0,32)+"...":t},filterNewMessages:function(){this.loadTicket(1)},sortBy:function(t){this.filter.sortBy.column=t.prop,this.filter.sortBy.type=t.order,this.loadTicket(1)},stylingRow:function(t){return t.row.lastMessageId===t.row.lastIncomingMessageId?"warning-row":""},paginateTicket:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.currentPage=e,t.next=3,this.loadTicket(this.currentPage);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setOperatorStatus:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M({url:m["a"].chatApi+"set-operator-status",method:"POST",data:{operator:this.operatorId,isAvailable:1==e?"available":"not_available"},headers:{"api-key":p["a"].getters.accessToken}}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.loadTicket();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){}));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openConversation:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadByConversation(e.conversationId,e.code);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),pushNotif:function(t,e,n){var a=this;setTimeout((function(){b.a.create(t,{body:e,icon:"/logo-cropped.png",timeout:6e3,tag:n,onClick:a.notifOnClick})}),2e3)},notifOnClick:function(t){var e=t.currentTarget,n=e.tag.split("#"),a=Object(o["a"])(n,2),r=a[0],i=a[1];this.loadByConversation(r,i),window.focus(),t.currentTarget.close()},authUser:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingPage=!0,t.next=3,M({url:m["a"].chatApi+"auth/login",method:"POST",data:{email:p["a"].getters.email,channels:"telegram"},headers:{"api-key":p["a"].getters.accessToken}}).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!=n.data.ec){t.next=12;break}return e.operatorStatus="available"==n.data.data.operator.status,e.operatorId=n.data.data.operator.id,e.operatorNumber=n.data.data.operator.number,e.operatorName=n.data.data.operator.name,e.filter.operator=n.data.data.operator.id,t.next=8,e.loadTicket();case 8:e.loadPreferences(),e.showTicket=!0,t.next=13;break;case 12:e.showAlertTicket=!0;case 13:e.loadingPage=!1;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loadingPage=!1,e.showAlertError=!0}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toggleUserList:function(){this.inUserList=!this.inUserList,this.$emit("userList",this.inUserList)},readFile:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){var r=new FileReader;r.onload=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.temp=a.target.result,t(a.target.result);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onerror=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a(null);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.readAsDataURL(e.data.file)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),onMessageWasSent:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("text"!=e.type&&"emoji"!=e.type){t.next=5;break}e.caption="",this.sendMessage(e),t.next=11;break;case 5:return t.next=7,this.readFile(e);case 7:n=t.sent,a=["png","jpg","jpeg","pdf","mp4"],r=e.data.file.type.split("/")[1],-1==a.indexOf(r)?this.$message.warning("File type not allowed. Allowed: "+a.join(", "),{duration:5e3}):(e.data.encodedFile=n,-1!==["png","jpg","jpeg"].indexOf(r)?(e.type="image",e.caption=e.data.text?e.data.text:""):-1!==["mp4"].indexOf(r)?(e.type="video",e.caption=e.data.text?e.data.text:""):(e.type="pdf",e.caption=e.data.file.name||""),this.sendMessage(e));case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat:function(){this.isChatOpen=!1},sendMessage:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this,this.imSendingMessage=!0,n="",a="",r=0,"text"!=e.type){t.next=14;break}if(n=e.data.text,"#"==n.charAt(0)){t.next=12;break}return t.next=10,[].concat(Object(i["a"])(this.messageList),[{author:"me",type:"text",data:{text:n,proccessUpload:!0,meta:k()().format("YYYY-MM-DD HH:mm:ss")}}]);case 10:this.messageList=t.sent,r=this.messageList.length-1;case 12:t.next=29;break;case 14:if("emoji"!=e.type){t.next=22;break}return n=e.data.emoji,t.next=18,[].concat(Object(i["a"])(this.messageList),[{author:"me",type:"text",data:{text:n,proccessUpload:!0,meta:k()().format("YYYY-MM-DD HH:mm:ss")}}]);case 18:this.messageList=t.sent,r=this.messageList.length-1,t.next=29;break;case 22:if(-1===["image","pdf","video"].indexOf(e.type)){t.next=29;break}return n=e.data.encodedFile,a=e.caption,t.next=27,[].concat(Object(i["a"])(this.messageList),[{author:"me",type:"file",data:{text:a,file:{src:e.data.encodedFile,type:e.type,time:"now....",onclick:function(t){s.clickedImage=e.data.encodedFile,"pdf"==s.checkFileType(e.data.encodedFile)&&s.doRenderPdf(),s.dialogImage=!0}},proccessUpload:!0,meta:k()().format("YYYY-MM-DD HH:mm:ss")}}]);case 27:this.messageList=t.sent,r=this.messageList.length-1;case 29:return-1==["image","pdf","video"].indexOf(e.type)&&(this.lastSentMessage=n.trim()),t.next=32,M({url:m["a"].chatApi+"whatsapp-conversation/send-message",method:"POST",data:{to:this.sendTo,sender:this.sender,message:n,messageType:e.type,conversationId:this.chatConversationId,ticketCode:this.ticketCode,operator:this.operatorId,caption:e.caption,timestamp:k()().format("x")},headers:{"api-key":p["a"].getters.accessToken}}).then((function(t){if(200==t.data.ec)if("success"==t.data.message){var n=t.data.data;s.chat.push(n),s.messageAre="",e.type,s.messageList[r].data.proccessUpload=!1,s.loadTicket(s.currentPage)}else"name_changed"==t.data.message?(s.$message.success({showClose:!0,duration:5e3,message:s.$t("success")}),s.titleChat="#".concat(s.ticketCode," (").concat(e.data.text.replace("#name ",""),")"),s.loadTicket(s.currentPage)):s.loadTicket(s.currentPage);else s.messageList.splice(r,1),s.$message.error({showClose:!0,duration:1e4,message:s.$t("conversation.".concat(t.data.message))})})).catch((function(t){s.messageList.splice(r,1),s.$message.error({showClose:!0,duration:1e4,message:s.$t("conversation.fatal_error")})}));case 32:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),loadTicket:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n=this,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,this.loadingTable=!0,this,t.next=5,M({url:m["a"].chatApi+"whatsapp-conversation",method:"POST",data:{status:this.filter.btnStatus,operator:this.filter.operator,current:this.operatorId},params:{page:e,sort:this.filter.sortBy.column,type:this.filter.sortBy.type,filter:1==this.newMessages?"new_messages":"",query:this.searchTicket?this.searchTicket:"",queryBy:this.searchBy},headers:{"api-key":p["a"].getters.accessToken}}).then((function(t){n.ticket=t.data.data.ticket.map((function(t){return t.chat_duration=f()(k()().diff(t.dateCreate),{largest:3}),t})),n.botId=t.data.data.userIdBot,n.totalTicket=t.data.data.totalTicket;new Array;var e=0;C.a.forEach(n.ticket,(function(t){n.problem=t.problem.length,t.lastMessages&&(n.ticket[e].lastMessages=t.lastMessages.length>50?t.lastMessages.slice(0,50)+"...":t.lastMessages,"image"==n.ticket[e].lastMessagesType?n.ticket[e].lastMessages="(Image)":"pdf"==n.ticket[e].lastMessagesType?n.ticket[e].lastMessages="(File)":"video"==n.ticket[e].lastMessagesType&&(n.ticket[e].lastMessages="(Video)")),n.ticket[e].custName=t.customer.name,n.ticket[e].custPhone=t.customer.number,e++})),n.ticketLoader=!1})).catch((function(t){}));case 5:this.loadingTable=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),maskingNumber:function(t){if(1==this.doMasking){for(var e=[],n=0;n<t.length-4;n++)e[n]="*";e=C.a.join(e,"");var a=t.substring(0,t.length-4),r=C.a.replace(t,a,e);return r}return t},loadByConversation:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this,this.showButtonReach=!1,this.showBtnClose=!1,this.loadingMessage=!0,this.chatLoader=!0,this.openChat(),this.chatConversationId=e,this.ticketCode=n,this.messageList=[],this.participants=[],t.next=12,M({url:m["a"].chatApi+"whatsapp-conversation-detail/"+e,method:"POST",headers:{"api-key":p["a"].getters.accessToken},data:{number:this.operatorNumber}}).then((function(t){200!=t.data.ec&&(a.isChatOpen=!1,a.chatLoader=!1,a.loadingMessage=!1,a.$message.error({showClose:!0,duration:3e3,message:a.$t("".concat(t.data.message,"!"))})),a.chat=t.data.data.chat,a.sendTo=t.data.data.sendTo,a.sender=t.data.data.customerNumber[0];var e=new Array,r=new Array;C.a.forEach(a.chat,(function(t){if("USER_ANSWER"==t.type||"CS_ANSWER"==t.type){t.lastMessagesTime=k()(t.lastMessagesTime).format("YYYY-MM-DD HH:mm:ss");var n={type:t.messageType,name:t.senderName,author:t.number==a.sender?"me":t.number};["text","contacts","location"].includes(t.messageType)?n.data={text:t.body,meta:"CS_ANSWER"==t.type?t.lastMessagesTime:t.senderName+" - "+t.lastMessagesTime}:"emoji"==t.messageType?n.data={emoji:t.body,meta:t.lastMessagesTime}:-1!==["image","pdf","video"].indexOf(t.messageType)&&(n.type="file",n.data={text:t.caption,file:{src:t.body,type:"image",time:"now....",onclick:function(e){a.clickedImage="image"==a.checkFileType(t.body)?e.path[0].currentSrc:t.body,"pdf"==a.checkFileType(t.body)?a.doRenderPdf():a.checkFileType(t.body),a.dialogImage=!0}},meta:"CS_ANSWER"==t.type?t.lastMessagesTime:t.senderName+" - "+t.lastMessagesTime}),r.push(n),e.push({id:t.number,name:t.senderName})}else t.lastMessagesTime=k()(t.lastMessagesTime).format("YYYY-MM-DD HH:mm:ss"),r.push({type:"system",name:t.senderName,data:{text:t.body,meta:t.number==a.sender?"System - "+t.lastMessagesTime:t.senderName+" "+t.lastMessagesTime}}),e.push({id:t.number,name:t.senderName})})),a.participants=C.a.map(t.data.data.participant,(function(e){e.id=e.number;var n=a.maskingNumber(e.number);return e.number==a.sender?t.data.data.ticket.operator?(e.name=t.data.data.ticket.operator.name,t.data.data.ticket.operator.operator==a.operatorId&&(e.name+=" (You)")):e.name=a.operatorName+" (You)":e.name+=" (".concat(n,")"),e.imageUrl=360*Math.random()+","+(25+70*Math.random())+"%,"+(85+10*Math.random())+"%",e})),a.messageList=r,a.showButtonReach=!t.data.data.canReply,a.showBtnClose=!t.data.data.canReply,a.showInput=t.data.data.canReply,t.data.data.ticket?(a.currentTicket=t.data.data.ticket,2!=t.data.data.ticket.status&&"2"!=t.data.data.ticket?(null==t.data.data.ticket.group||t.data.data.ticket.group,a.showGroupButton=!0):a.showGroupButton=a.showButtonReach=a.showBtnClose=a.showInput=!1):a.showGroupButton=!0,a.titleChat="#".concat(n," (").concat(C.a.find(a.participants,(function(t){return t.number==a.sendTo})).name.replace("(".concat(a.maskingNumber(a.sendTo),")"),"").trim(),")"),a.chatLoader=!1,a.loadingMessage=!1})).catch((function(t){console.log(t)}));case 12:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),notifBell:function(){if(1==this.mute){var t=new Audio(j.a);t.volume=.2,t.play()}}},watch:{mute:function(){this.$store.commit("setBellNotif",this.mute)}},mounted:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b.a.Permission.GRANTED,window.onblur=function(){this.windowIsBlur=!0},window.onfocus=function(){this.windowIsBlur=!1},t.next=5,this.authUser();case 5:R.connect(),R.on("connect",(function(){""!=e.operatorId&&R.emit("enter conversation",e.operatorId)})),1==this.showTicket&&(R.emit("enter conversation",this.operatorId),R.on("listenTicket",(function(t){setTimeout((function(){b.a.create("New ticket #"+t.ticket.code,{body:"New ticket #"+t.ticket.code,icon:"/logo-cropped.png",timeout:6e3,onClick:function(){window.focus()}})}),3e3),e.notifBell(),e.loadTicket()})),R.on("listenChat",function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("CS_ANSWER"!=n.data.type&&(e.notifBell(),n.conversationId==e.chatConversationId&&0==e.isChatOpen&&(e.newMessagesCount+=1)),n.conversationId!=e.chatConversationId||1!=e.isChatOpen){t.next=30;break}if(0!=e.imSendingMessage||n.data.senderId==e.botId){t.next=25;break}if(e.showInput=!0,e.showButtonReach=!1,e.showBtnClose=!1,a={},r={type:-1!==["image","pdf","video"].indexOf(n.data.messageType)?"file":"text",name:n.data.senderName,author:n.data.number==e.sender?"me":n.data.number,data:a},-1===["image","pdf","video"].indexOf(n.data.messageType)){t.next=15;break}a={file:{src:(n.data.senderId,e.botId,n.data.body),type:-1!==["image","video"].indexOf(n.data.messageType)?n.data.messageType:"file",onclick:function(t){e.clickedImage="image"==n.data.messageType?t.path[0].currentSrc:n.data.body,"pdf"==n.data.messageType?e.doRenderPdf():e.checkFileType(value.body),e.dialogImage=!0}},text:n.data.caption||void 0,meta:e.formatDate(n.data.lastMessagesTime,"YYYY-MM-DD HH:mm:ss")},r.data=a,e.messageList.push(r),e.chat.push(n.data),t.next=23;break;case 15:return a={text:n.data.body,meta:n.data.number==e.sendTo?n.data.senderName+" - "+e.formatDate(n.data.lastMessagesTime,"YYYY-MM-DD HH:mm:ss"):e.formatDate(n.data.lastMessagesTime,"YYYY-MM-DD HH:mm:ss")},"#close"!=e.lastSentMessage&&"system"!=n.data.incomingType||(r.author="system","#close"==e.lastSentMessage&&(e.showInput=!1)),r.data=a,r.type="system"==n.data.incomingType?"system":"text",t.next=21,e.messageList.push(r);case 21:return t.next=23,e.chat.push(n.data);case 23:t.next=27;break;case 25:"#close"!=e.lastSentMessage&&"system"!=n.data.incomingType||(i={name:n.data.senderName,type:"system",data:{text:n.data.body,meta:"System - "+e.formatDate(n.data.lastMessagesTime,"YYYY-MM-DD HH:mm:ss")}},"#close"==e.lastSentMessage&&(e.showInput=!1),e.messageList.push(i)),e.imSendingMessage=!1;case 27:e.loadTicket(),t.next=32;break;case 30:n.data.senderId!=e.botId&&"CS_ANSWER"!=n.data.type&&e.pushNotif(n.data.senderName,-1!=["text","pdf"].indexOf(n.data.messageType)?n.data.body:"(".concat(e.capitalizeFirstLetter(n.data.messageType),")"),"".concat(n.conversationId,"#").concat(n.code)),e.loadTicket();case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){R.disconnect()},components:{pdf:T.a}},D=O,B=(n("9aa2"),n("70bd"),n("2877")),I=Object(B["a"])(D,a,r,!1,null,"04f5cea0",null);e["default"]=I.exports},"8f14":function(t,e,n){var a;(function(){var r={y:function(t){return 1===t?"χρόνος":"χρόνια"},mo:function(t){return 1===t?"μήνας":"μήνες"},w:function(t){return 1===t?"εβδομάδα":"εβδομάδες"},d:function(t){return 1===t?"μέρα":"μέρες"},h:function(t){return 1===t?"ώρα":"ώρες"},m:function(t){return 1===t?"λεπτό":"λεπτά"},s:function(t){return 1===t?"δευτερόλεπτο":"δευτερόλεπτα"},ms:function(t){return 1===t?"χιλιοστό του δευτερολέπτου":"χιλιοστά του δευτερολέπτου"},decimal:","},i=["۰","١","٢","٣","٤","٥","٦","٧","٨","٩"],s={af:{y:"jaar",mo:function(t){return"maand"+(1===t?"":"e")},w:function(t){return 1===t?"week":"weke"},d:function(t){return 1===t?"dag":"dae"},h:function(t){return 1===t?"uur":"ure"},m:function(t){return 1===t?"minuut":"minute"},s:function(t){return"sekonde"+(1===t?"":"s")},ms:function(t){return"millisekonde"+(1===t?"":"s")},decimal:","},ar:{y:function(t){return["سنة","سنتان","سنوات"][p(t)]},mo:function(t){return["شهر","شهران","أشهر"][p(t)]},w:function(t){return["أسبوع","أسبوعين","أسابيع"][p(t)]},d:function(t){return["يوم","يومين","أيام"][p(t)]},h:function(t){return["ساعة","ساعتين","ساعات"][p(t)]},m:function(t){return["دقيقة","دقيقتان","دقائق"][p(t)]},s:function(t){return["ثانية","ثانيتان","ثواني"][p(t)]},ms:function(t){return["جزء من الثانية","جزآن من الثانية","أجزاء من الثانية"][p(t)]},decimal:",",delimiter:" و ",_formatCount:function(t,e){for(var n=m(i,{".":e}),a=t.toString().split(""),r=0;r<a.length;r++){var s=a[r];v(n,s)&&(a[r]=n[s])}return a.join("")}},bg:{y:function(t){return["години","година","години"][f(t)]},mo:function(t){return["месеца","месец","месеца"][f(t)]},w:function(t){return["седмици","седмица","седмици"][f(t)]},d:function(t){return["дни","ден","дни"][f(t)]},h:function(t){return["часа","час","часа"][f(t)]},m:function(t){return["минути","минута","минути"][f(t)]},s:function(t){return["секунди","секунда","секунди"][f(t)]},ms:function(t){return["милисекунди","милисекунда","милисекунди"][f(t)]},decimal:","},bn:{y:"বছর",mo:"মাস",w:"সপ্তাহ",d:"দিন",h:"ঘন্টা",m:"মিনিট",s:"সেকেন্ড",ms:"মিলিসেকেন্ড"},ca:{y:function(t){return"any"+(1===t?"":"s")},mo:function(t){return"mes"+(1===t?"":"os")},w:function(t){return"setman"+(1===t?"a":"es")},d:function(t){return"di"+(1===t?"a":"es")},h:function(t){return"hor"+(1===t?"a":"es")},m:function(t){return"minut"+(1===t?"":"s")},s:function(t){return"segon"+(1===t?"":"s")},ms:function(t){return"milisegon"+(1===t?"":"s")},decimal:","},cs:{y:function(t){return["rok","roku","roky","let"][g(t)]},mo:function(t){return["měsíc","měsíce","měsíce","měsíců"][g(t)]},w:function(t){return["týden","týdne","týdny","týdnů"][g(t)]},d:function(t){return["den","dne","dny","dní"][g(t)]},h:function(t){return["hodina","hodiny","hodiny","hodin"][g(t)]},m:function(t){return["minuta","minuty","minuty","minut"][g(t)]},s:function(t){return["sekunda","sekundy","sekundy","sekund"][g(t)]},ms:function(t){return["milisekunda","milisekundy","milisekundy","milisekund"][g(t)]},decimal:","},cy:{y:"flwyddyn",mo:"mis",w:"wythnos",d:"diwrnod",h:"awr",m:"munud",s:"eiliad",ms:"milieiliad"},da:{y:"år",mo:function(t){return"måned"+(1===t?"":"er")},w:function(t){return"uge"+(1===t?"":"r")},d:function(t){return"dag"+(1===t?"":"e")},h:function(t){return"time"+(1===t?"":"r")},m:function(t){return"minut"+(1===t?"":"ter")},s:function(t){return"sekund"+(1===t?"":"er")},ms:function(t){return"millisekund"+(1===t?"":"er")},decimal:","},de:{y:function(t){return"Jahr"+(1===t?"":"e")},mo:function(t){return"Monat"+(1===t?"":"e")},w:function(t){return"Woche"+(1===t?"":"n")},d:function(t){return"Tag"+(1===t?"":"e")},h:function(t){return"Stunde"+(1===t?"":"n")},m:function(t){return"Minute"+(1===t?"":"n")},s:function(t){return"Sekunde"+(1===t?"":"n")},ms:function(t){return"Millisekunde"+(1===t?"":"n")},decimal:","},el:r,en:{y:function(t){return"year"+(1===t?"":"s")},mo:function(t){return"month"+(1===t?"":"s")},w:function(t){return"week"+(1===t?"":"s")},d:function(t){return"day"+(1===t?"":"s")},h:function(t){return"hour"+(1===t?"":"s")},m:function(t){return"minute"+(1===t?"":"s")},s:function(t){return"second"+(1===t?"":"s")},ms:function(t){return"millisecond"+(1===t?"":"s")},decimal:"."},eo:{y:function(t){return"jaro"+(1===t?"":"j")},mo:function(t){return"monato"+(1===t?"":"j")},w:function(t){return"semajno"+(1===t?"":"j")},d:function(t){return"tago"+(1===t?"":"j")},h:function(t){return"horo"+(1===t?"":"j")},m:function(t){return"minuto"+(1===t?"":"j")},s:function(t){return"sekundo"+(1===t?"":"j")},ms:function(t){return"milisekundo"+(1===t?"":"j")},decimal:","},es:{y:function(t){return"año"+(1===t?"":"s")},mo:function(t){return"mes"+(1===t?"":"es")},w:function(t){return"semana"+(1===t?"":"s")},d:function(t){return"día"+(1===t?"":"s")},h:function(t){return"hora"+(1===t?"":"s")},m:function(t){return"minuto"+(1===t?"":"s")},s:function(t){return"segundo"+(1===t?"":"s")},ms:function(t){return"milisegundo"+(1===t?"":"s")},decimal:","},et:{y:function(t){return"aasta"+(1===t?"":"t")},mo:function(t){return"kuu"+(1===t?"":"d")},w:function(t){return"nädal"+(1===t?"":"at")},d:function(t){return"päev"+(1===t?"":"a")},h:function(t){return"tund"+(1===t?"":"i")},m:function(t){return"minut"+(1===t?"":"it")},s:function(t){return"sekund"+(1===t?"":"it")},ms:function(t){return"millisekund"+(1===t?"":"it")},decimal:","},eu:{y:"urte",mo:"hilabete",w:"aste",d:"egun",h:"ordu",m:"minutu",s:"segundo",ms:"milisegundo",decimal:","},fa:{y:"سال",mo:"ماه",w:"هفته",d:"روز",h:"ساعت",m:"دقیقه",s:"ثانیه",ms:"میلی ثانیه",decimal:"."},fi:{y:function(t){return 1===t?"vuosi":"vuotta"},mo:function(t){return 1===t?"kuukausi":"kuukautta"},w:function(t){return"viikko"+(1===t?"":"a")},d:function(t){return"päivä"+(1===t?"":"ä")},h:function(t){return"tunti"+(1===t?"":"a")},m:function(t){return"minuutti"+(1===t?"":"a")},s:function(t){return"sekunti"+(1===t?"":"a")},ms:function(t){return"millisekunti"+(1===t?"":"a")},decimal:","},fo:{y:"ár",mo:function(t){return 1===t?"mánaður":"mánaðir"},w:function(t){return 1===t?"vika":"vikur"},d:function(t){return 1===t?"dagur":"dagar"},h:function(t){return 1===t?"tími":"tímar"},m:function(t){return 1===t?"minuttur":"minuttir"},s:"sekund",ms:"millisekund",decimal:","},fr:{y:function(t){return"an"+(t>=2?"s":"")},mo:"mois",w:function(t){return"semaine"+(t>=2?"s":"")},d:function(t){return"jour"+(t>=2?"s":"")},h:function(t){return"heure"+(t>=2?"s":"")},m:function(t){return"minute"+(t>=2?"s":"")},s:function(t){return"seconde"+(t>=2?"s":"")},ms:function(t){return"milliseconde"+(t>=2?"s":"")},decimal:","},gr:r,he:{y:function(t){return 1===t?"שנה":"שנים"},mo:function(t){return 1===t?"חודש":"חודשים"},w:function(t){return 1===t?"שבוע":"שבועות"},d:function(t){return 1===t?"יום":"ימים"},h:function(t){return 1===t?"שעה":"שעות"},m:function(t){return 1===t?"דקה":"דקות"},s:function(t){return 1===t?"שניה":"שניות"},ms:function(t){return 1===t?"מילישנייה":"מילישניות"},decimal:"."},hr:{y:function(t){return t%10===2||t%10===3||t%10===4?"godine":"godina"},mo:function(t){return 1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci"},w:function(t){return t%10===1&&11!==t?"tjedan":"tjedna"},d:function(t){return 1===t?"dan":"dana"},h:function(t){return 1===t?"sat":2===t||3===t||4===t?"sata":"sati"},m:function(t){var e=t%10;return 2!==e&&3!==e&&4!==e||!(t<10||t>14)?"minuta":"minute"},s:function(t){var e=t%10;return 5===e||Math.floor(t)===t&&t>=10&&t<=19?"sekundi":1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi"},ms:function(t){return 1===t?"milisekunda":t%10===2||t%10===3||t%10===4?"milisekunde":"milisekundi"},decimal:","},hi:{y:"साल",mo:function(t){return 1===t?"महीना":"महीने"},w:function(t){return 1===t?"हफ़्ता":"हफ्ते"},d:"दिन",h:function(t){return 1===t?"घंटा":"घंटे"},m:"मिनट",s:"सेकंड",ms:"मिलीसेकंड",decimal:"."},hu:{y:"év",mo:"hónap",w:"hét",d:"nap",h:"óra",m:"perc",s:"másodperc",ms:"ezredmásodperc",decimal:","},id:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"menit",s:"detik",ms:"milidetik",decimal:"."},is:{y:"ár",mo:function(t){return"mánuð"+(1===t?"ur":"ir")},w:function(t){return"vik"+(1===t?"a":"ur")},d:function(t){return"dag"+(1===t?"ur":"ar")},h:function(t){return"klukkutím"+(1===t?"i":"ar")},m:function(t){return"mínút"+(1===t?"a":"ur")},s:function(t){return"sekúnd"+(1===t?"a":"ur")},ms:function(t){return"millisekúnd"+(1===t?"a":"ur")},decimal:"."},it:{y:function(t){return"ann"+(1===t?"o":"i")},mo:function(t){return"mes"+(1===t?"e":"i")},w:function(t){return"settiman"+(1===t?"a":"e")},d:function(t){return"giorn"+(1===t?"o":"i")},h:function(t){return"or"+(1===t?"a":"e")},m:function(t){return"minut"+(1===t?"o":"i")},s:function(t){return"second"+(1===t?"o":"i")},ms:function(t){return"millisecond"+(1===t?"o":"i")},decimal:","},ja:{y:"年",mo:"月",w:"週",d:"日",h:"時間",m:"分",s:"秒",ms:"ミリ秒",decimal:"."},km:{y:"ឆ្នាំ",mo:"ខែ",w:"សប្តាហ៍",d:"ថ្ងៃ",h:"ម៉ោង",m:"នាទី",s:"វិនាទី",ms:"មិល្លីវិនាទី"},kn:{y:function(t){return 1===t?"ವರ್ಷ":"ವರ್ಷಗಳು"},mo:function(t){return 1===t?"ತಿಂಗಳು":"ತಿಂಗಳುಗಳು"},w:function(t){return 1===t?"ವಾರ":"ವಾರಗಳು"},d:function(t){return 1===t?"ದಿನ":"ದಿನಗಳು"},h:function(t){return 1===t?"ಗಂಟೆ":"ಗಂಟೆಗಳು"},m:function(t){return 1===t?"ನಿಮಿಷ":"ನಿಮಿಷಗಳು"},s:function(t){return 1===t?"ಸೆಕೆಂಡ್":"ಸೆಕೆಂಡುಗಳು"},ms:function(t){return 1===t?"ಮಿಲಿಸೆಕೆಂಡ್":"ಮಿಲಿಸೆಕೆಂಡುಗಳು"}},ko:{y:"년",mo:"개월",w:"주일",d:"일",h:"시간",m:"분",s:"초",ms:"밀리 초",decimal:"."},ku:{y:"sal",mo:"meh",w:"hefte",d:"roj",h:"seet",m:"deqe",s:"saniye",ms:"mîlîçirk",decimal:","},lo:{y:"ປີ",mo:"ເດືອນ",w:"ອາທິດ",d:"ມື້",h:"ຊົ່ວໂມງ",m:"ນາທີ",s:"ວິນາທີ",ms:"ມິນລິວິນາທີ",decimal:","},lt:{y:function(t){return t%10===0||t%100>=10&&t%100<=20?"metų":"metai"},mo:function(t){return["mėnuo","mėnesiai","mėnesių"][k(t)]},w:function(t){return["savaitė","savaitės","savaičių"][k(t)]},d:function(t){return["diena","dienos","dienų"][k(t)]},h:function(t){return["valanda","valandos","valandų"][k(t)]},m:function(t){return["minutė","minutės","minučių"][k(t)]},s:function(t){return["sekundė","sekundės","sekundžių"][k(t)]},ms:function(t){return["milisekundė","milisekundės","milisekundžių"][k(t)]},decimal:","},lv:{y:function(t){return w(t)?"gads":"gadi"},mo:function(t){return w(t)?"mēnesis":"mēneši"},w:function(t){return w(t)?"nedēļa":"nedēļas"},d:function(t){return w(t)?"diena":"dienas"},h:function(t){return w(t)?"stunda":"stundas"},m:function(t){return w(t)?"minūte":"minūtes"},s:function(t){return w(t)?"sekunde":"sekundes"},ms:function(t){return w(t)?"milisekunde":"milisekundes"},decimal:","},mk:{y:function(t){return 1===t?"година":"години"},mo:function(t){return 1===t?"месец":"месеци"},w:function(t){return 1===t?"недела":"недели"},d:function(t){return 1===t?"ден":"дена"},h:function(t){return 1===t?"час":"часа"},m:function(t){return 1===t?"минута":"минути"},s:function(t){return 1===t?"секунда":"секунди"},ms:function(t){return 1===t?"милисекунда":"милисекунди"},decimal:","},mr:{y:function(t){return 1===t?"वर्ष":"वर्षे"},mo:function(t){return 1===t?"महिना":"महिने"},w:function(t){return 1===t?"आठवडा":"आठवडे"},d:"दिवस",h:"तास",m:function(t){return 1===t?"मिनिट":"मिनिटे"},s:"सेकंद",ms:"मिलिसेकंद"},ms:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"minit",s:"saat",ms:"milisaat",decimal:"."},nl:{y:"jaar",mo:function(t){return 1===t?"maand":"maanden"},w:function(t){return 1===t?"week":"weken"},d:function(t){return 1===t?"dag":"dagen"},h:"uur",m:function(t){return 1===t?"minuut":"minuten"},s:function(t){return 1===t?"seconde":"seconden"},ms:function(t){return 1===t?"milliseconde":"milliseconden"},decimal:","},no:{y:"år",mo:function(t){return"måned"+(1===t?"":"er")},w:function(t){return"uke"+(1===t?"":"r")},d:function(t){return"dag"+(1===t?"":"er")},h:function(t){return"time"+(1===t?"":"r")},m:function(t){return"minutt"+(1===t?"":"er")},s:function(t){return"sekund"+(1===t?"":"er")},ms:function(t){return"millisekund"+(1===t?"":"er")},decimal:","},pl:{y:function(t){return["rok","roku","lata","lat"][h(t)]},mo:function(t){return["miesiąc","miesiąca","miesiące","miesięcy"][h(t)]},w:function(t){return["tydzień","tygodnia","tygodnie","tygodni"][h(t)]},d:function(t){return["dzień","dnia","dni","dni"][h(t)]},h:function(t){return["godzina","godziny","godziny","godzin"][h(t)]},m:function(t){return["minuta","minuty","minuty","minut"][h(t)]},s:function(t){return["sekunda","sekundy","sekundy","sekund"][h(t)]},ms:function(t){return["milisekunda","milisekundy","milisekundy","milisekund"][h(t)]},decimal:","},pt:{y:function(t){return"ano"+(1===t?"":"s")},mo:function(t){return 1===t?"mês":"meses"},w:function(t){return"semana"+(1===t?"":"s")},d:function(t){return"dia"+(1===t?"":"s")},h:function(t){return"hora"+(1===t?"":"s")},m:function(t){return"minuto"+(1===t?"":"s")},s:function(t){return"segundo"+(1===t?"":"s")},ms:function(t){return"milissegundo"+(1===t?"":"s")},decimal:","},ro:{y:function(t){return 1===t?"an":"ani"},mo:function(t){return 1===t?"lună":"luni"},w:function(t){return 1===t?"săptămână":"săptămâni"},d:function(t){return 1===t?"zi":"zile"},h:function(t){return 1===t?"oră":"ore"},m:function(t){return 1===t?"minut":"minute"},s:function(t){return 1===t?"secundă":"secunde"},ms:function(t){return 1===t?"milisecundă":"milisecunde"},decimal:","},ru:{y:function(t){return["лет","год","года"][f(t)]},mo:function(t){return["месяцев","месяц","месяца"][f(t)]},w:function(t){return["недель","неделя","недели"][f(t)]},d:function(t){return["дней","день","дня"][f(t)]},h:function(t){return["часов","час","часа"][f(t)]},m:function(t){return["минут","минута","минуты"][f(t)]},s:function(t){return["секунд","секунда","секунды"][f(t)]},ms:function(t){return["миллисекунд","миллисекунда","миллисекунды"][f(t)]},decimal:","},sq:{y:function(t){return 1===t?"vit":"vjet"},mo:"muaj",w:"javë",d:"ditë",h:"orë",m:function(t){return"minut"+(1===t?"ë":"a")},s:function(t){return"sekond"+(1===t?"ë":"a")},ms:function(t){return"milisekond"+(1===t?"ë":"a")},decimal:","},sr:{y:function(t){return["години","година","године"][f(t)]},mo:function(t){return["месеци","месец","месеца"][f(t)]},w:function(t){return["недељи","недеља","недеље"][f(t)]},d:function(t){return["дани","дан","дана"][f(t)]},h:function(t){return["сати","сат","сата"][f(t)]},m:function(t){return["минута","минут","минута"][f(t)]},s:function(t){return["секунди","секунда","секунде"][f(t)]},ms:function(t){return["милисекунди","милисекунда","милисекунде"][f(t)]},decimal:","},ta:{y:function(t){return 1===t?"வருடம்":"ஆண்டுகள்"},mo:function(t){return 1===t?"மாதம்":"மாதங்கள்"},w:function(t){return 1===t?"வாரம்":"வாரங்கள்"},d:function(t){return 1===t?"நாள்":"நாட்கள்"},h:function(t){return 1===t?"மணி":"மணிநேரம்"},m:function(t){return"நிமிட"+(1===t?"ம்":"ங்கள்")},s:function(t){return"வினாடி"+(1===t?"":"கள்")},ms:function(t){return"மில்லி விநாடி"+(1===t?"":"கள்")}},te:{y:function(t){return"సంవత్స"+(1===t?"రం":"రాల")},mo:function(t){return"నెల"+(1===t?"":"ల")},w:function(t){return 1===t?"వారం":"వారాలు"},d:function(t){return"రోజు"+(1===t?"":"లు")},h:function(t){return"గంట"+(1===t?"":"లు")},m:function(t){return 1===t?"నిమిషం":"నిమిషాలు"},s:function(t){return 1===t?"సెకను":"సెకన్లు"},ms:function(t){return 1===t?"మిల్లీసెకన్":"మిల్లీసెకన్లు"}},uk:{y:function(t){return["років","рік","роки"][f(t)]},mo:function(t){return["місяців","місяць","місяці"][f(t)]},w:function(t){return["тижнів","тиждень","тижні"][f(t)]},d:function(t){return["днів","день","дні"][f(t)]},h:function(t){return["годин","година","години"][f(t)]},m:function(t){return["хвилин","хвилина","хвилини"][f(t)]},s:function(t){return["секунд","секунда","секунди"][f(t)]},ms:function(t){return["мілісекунд","мілісекунда","мілісекунди"][f(t)]},decimal:","},ur:{y:"سال",mo:function(t){return 1===t?"مہینہ":"مہینے"},w:function(t){return 1===t?"ہفتہ":"ہفتے"},d:"دن",h:function(t){return 1===t?"گھنٹہ":"گھنٹے"},m:"منٹ",s:"سیکنڈ",ms:"ملی سیکنڈ",decimal:"."},sk:{y:function(t){return["rok","roky","roky","rokov"][g(t)]},mo:function(t){return["mesiac","mesiace","mesiace","mesiacov"][g(t)]},w:function(t){return["týždeň","týždne","týždne","týždňov"][g(t)]},d:function(t){return["deň","dni","dni","dní"][g(t)]},h:function(t){return["hodina","hodiny","hodiny","hodín"][g(t)]},m:function(t){return["minúta","minúty","minúty","minút"][g(t)]},s:function(t){return["sekunda","sekundy","sekundy","sekúnd"][g(t)]},ms:function(t){return["milisekunda","milisekundy","milisekundy","milisekúnd"][g(t)]},decimal:","},sl:{y:function(t){return t%10===1?"leto":t%100===2?"leti":t%100===3||t%100===4||Math.floor(t)!==t&&t%100<=5?"leta":"let"},mo:function(t){return t%10===1?"mesec":t%100===2||Math.floor(t)!==t&&t%100<=5?"meseca":t%10===3||t%10===4?"mesece":"mesecev"},w:function(t){return t%10===1?"teden":t%10===2||Math.floor(t)!==t&&t%100<=4?"tedna":t%10===3||t%10===4?"tedne":"tednov"},d:function(t){return t%100===1?"dan":"dni"},h:function(t){return t%10===1?"ura":t%100===2?"uri":t%10===3||t%10===4||Math.floor(t)!==t?"ure":"ur"},m:function(t){return t%10===1?"minuta":t%10===2?"minuti":t%10===3||t%10===4||Math.floor(t)!==t&&t%100<=4?"minute":"minut"},s:function(t){return t%10===1?"sekunda":t%100===2?"sekundi":t%100===3||t%100===4||Math.floor(t)!==t?"sekunde":"sekund"},ms:function(t){return t%10===1?"milisekunda":t%100===2?"milisekundi":t%100===3||t%100===4||Math.floor(t)!==t?"milisekunde":"milisekund"},decimal:","},sv:{y:"år",mo:function(t){return"månad"+(1===t?"":"er")},w:function(t){return"veck"+(1===t?"a":"or")},d:function(t){return"dag"+(1===t?"":"ar")},h:function(t){return"timm"+(1===t?"e":"ar")},m:function(t){return"minut"+(1===t?"":"er")},s:function(t){return"sekund"+(1===t?"":"er")},ms:function(t){return"millisekund"+(1===t?"":"er")},decimal:","},sw:{y:function(t){return 1===t?"mwaka":"miaka"},mo:function(t){return 1===t?"mwezi":"miezi"},w:"wiki",d:function(t){return 1===t?"siku":"masiku"},h:function(t){return 1===t?"saa":"masaa"},m:"dakika",s:"sekunde",ms:"milisekunde",decimal:"."},tr:{y:"yıl",mo:"ay",w:"hafta",d:"gün",h:"saat",m:"dakika",s:"saniye",ms:"milisaniye",decimal:","},th:{y:"ปี",mo:"เดือน",w:"สัปดาห์",d:"วัน",h:"ชั่วโมง",m:"นาที",s:"วินาที",ms:"มิลลิวินาที",decimal:"."},vi:{y:"năm",mo:"tháng",w:"tuần",d:"ngày",h:"giờ",m:"phút",s:"giây",ms:"mili giây",decimal:","},zh_CN:{y:"年",mo:"个月",w:"周",d:"天",h:"小时",m:"分钟",s:"秒",ms:"毫秒",decimal:"."},zh_TW:{y:"年",mo:"個月",w:"周",d:"天",h:"小時",m:"分鐘",s:"秒",ms:"毫秒",decimal:"."}};function o(t){var e=function(t,n){var a=m({},e,n||{});return l(t,a)};return m(e,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},t)}var c=o({});function u(t){var e=[t.language];if(v(t,"fallbacks")){if(!b(t.fallbacks)||!t.fallbacks.length)throw new Error("fallbacks must be an array with at least one element");e=e.concat(t.fallbacks)}for(var n=0;n<e.length;n++){var a=e[n];if(v(t.languages,a))return t.languages[a];if(v(s,a))return s[a]}throw new Error("No language found.")}function l(t,e){var n,a,r;t=Math.abs(t);var i,s,o,c=u(e),l=[];for(n=0,a=e.units.length;n<a;n++){if(i=e.units[n],s=e.unitMeasures[i],n+1===a)if(v(e,"maxDecimalPoints")){var m=Math.pow(10,e.maxDecimalPoints),p=t/s;o=parseFloat((Math.floor(m*p)/m).toFixed(e.maxDecimalPoints))}else o=t/s;else o=Math.floor(t/s);l.push({unitCount:o,unitName:i}),t-=o*s}var h,f,g=0;for(n=0;n<l.length;n++)if(l[n].unitCount){g=n;break}if(e.round)for(n=l.length-1;n>=0;n--){if(r=l[n],r.unitCount=Math.round(r.unitCount),0===n)break;f=l[n-1],h=e.unitMeasures[f.unitName]/e.unitMeasures[r.unitName],(r.unitCount%h===0||e.largest&&e.largest-1<n-g)&&(f.unitCount+=r.unitCount/h,r.unitCount=0)}var k,w=[];for(n=0,l.length;n<a;n++)if(r=l[n],r.unitCount&&w.push(d(r.unitCount,r.unitName,c,e)),w.length===e.largest)break;return w.length?(k=v(e,"delimiter")?e.delimiter:v(c,"delimiter")?c.delimiter:", ",e.conjunction&&1!==w.length?2===w.length?w.join(e.conjunction):w.length>2?w.slice(0,-1).join(k)+(e.serialComma?",":"")+e.conjunction+w.slice(-1):void 0:w.join(k)):d(0,e.units[e.units.length-1],c,e)}function d(t,e,n,a){var r,i;r=v(a,"decimal")?a.decimal:v(n,"decimal")?n.decimal:".",i="function"===typeof n._formatCount?n._formatCount(t,r):t.toString().replace(".",r);var s,o=n[e];return s="function"===typeof o?o(t):o,i+a.spacer+s}function m(t){for(var e,n=1;n<arguments.length;n++)for(var a in e=arguments[n],e)v(e,a)&&(t[a]=e[a]);return t}function p(t){return 1===t?0:2===t?1:t>2&&t<11?2:0}function h(t){return 1===t?0:Math.floor(t)!==t?1:t%10>=2&&t%10<=4&&!(t%100>10&&t%100<20)?2:3}function f(t){return Math.floor(t)!==t?2:t%100>=5&&t%100<=20||t%10>=5&&t%10<=9||t%10===0?0:t%10===1?1:t>1?2:0}function g(t){return 1===t?0:Math.floor(t)!==t?1:t%10>=2&&t%10<=4&&t%100<10?2:3}function k(t){return 1===t||t%10===1&&t%100>20?0:Math.floor(t)!==t||t%10>=2&&t%100>20||t%10>=2&&t%100<10?1:2}function w(t){return t%10===1&&t%100!==11}var b=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}c.getSupportedLanguages=function(){var t=[];for(var e in s)v(s,e)&&"gr"!==e&&t.push(e);return t},c.humanizer=o,a=function(){return c}.call(e,n,e,t),void 0===a||(t.exports=a)})()},9565:function(t,e,n){},"9aa2":function(t,e,n){"use strict";n("eab0")},eab0:function(t,e,n){}}]);