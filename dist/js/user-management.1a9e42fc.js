(window.webpackJsonp=window.webpackJsonp||[]).push([["user-management"],{"0a49":function(e,t,a){var w=a("9b43"),C=a("626a"),x=a("4bf8"),_=a("9def"),i=a("cd1c");e.exports=function(d,e){var m=1==d,p=2==d,g=3==d,v=4==d,h=6==d,f=5==d||h,b=e||i;return function(e,t,a){for(var i,s,r=x(e),n=C(r),o=w(t,a,3),l=_(n.length),c=0,u=m?b(e,l):p?b(e,0):void 0;c<l;c++)if((f||c in n)&&(s=o(i=n[c],c,r),d))if(m)u[c]=s;else if(s)switch(d){case 3:return!0;case 5:return i;case 6:return c;case 2:u.push(i)}else if(v)return!1;return h?-1:g||v?v:u}}},1169:function(e,t,a){var i=a("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"2f21":function(e,t,a){"use strict";var i=a("79e5");e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},4837:function(e,t,a){"use strict";a.r(t);var i,s,r,n=(a("96cf"),a("3b8d")),o=a("271f"),l=a("db49"),n=(a("c0d6"),a("bc3a"),{data:function(){return{showAlert:!1,showAlertError:!1,showCard:!0,loadingPage:!1,loadingBtn:!1,alertErrorMessage:"You are not allowed to see this page.",options:{allowMakerChecker:!1}}},methods:{changeFilter:function(){this.loadPreferences()},loadPreferences:(r=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingPage=!0,e.next=3,Object(o.a)({method:"get",url:l.a.baseApi+"auth/settings/"}).then(function(e){200==e.data.ec?t.options=e.data.data:"not_allowed"==e.data.message&&(t.showAlert=!0)}).catch(function(e){t.showAlertError=!0});case 3:this.loadingPage=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),updatePreferences:(s=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingBtn=!0,e.next=3,Object(o.a)({method:"patch",url:l.a.baseApi+"auth/settings/",data:{options:this.options}}).then(function(e){200==e.data.ec?t.$swal(t.$t("success"),t.$t("success"),"success").then(function(e){t.loadPreferences()}):t.$swal(t.$t("error"),t.$t("error_text"),"warning")}).catch(function(e){t.$swal(t.$t("error"),t.$t("error_text"),"error")});case 3:this.loadingBtn=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},mounted:(i=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$store.getters.isPic?this.loadPreferences():(this.loadingPage=!1,this.showAlert=!0);case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})}),a=a("2877"),n=Object(a.a)(n,function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingPage,expression:"loadingPage"}],staticClass:"scrollable only-y"},[i("div",{staticClass:"page-header"},[i("h1",[a._v(a._s(a.$t("settings.title")))])]),a.showAlertError||a.showAlert?i("el-card",{staticStyle:{"margin-bottom":"1em"}},[a.showAlertError?i("error-gope-siji"):a._e(),a.showAlert?i("el-alert",{attrs:{title:a.$t("error"),description:a.alertErrorMessage,type:"error",closable:!1,"show-icon":""}}):a._e()],1):a._e(),!a.showCard||a.showAlert||a.showAlertError?a._e():i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingPage,expression:"loadingPage"}],staticStyle:{"margin-bottom":"1em"}},[a.showCard?i("el-row",{staticStyle:{"z-index":"0"},attrs:{gutter:10}},[a._l(a.options,function(e,t){return a.showCard?i("el-col",{key:t,staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-row",{staticClass:"mb-20",attrs:{gutter:30}},[i("el-col",{attrs:{xs:4,sm:4,md:4,lg:4,xl:4}},[i("h5",[a._v(a._s(e.options_name))])]),"boolean"==e.options_type?i("el-col",{staticClass:"mt-20",attrs:{xs:20,sm:20,md:20,lg:20,xl:20}},[i("el-switch",{attrs:{"active-text":"Yes","active-value":"true","inactive-text":"No","inactive-value":"false"},model:{value:a.options[t].options_value,callback:function(e){a.$set(a.options[t],"options_value",e)},expression:"options[index].options_value"}})],1):a._e()],1)],1):a._e()}),i("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-button",{attrs:{type:"primary",loading:a.loadingBtn},on:{click:a.updatePreferences}},[i("i",{staticClass:"mdi mdi-content-save"}),a._v(" "+a._s(a.$t("generic.update")))])],1)],1)],1)],2):a._e()],1)],1)},[],!1,null,null,null);t.default=n.exports},"55dd":function(e,t,a){"use strict";var i=a("5ca1"),s=a("d8e8"),r=a("4bf8"),n=a("79e5"),o=[].sort,l=[1,2,3];i(i.P+i.F*(n(function(){l.sort(void 0)})||!n(function(){l.sort(null)})||!a("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(r(this)):o.call(r(this),s(e))}})},"5ca3":function(e,t,a){},7367:function(e,t,a){"use strict";a.r(t);var i,s,r,n,o,l,c,u,d,m,p,g,v,h,f,b,w,C,x,_,y,k,D,O,R,A,j,$,S=(a("55dd"),a("7f7f"),a("ac6a"),a("7514"),a("a481"),a("96cf"),a("3b8d")),T=a("bd86"),N=a("2ef0"),E=a.n(N),G=a("271f"),L=a("db49"),U=a("c0d6"),P=a("c1df"),M=new(a("5928"))({b:512}).importKey(L.a.privateKey,"pkcs1-public-pem"),I={data:function(){var i=this,e={availableChannel:[{v:"WhatsApp",k:"whatsapp"},{v:"Telegram",k:"telegram"}],currentPage:1};return Object(T.a)(e,"currentPage",1),Object(T.a)(e,"totalDivision",0),Object(T.a)(e,"totalDivisionTemplate",1),Object(T.a)(e,"divisionCurrentPage",1),Object(T.a)(e,"divisionTemplateCurrentPage",1),Object(T.a)(e,"activeTab","user"),Object(T.a)(e,"listUser",new Array),Object(T.a)(e,"wanumber",new Array),Object(T.a)(e,"dialogVisible",!1),Object(T.a)(e,"dialogDetail",!1),Object(T.a)(e,"sendInvite",!1),Object(T.a)(e,"loadingReg",!1),Object(T.a)(e,"loadingEmail",!1),Object(T.a)(e,"loadingDialogDetail",!1),Object(T.a)(e,"loadingTable",!0),Object(T.a)(e,"loadingAssign",!1),Object(T.a)(e,"loadingRemoveCs",!1),Object(T.a)(e,"loadingAssignChecker",!1),Object(T.a)(e,"loadingDivision",!1),Object(T.a)(e,"loadingDivisionTemplate",!1),Object(T.a)(e,"loadingListHsm",!1),Object(T.a)(e,"visibleRemove",!1),Object(T.a)(e,"loadingRemove",!1),Object(T.a)(e,"loadingAddTemplate",!1),Object(T.a)(e,"selectedEmail",""),Object(T.a)(e,"selectedNumber",""),Object(T.a)(e,"selectedRows",null),Object(T.a)(e,"userEmail",U.a.getters.email),Object(T.a)(e,"dialogAssignCS",!1),Object(T.a)(e,"dialogRemoveCS",!1),Object(T.a)(e,"dialogAssignChecker",!1),Object(T.a)(e,"dialogRemoveChecker",!1),Object(T.a)(e,"dialogNewDivision",!1),Object(T.a)(e,"dialogNewCsGroup",!1),Object(T.a)(e,"dialogViewDivision",!1),Object(T.a)(e,"dialogUpdateDivision",!1),Object(T.a)(e,"dialogUpdateCsGroup",!1),Object(T.a)(e,"dialogAssignTemplate",!1),Object(T.a)(e,"showAlertError",!1),Object(T.a)(e,"showAlert",!1),Object(T.a)(e,"alertErrorMessage",this.$t("error_text")),Object(T.a)(e,"allowMakerChecker",!1),Object(T.a)(e,"totalDivision",0),Object(T.a)(e,"selectedGroupCS",""),Object(T.a)(e,"listGroupCS",[]),Object(T.a)(e,"division",{dataSelected:[],dataSelectedLength:0,data:[],divisionName:"",picName:"",loading:!1,buttonLoadingCreate:!1,buttonLoadingEdit:!1,buttonLoadingDelete:!1,buttonLoadingAssignTemplate:!1,buttonLoadingViewDivision:!1,buttonLoadingUpdateDivision:!1,buttonLoadingDeleteDivision:!1}),Object(T.a)(e,"customer_service",{list:[],loadingTable:!1,total:0,current_page:1,limit:10,selected:{},dialogEdit:{visible:!1,loading:!1}}),Object(T.a)(e,"cs_group",{id:"",name:"",buttonLoadingCreate:!1,buttonLoadingEdit:!1}),Object(T.a)(e,"checkTotalCsGroup",[]),Object(T.a)(e,"dialogTableDetailCsVisible",!1),Object(T.a)(e,"buttonloadingremove",!1),Object(T.a)(e,"removeMemberLoading",!1),Object(T.a)(e,"selectedCsGroup",[{name:""}]),Object(T.a)(e,"selectedDivision",""),Object(T.a)(e,"selectedDivisionPic",""),Object(T.a)(e,"selectedHsm",""),Object(T.a)(e,"assignTemplate",{data:[],loading:!1,buttonLoading:!1}),Object(T.a)(e,"assignedHsmDivision",[]),Object(T.a)(e,"hsmList",[]),Object(T.a)(e,"loadingTableDivision",!1),Object(T.a)(e,"loadingTableDetailDivision",!1),Object(T.a)(e,"loadingTableCsGroup",!1),Object(T.a)(e,"form",{email:""}),Object(T.a)(e,"formAssignCs",{channels:"",number:"",group:null}),Object(T.a)(e,"formRemoveCS",{number:"",channels:""}),Object(T.a)(e,"formRemove",{password:""}),Object(T.a)(e,"rulesForm",{email:[{validator:function(e,t,a){if(!(t=i.form.email))return a(new Error(i.$t("register.invalid_parameter")));if(0==/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t))return a(new Error(i.$t("register.email_not_valid")));a()},trigger:"blur"}]}),Object(T.a)(e,"rulesFormRemove",{password:[{validator:function(e,t,a){if(!t)return a(new Error(i.$t("register.invalid_parameter")));a()},trigger:"blur"}]}),Object(T.a)(e,"errors",[]),Object(T.a)(e,"waUserDetail",{hsm:[],sender:{}}),Object(T.a)(e,"loadingForm",!1),Object(T.a)(e,"tokenLoader",!1),e},methods:(I={upperFirst:function(){return N.upperFirst.apply(void 0,arguments)},paginateCs:function(e){this.customer_service.current_page=e,this.getCsList(e)},tabClicked:($=Object(S.a)(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("division"!=(a=t.paneName)){e.next=5;break}this.getDivision(),e.next=17;break;case 5:if("user"!=a){e.next=9;break}this.getListUser(),e.next=17;break;case 9:if("customer_service"!=a){e.next=13;break}this.getCsList(),e.next=17;break;case 13:if("cs_group"==a)return e.next=16,this.getCsList();e.next=17;break;case 16:this.getCsGroup();case 17:case"end":return e.stop()}},e,this)})),function(e){return $.apply(this,arguments)}),formatString:function(e){return(e[0].toUpperCase()+e.slice(1)).replace(/_/g," ")},hsmAssigned:function(t){return E.a.find(this.assignedHsmDivision,function(e){return e.templateId==t})},paginateDivision:function(e){this.divisionCurrentPage=e,this.getDivision(e)},paginateDivisionTemplate:function(e){this.divisionTemplateCurrentPage=e,this.getDivisionDetail(e)},numberOnly:function(e){window.event?e.keyCode:e.which,-1!==E.a.indexOf([8,9,27,13,190,43],e.keyCode)||86===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||82===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||42<e.keyCode&&e.keyCode<=49&&-1==E.a.indexOf([44,45,46,47],e.keyCode)||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(96<e.keyCode||e.keyCode<200)&&e.preventDefault()},paste:function(e){e.preventDefault();for(var t,a=window.event.clipboardData.getData("Text"),i="",s=0;s<a.length;s++)t=a.charAt(s),-1!="+0123456789".indexOf(t)&&(i+=t);this.contactDialog.data.phone_number=i},formatDate:function(e,t){return P(e).format(t)},showSelectedHsm:function(){}},Object(T.a)(I,"hsmAssigned",function(t){var e=this;return this.waUserDetail.hsm.filter(function(t){return e.division.data.find(function(e){return e.template.find(function(e){return e.templateId==t._id})})}).find(function(e){return e._id==t})}),Object(T.a)(I,"doShowDialogNewDivision",function(){this.dialogNewDivision=!0}),Object(T.a)(I,"doShowDialogNewCsGroup",function(){this.dialogNewCsGroup=!0}),Object(T.a)(I,"handleClickAssignTemplate",function(e){this.selectedDivision=e,this.dialogAssignTemplate=!0}),Object(T.a)(I,"closeAssignTemplate",function(){this.selectedPhoneNumber="",this.selectedHsm="",this.division.dataSelected=[],this.dialogAssignTemplate=!1,this.getDivisionDetail()}),Object(T.a)(I,"handleClickViewDivision",function(e){this.division.buttonLoadingViewDivision=!0,this.selectedDivision=e,this.getDivisionDetail(),this.getAllHSM(),this.division.buttonLoadingViewDivision=!1,this.dialogViewDivision=!0}),Object(T.a)(I,"handleClickUpdateDivision",function(e,t){this.division.buttonLoadingUpdateDivision=!0,this.selectedOldDivision=e,this.selectedDivision=e,this.selectedDivisionPic=t,this.getDivisionDetail(),this.division.buttonLoadingUpdateDivision=!1,this.dialogUpdateDivision=!0}),Object(T.a)(I,"handleClickDeleteDivision",(j=Object(S.a)(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("Are you sure want to delete division <b>".concat(t,"</b> ?"),"Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.division.buttonLoadingDeleteDivision=!0,a.selectedDivision=t,e.next=4,Object(G.a)({url:L.a.baseApi+"/division/remove/",method:"POST",data:{divisionName:a.selectedDivision}}).then(function(e){200!=e.data.ec?a.$swal(a.$t("error"),a.$t("error_text"),"error"):(a.$message({showClose:!0,message:"Division successfully deleted",type:"success"}),a.getDivision()),a.division.buttonLoadingDeleteDivision=!1}).catch(function(e){a.division.buttonLoadingDeleteDivision=!1});case 4:case"end":return e.stop()}},e)}))).catch(function(e){a.division.buttonLoadingDeleteDivision=!1});case 1:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})),Object(T.a)(I,"getDivision",(A=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:1,this.loadingTableDivision=!0,e.next=4,Object(G.a)({methods:"get",url:L.a.baseApi+"division/list?page="+t}).then(function(e){a.division.data=e.data.data;var t=[];E.a.forEach(e.data.data,function(e){E.a.forEach(e.template,function(e){t.push(e)})}),a.assignedHsmDivision=t,a.totalDivision=parseInt(e.data.total)}).catch(function(e){});case 4:this.loadingTableDivision=!1;case 5:case"end":return e.stop()}},e,this)})),function(){return A.apply(this,arguments)})),Object(T.a)(I,"getDivisionDetail",(R=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a,i=this,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<s.length&&void 0!==s[0]?s[0]:1,a=this.selectedDivision,e.next=4,Object(G.a)({methods:"get",url:"".concat(L.a.baseApi,"division/list/").concat(a,"?page=").concat(t)}).then(function(e){i.division.dataSelected=e.data.data.template,i.division.dataSelectedLength=parseInt(e.data.total)}).catch(function(e){});case 4:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})),Object(T.a)(I,"createDivision",(O=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==this.division.divisionName||""==this.division.picName)return this.$message.error({showClose:!1,message:"All field is required"}),e.abrupt("return");e.next=5;break;case 5:return this.division.buttonLoadingCreate=!0,e.next=8,Object(G.a)({method:"post",url:L.a.baseApi+"division/create",data:{divisionName:this.division.divisionName,picName:this.division.picName,template:[{templateName:"",templateId:""}]}}).then(function(e){200!=e.data.ec?t.$message({showClose:!0,message:"Create division failed",type:"error"}):(t.$message({showClose:!0,message:"Division was successfully created",type:"success"}),t.dialogNewDivision=!1,t.division.divisionName="",t.division.picName="",t.getDivision()),t.division.buttonLoadingCreate=!1}).catch(function(e){});case 8:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})),Object(T.a)(I,"updateDivision",(D=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==this.selectedDivision||""==this.selectedDivisionPic)return this.$message.error({showClose:!1,message:"All field is required"}),e.abrupt("return");e.next=5;break;case 5:return e.next=7,Object(G.a)({method:"POST",url:L.a.baseApi+"division/update/"+this.selectedOldDivision+"/"+this.selectedDivisionPic,data:{divisionName:this.selectedDivision,picName:this.selectedDivisionPic}}).then(function(e){200!=e.data.ec?t.$message({showClose:!0,message:"Update division failed",type:"error"}):(t.$message({showClose:!0,message:"Updated success",type:"success"}),t.dialogUpdateDivision=!1,t.selectedDivision="",t.selectedDivisionPic="",t.getDivision())}).catch(function(e){});case 7:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)})),Object(T.a)(I,"getCsGroup",(k=Object(S.a)(regeneratorRuntime.mark(function e(){var i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)({methods:"get",url:L.a.chatApi+"csgroup"}).then(function(e){i.listGroupCS=e.data.data.group,i.listGroupCS.forEach(function(e){""!=e.name&&null!=e.name||(e.name="-")}),i.listGroupCS.sort(function(e,t){e=e.name.toUpperCase(),t=t.name.toUpperCase();return e<t?-1:t<e?1:0}),i.forEnableDisable();var a=i.customer_service.list;a.forEach(function(e,t){null!=e.groupName&&""!=e.groupName||(a[t].groupName="-")});for(var t=0;t<a.length;t++)!function(t){i.listGroupCS.forEach(function(e){e.name==a[t].groupName&&(e.isDisabled=!0)})}(t)}).catch(function(e){});case 2:case"end":return e.stop()}},e)})),function(){return k.apply(this,arguments)})),Object(T.a)(I,"createCsGroup",(y=Object(S.a)(regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==this.cs_group.name||""==this.cs_group.name.trim()||" "==this.cs_group.name.trim()||"-"==this.cs_group.name.trim())return this.$message.error({showClose:!1,message:"Group Name field is required"}),e.abrupt("return");e.next=5;break;case 5:return this.cs_group.buttonLoadingCreate=!0,this.loadingTableCsGroup=!0,e.next=9,Object(G.a)({method:"post",url:L.a.chatApi+"csgroup",data:{name:this.cs_group.name}}).then(function(){var t=Object(S.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200==t.data.ec||400==t.data.code){e.next=4;break}a.$message({showClose:!0,message:"Create CS Group failed",type:"error"}),e.next=16;break;case 4:if(400!=t.data.code){e.next=8;break}a.$message.error({showClose:!1,message:"Group name "+t.data.message}),e.next=16;break;case 8:return a.$message({showClose:!0,message:"CS Group was successfully created",type:"success"}),a.dialogNewDivision=!1,a.cs_group.name="",a.dialogNewCsGroup=!1,e.next=14,a.getCsList();case 14:return e.next=16,a.getCsGroup();case 16:a.cs_group.buttonLoadingCreate=!1,a.loadingTableCsGroup=!1;case 18:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){a.$swal(a.$t("error"),a.$t("error_text"),"error"),a.loadingTableCsGroup=!1});case 9:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})),Object(T.a)(I,"updateCsGroup",(_=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.selectedCsGroup[0].name.trim(),""==this.selectedCsGroup[0].name||""==t||" "==t||"-"==t)return this.$message.error({showClose:!1,message:"All field is required"}),e.abrupt("return");e.next=6;break;case 6:return this.cs_group.buttonLoadingEdit=!0,this.loadingTableCsGroup=!0,e.next=10,Object(G.a)({method:"PATCH",url:L.a.chatApi+"csgroup/"+this.cs_group.id,data:{name:this.selectedCsGroup[0].name}}).then(function(){var t=Object(S.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(200==t.data.ec||400==t.data.code){e.next=5;break}a.$message({showClose:!0,message:"Update CS Group failed",type:"error"}),a.cs_group.buttonLoadingEdit=!1,e.next=19;break;case 5:if(400!=t.data.code){e.next=10;break}a.$message.error({showClose:!1,message:"Group name "+t.data.message}),a.cs_group.buttonLoadingEdit=!1,e.next=19;break;case 10:return a.$message({showClose:!0,message:"Updated success",type:"success"}),a.cs_group.buttonLoadingEdit=!1,a.dialogUpdateCsGroup=!1,a.selectedCsGroup[0].name="",a.cs_group.name="",e.next=17,a.getCsList();case 17:return e.next=19,a.getCsGroup();case 19:a.loadingTableCsGroup=!1;case 20:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){a.$swal(a.$t("error"),a.$t("error_text"),"error"),a.loadingTableCsGroup=!1});case 10:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})),Object(T.a)(I,"handleClickDetailCsGroup",function(t){this.checkTotalCsGroup=this.customer_service.list.filter(function(e){return e.groupName==t}),this.dialogTableDetailCsVisible=!0}),Object(T.a)(I,"removeMemberGroup",function(i){var s=this;this.$confirm("Are you sure want to delete <b>".concat(i,"</b> from group ?"),"Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(function(e){var a;s.removeMemberLoading=!0,s.checkTotalCsGroup.forEach((a=Object(S.a)(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name==i)return e.next=3,Object(G.a)({method:"patch",url:"company/customer-service",data:{id:t.id,name:t.name,email:t.email,group:null}}).then(function(e){200==e.data.ec?(s.checkTotalCsGroup.splice(a,1),s.getCsList()):s.$message({showClose:!0,message:"Update CS failed",type:"error"})}).catch(function(e){s.$message({showClose:!0,message:"Update CS failed",type:"error"})});e.next=3;break;case 3:s.removeMemberLoading=!1;case 4:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}))}).catch(function(e){})}),Object(T.a)(I,"deleteCsGroup",function(t,e){var a=this;this.$confirm("Are you sure want to delete group <b>".concat(e,"</b> ?"),"Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)({url:L.a.chatApi+"csgroup/"+t,method:"DELETE"}).then(function(){var t=Object(S.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 200!=t.data.ec&&400!==t.data.code?a.$swal(a.$t("error"),a.$t("error_text"),"error"):400==t.data.code?a.$swal({title:"Warning",text:"Current Ticket is Still Open"==t.data.message?"Member Ticket is Open":a.$t("error_text"),type:"warning"}):a.$swal({title:a.$t("success"),text:"",type:"success"}),e.next=3,a.getCsList();case 3:return a.loadingTableCsGroup=!0,e.next=6,a.getCsGroup();case 6:a.loadingTableCsGroup=!1;case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){});case 2:case"end":return e.stop()}},e)}))).catch(function(e){})}),Object(T.a)(I,"handleClickUpdateCsGroup",function(e,t){var a=this;this.cs_group.id=e,this.listGroupCS.forEach(function(e){e.name==t&&(a.selectedCsGroup[0].name=e.name)}),this.dialogUpdateCsGroup=!0}),Object(T.a)(I,"handleClickCloseCsGroup",function(){this.cs_group.name="",this.selectedCsGroup=[{name:""}],this.dialogUpdateCsGroup=!1}),Object(T.a)(I,"getAllHSM",(x=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:null,this.loadingListHsm=!0,e.next=4,Object(G.a)({method:"get",url:"bussiness/message-template",params:{after:null!=t?t:void 0}}).then(function(e){200!=e.data.ec?a.$swal(a.$t("error"),a.$t("error_text"),"error"):a.hsmList=e.data.data.data,a.loadingListHsm=!1}).catch(function(e){a.loadingListHsm=!1});case 4:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})),Object(T.a)(I,"createAssignTemplate",(C=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assignTemplate.buttonLoading=!0,t=E.a.find(this.hsmList,function(e){return e.id==a.selectedHsm}).name,e.next=4,Object(G.a)({method:"post",url:L.a.baseApi+"division/assign_template",data:{divisionName:this.selectedDivision,template:[{templateName:t,templateId:this.selectedHsm}]}}).then(function(e){200!=e.data.ec?a.$message({showClose:!0,message:"This template is already assigned",type:"error"}):(a.$message({showClose:!0,message:"The template was successfully assigned",type:"success"}),a.dialogAssignTemplate=!1,a.selectedHsm="",a.getDivisionDetail(),a.getDivision())}).catch(function(e){});case 4:this.assignTemplate.buttonLoading=!1;case 5:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})),Object(T.a)(I,"deleteAssignedTemplate",(w=Object(S.a)(regeneratorRuntime.mark(function e(t){var a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=E.a.find(this.hsmList,function(e){return e.id==t}).name,this.$confirm("Are you sure want to unassigned <b>".concat(a,"</b> from this division?"),"Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.buttonloadingremove=!0,e.next=3,Object(G.a)({url:L.a.baseApi+"division/unassign_template",method:"POST",data:{divisionName:i.selectedDivision,template:[{templateName:a,templateId:t}]}}).then(function(e){200!=e.data.ec?i.$message({showClose:!0,message:"The template was not deleted",type:"success"}):(i.$message({showClose:!0,message:"Template successfully deleted",type:"success"}),i.selectedHsm="",i.getDivisionDetail(),i.getDivision())}).catch(function(e){});case 3:i.buttonloadingremove=!1;case 4:case"end":return e.stop()}},e)}))).catch(function(e){});case 2:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})),Object(T.a)(I,"updateUser",(b=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingDialogDetail=!0,e.next=3,Object(G.a)({method:"post",url:"company/update-user/"+this.selectedRows.user,data:{is_checker:this.selectedRows.is_checker,max_blast:null==this.selectedRows.max_blast?null:this.selectedRows.max_blast,is_pic:this.selectedRows.is_pic,email:this.selectedRows.email}}).then(function(e){200==e.data.ec?(t.$swal({title:t.$t("success"),text:"",type:"success"}),t.dialogDetail=!1,t.selectedRows=null,t.getListUser()):(t.dialogDetail=!1,t.$swal({title:"Warning",text:"not_allowed"==e.data.message?t.$t("usermanagement.not_allowed"):t.$t("error_text"),type:"warning"}))}).catch(function(e){t.dialogDetail=!1,t.$swal({title:"Error",text:t.$t("error_text")+". Kindly plese check your internet connection.",type:"warning"})});case 3:this.loadingDialogDetail=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})),Object(T.a)(I,"remove",function(e){this.selectedEmail=e,this.visibleRemove=!0}),Object(T.a)(I,"detailWa",(f=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.tokenLoader=!0,e.next=3,Object(G.a)({method:"post",url:"user/detail/number",data:{channels:this.formAssignCs.channels}}).then(function(e){t.wanumber=[],200==e.data.ec?(t.wanumber=[],E.a.forEach(e.data.data,function(e){t.wanumber.push(e)}),t.showFormMessage=!0):400==e.data.ec&&"not_subscribe"==e.data.message&&(t.showAlertMessage=!0),t.tokenLoader=!1}).catch(function(e){t.tokenLoader=!1});case 3:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})),Object(T.a)(I,"getCsList",(h=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:1,this.customer_service.loadingTable=!0,this.showAlertError=!1,e.next=5,Object(G.a)({method:"get",url:"company/customer-service",params:{page:t}}).then(function(e){200==e.data.ec?(a.customer_service.list=e.data.data.list,a.customer_service.total=e.data.data.total):a.showAlertMessage=!0}).catch(function(e){a.showAlertError=!0});case 5:this.customer_service.loadingTable=!1;case 6:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})),Object(T.a)(I,"updateCs",(v=Object(S.a)(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.customer_service.dialogEdit.loading=!0,t=this.customer_service.selected,e.next=4,Object(G.a)({method:"patch",url:"company/customer-service",data:{id:t.id,name:t.name,status:t.status,email:t.email,maxLoad:t.maxLoad,group:t.group}}).then(function(e){200==e.data.ec?(a.customer_service.dialogEdit.visible=!1,a.$swal(a.$t("success"),"","success"),a.getCsList(),a.customer_service.dialogEdit.loading=!1):a.$swal({title:a.$t("error"),text:"Failed update data",type:"warning"})}).catch(function(e){a.$swal({title:a.$t("error"),text:a.$t("error_text"),type:"error"})});case 4:this.customer_service.dialogEdit.loading=!1;case 5:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})),Object(T.a)(I,"assignCs",(g=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingAssign=!0,e.next=3,Object(G.a)({method:"post",url:L.a.chatApi+"auth/",data:{email:this.selectedRows.email,name:this.selectedRows.name,origin:"dashboard",companyNumber:this.formAssignCs.number,channels:this.formAssignCs.channels,group:this.formAssignCs.group||void 0,isNewGroup:!this.listGroupCS.find(function(e){return e.id==t.formAssignCs.group})}}).then(function(e){200==e.data.ec?(t.dialogAssignCS=!1,t.selectedGroupCS="",t.selectedNumber="",t.$swal({title:t.$t("success"),text:"",type:"success"}).then(function(e){return t.getListUser()})):(t.dialogAssignCS=!1,t.$swal({title:t.$t("error"),text:t.$t("assigncs.".concat(e.data.message)),type:"warning"}))}).catch(function(e){t.$swal({title:t.$t("error"),text:t.$t("error_text"),type:"warning"})});case 3:this.loadingAssign=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})),Object(T.a)(I,"removeCs",(p=Object(S.a)(regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("This user will be unassign from ".concat(this.upperFirst(this.formRemoveCS.channels),"?"),"Confirmation",{confirmButtonText:"Continue",cancelButtonText:"Cancel",type:"warning"}).then(Object(S.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.selectedRows.oa.find(function(e){return e.channels==a.formRemoveCS.channels}),a.loadingRemoveCs=!0,e.next=4,Object(G.a)({method:"delete",url:L.a.chatApi+"auth/",data:{operatorId:t.operator.id,number:t.operator.number}}).then(function(e){a.dialogRemoveCS=!1,200==e.data.ec?(a.formRemoveCS={number:"",channels:""},a.$swal({title:a.$t("success"),text:"",type:"success"}).then(function(e){return a.getListUser()})):a.$swal({title:a.$t("error"),text:"fatal_error"==e.data.message?a.$t("error_text"):a.$t("assigncs.".concat(e.data.message)),type:"warning"})}).catch(function(e){a.dialogRemoveCS=!1,a.$swal({title:a.$t("error"),text:a.$t("error_text"),type:"warning"})});case 4:a.loadingRemoveCs=!1;case 5:case"end":return e.stop()}},e)}))).catch(function(){a.loadingRemoveCs=!1});case 3:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})),Object(T.a)(I,"removeAccount",(m=Object(S.a)(regeneratorRuntime.mark(function e(){var i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$refs.formRemove.validate(function(){var t=Object(S.a)(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return i.loadingRemove=!0,a={operatorId:i.selectedRows.operatorId,number:i.selectedRows.operatorNumber},e.next=5,Object(G.a)({method:"delete",url:L.a.baseApi+"company/user-company",data:{email:i.selectedEmail,password:M.encrypt(i.formRemove.password,"base64")}}).then(function(e){200==e.data.ec?(void 0!==a.operatorId&&""!=a.operatorId&&void 0!==a.number&&""!=a.number&&null!=a.number&&null!=a.operatorId&&i.removeCs(a.operatorId,a.number),i.visibleRemove=!1,i.$swal({title:i.$t("success"),text:"",type:"success"}).then(function(e){i.getListUser()})):i.$message.error({showClose:!1,message:i.$t("usermanagement.".concat(e.data.message)),type:"error",timeout:5e3})}).catch(function(e){i.$message.error({showClose:!1,message:i.$t("error_text"),type:"error"})});e.next=8;break;case 5:i.loadingRemove=!1,e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})),Object(T.a)(I,"getListUser",(d=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingTable=!0,e.next=3,Object(G.a)({method:"get",url:L.a.baseApi+"company/user-company",timeout:6e4,data:null}).then(function(e){t.showAlertError=!1,200==e.data.ec?(t.listUser=e.data.data.company.user,t.getCsGroup()):400==e.data.ec&&"not_allowed"==e.data.message&&(t.showAlertError=!0,t.alertErrorMessage="You are not allowed to see this page.")}).catch(function(e){t.showAlertError=!0,t.$message.error({showClose:!1,message:t.$t("error_text"),type:"error"})});case 3:this.loadingTable=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})),Object(T.a)(I,"invite",(u=Object(S.a)(regeneratorRuntime.mark(function e(){var a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$refs.form.validate(function(){var t=Object(S.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return a.loadingReg=!0,e.next=4,Object(G.a)({method:"post",url:L.a.baseApi+"company/invite",data:{pic_email:U.a.getters.email,invited_email:a.form.email,company:U.a.getters.customerID}}).then(function(e){200==e.data.ec?(a.dialogVisible=!1,a.$swal({title:a.$t("success"),text:a.$t("usermanagement.invite_success"),type:"success"}),a.form.email="",a.getListUser()):400==e.data.ec&&"user_not_register"==e.data.message?(a.sendInvite=!0,a.dialogVisible=!1):500==e.data.ec?a.$swal({title:a.$t("error"),text:a.$t("error_text"),type:"warning"}):(a.dialogVisible=!1,a.$swal({title:a.$t("error"),text:a.$t("usermanagement.".concat(e.data.message)),type:"warning"}))}).catch(function(e){a.$swal({title:a.$t("error"),text:a.$t("error_text"),type:"error"}).then(function(e){})});e.next=7;break;case 4:a.loadingReg=!1,e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})),Object(T.a)(I,"sendEmail",(c=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingEmail=!0,e.next=3,Object(G.a)({method:"post",url:L.a.baseApi+"company/send-invite-email",data:{pic_email:U.a.getters.email,invited_email:this.form.email,company:U.a.getters.customerID}}).then(function(e){200==e.data.ec?(t.dialogVisible=!1,t.sendInvite=!1,t.$swal({title:t.$t("success"),text:t.$t("register.invite_success"),type:"success"}),t.form.email=""):(t.sendInvite=!1,t.$swal({title:t.$t("error"),text:t.$t("error_text"),type:"warning"}))}).catch(function(e){t.$swal({title:t.$t("error"),text:t.$t("error_text"),type:"error"}).then(function(e){})});case 3:this.loadingEmail=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})),Object(T.a)(I,"loadPreferences",(l=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)({method:"get",url:L.a.baseApi+"auth/settings/"}).then(function(e){200==e.data.ec&&(t.allowMakerChecker=E.a.find(e.data.data,function(e){return"makerChecker"==e.options_key}))}).catch(function(e){});case 2:case"end":return e.stop()}},e)})),function(){return l.apply(this,arguments)})),Object(T.a)(I,"assignChecker",(o=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingAssignChecker=!0,e.next=3,Object(G.a)({method:"post",url:L.a.baseApi+"auth/management/assign-checker",data:{email:this.selectedRows.email,username:this.selectedRows.username}}).then(function(e){t.dialogAssignChecker=!1,200==e.data.ec?(t.$swal({title:t.$t("success"),text:"",type:"success"}),t.getListUser()):t.$swal({title:"Warning",text:"not_allowed"==e.data.message?t.$t("usermanagement.not_allowed"):t.$t("error_text"),type:"warning"})}).catch(function(e){t.dialogAssignChecker=!1,t.$swal({title:t.$t("error"),text:t.$t("error_text"),type:"error"})});case 3:this.loadingAssignChecker=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})),Object(T.a)(I,"removeChecker",(n=Object(S.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingAssignChecker=!0,e.next=3,Object(G.a)({method:"post",url:L.a.baseApi+"auth/management/unassign-checker",data:{email:this.selectedRows.email,username:this.selectedRows.username}}).then(function(e){t.dialogRemoveChecker=!1,200==e.data.ec?(t.$swal({title:t.$t("success"),text:"",type:"success"}),t.getListUser()):t.$swal({title:"Warning",text:"not_allowed"==e.data.message?t.$t("usermanagement.not_allowed"):t.$t("error_text"),type:"warning"})}).catch(function(e){t.dialogAssignChecker=!1,t.$swal({title:t.$t("error"),text:t.$t("error_text"),type:"error"})});case 3:this.loadingAssignChecker=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})),Object(T.a)(I,"loadWA",(r=Object(S.a)(regeneratorRuntime.mark(function e(){var i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)({method:"post",url:"user/detail"}).then(function(e){var t,a;i.loadingForm=!1,200==e.data.ec?(i.showFormMessage=!0,t=[],a=[],E.a.forEach(e.data.data,function(e){E.a.forEach(e.hsm,function(e){E.a.isEmpty(e)||t.push(e)}),a.push(e.phoneNumber)}),i.waUserDetail.hsm=E.a.uniqBy(t,"name"),i.waUserDetail.sender=E.a.uniq(a)):400==e.data.ec&&"not_subscribe"==e.data.message?i.showAlertMessage=!0:i.showAlertError=!0}).catch(function(e){i.loadingForm=!1,i.showAlertError=!0});case 2:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})),Object(T.a)(I,"forEnableDisable",function(){this.listGroupCS.forEach(function(e){e.isDisabled=!1})}),I),watch:{dialogTableDetailCsVisible:(s=Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0==this.dialogTableDetailCsVisible)return e.next=3,this.getCsList();e.next=5;break;case 3:this.getCsGroup(),this.checkTotalCsGroup=[];case 5:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},mounted:(i=Object(S.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$store.getters.isPic)return e.next=3,this.getCsList();e.next=8;break;case 3:return e.next=5,this.getListUser();case 5:this.loadPreferences(),e.next=9;break;case 8:this.showAlert=!0;case 9:this.loadingTableDivision=!0,this.getDivision();case 11:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),components:{}},a=(a("73a8"),a("fc90"),a("2877")),I=Object(a.a)(I,function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",{staticClass:"scrollable only-y"},[i("div",{staticClass:"page-header"},[i("h1",[a._v(a._s(a.$t("usermanagement.usermanagement")))])]),i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":a.tabClicked},model:{value:a.activeTab,callback:function(e){a.activeTab=e},expression:"activeTab"}},[i("el-tab-pane",{attrs:{label:"User",name:"user"}},[a.showAlertError||a.showAlert?i("el-card",{staticStyle:{"margin-bottom":"1em"}},[a.showAlertError?i("error-gope-siji"):a._e(),a.showAlert?i("el-alert",{attrs:{title:a.$t("error"),description:"You are not allowed to see this page.",type:"error",closable:!1,"show-icon":""}}):a._e()],1):a._e(),a.showAlertError||a.showAlert?a._e():i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingTable,expression:"loadingTable"}]},[i("div",[i("p",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){a.dialogVisible=!0}}},[i("i",{staticClass:"mdi mdi-email"}),a._v(" Invite user ")])],1)]),i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:a.listUser}},[i("el-table-column",{attrs:{prop:"email",label:"Email",width:"350"}}),i("el-table-column",{attrs:{prop:"name",label:"Name",width:"250"}}),i("el-table-column",{attrs:{label:"Action","min-width":"700"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"mt-10",attrs:{type:"default",size:"mini"},nativeOn:{click:function(e){e.preventDefault(),a.dialogDetail=!0,a.selectedRows=t.row}}},[i("i",{staticClass:"mdi mdi-account-card-details"}),a._v(" Detail ")]),t.row.email!=a.userEmail?i("el-button",{staticClass:"mt-10",attrs:{type:"danger",size:"mini"},nativeOn:{click:function(e){e.preventDefault(),a.remove(t.row.email),a.selectedRows=t.row}}},[i("i",{staticClass:"mdi mdi-account-remove"}),a._v(" Remove ")]):a._e(),null==t.row.oa||t.row.oa.length!==a.availableChannel.length?i("el-button",{staticClass:"mt-10",attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){e.preventDefault(),a.dialogAssignCS=!0,a.selectedRows=t.row}}},[i("i",{staticClass:"mdi mdi-headset"}),a._v(" Assign as Customer Service ")]):a._e(),null!==t.row.oa&&0<t.row.oa.length?i("el-button",{staticClass:"mt-10",attrs:{type:"warning",size:"mini"},nativeOn:{click:function(e){e.preventDefault(),a.dialogRemoveCS=!0,a.selectedRows=t.row}}},[i("i",{staticClass:"mdi mdi-headset"}),a._v(" Unassign Customer Service ")]):a._e()]}}],null,!1,2392381259)})],1)],1)]),a.showAlertError||a.showAlert?a._e():i("div",[i("el-form",{ref:"form",attrs:{model:a.form,"status-icon":"",rules:a.rulesForm},nativeOn:{submit:function(e){return e.preventDefault(),a.invite.apply(null,arguments)}}},[i("el-dialog",{attrs:{title:"Invite User",visible:a.dialogVisible,width:"30%"},on:{"update:visible":function(e){a.dialogVisible=e}}},[i("el-form-item",{attrs:{label:"Email",prop:"email"}},[i("el-input",{attrs:{type:"text",placeholder:"Email"},model:{value:a.form.email,callback:function(e){a.$set(a.form,"email",e)},expression:"form.email"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingReg},on:{click:a.invite}},[a._v("Invite")]),i("el-button",{on:{click:function(e){a.dialogVisible=!1}}},[a._v("Cancel")])],1)],1)],1)],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Warning",visible:a.sendInvite,width:"30%"},on:{"update:visible":function(e){a.sendInvite=e}}},[i("span",[a._v("User not registered. Send this user an email for registration?")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingEmail},on:{click:a.sendEmail}},[a._v("Send email")]),i("el-button",{on:{click:function(e){a.sendInvite=!1,a.dialogVisible=!0}}},[a._v("Cancel")])],1)])],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-form",{ref:"formRemove",attrs:{model:a.formRemove,"status-icon":"",rules:a.rulesFormRemove}},[i("el-dialog",{attrs:{title:"Warning",visible:a.visibleRemove,width:"30%","before-close":function(){a.loadingRemove=!1,a.visibleRemove=!1,a.$refs.formRemove.resetFields(),a.selectedEmail="",a.selectedRows=null}},on:{"update:visible":function(e){a.visibleRemove=e}},nativeOn:{submit:function(e){return e.preventDefault(),a.removeAccount.apply(null,arguments)}}},[i("span",[a._v(" This account ( "),i("b",[a._v(a._s(a.selectedEmail))]),a._v(") will be remove from system and your company. Remove this account? ")]),i("br"),i("br"),i("span",[a._v("For security, please input your password")]),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password",placeholder:"Your password"},model:{value:a.formRemove.password,callback:function(e){a.$set(a.formRemove,"password",e)},expression:"formRemove.password"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger",loading:a.loadingRemove},on:{click:a.removeAccount}},[a._v("Remove")]),i("el-button",{on:{click:function(e){a.visibleRemove=!1,a.$refs.formRemove.resetFields()}}},[a._v("Cancel")])],1)],1)],1)],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Assign as Customer Service",visible:a.dialogAssignCS,width:"40%","before-close":function(e){a.selectedEmail="",a.selectedRows=null,e()}},on:{"update:visible":function(e){a.dialogAssignCS=e}}},[i("span",[a._v("Please fill all fields below to assign this user as Customer Service")]),i("br"),i("br"),i("el-form",{attrs:{"label-width":"150px","label-position":"left"}},[i("el-form-item",{attrs:{label:"Channel",required:"true"}},[i("el-select",{attrs:{placeholder:"Select channel"},on:{change:function(e){return a.detailWa()}},model:{value:a.formAssignCs.channels,callback:function(e){a.$set(a.formAssignCs,"channels",e)},expression:"formAssignCs.channels"}},a._l(a.availableChannel,function(t){return i("el-option",{key:t.k,attrs:{disabled:!!(a.selectedRows&&a.selectedRows.oa&&a.selectedRows.oa.find(function(e){return e.channels==t.k})),value:t.k,label:t.v}})}),1)],1),i("el-form-item",{attrs:{label:"Channel Account",required:"true"}},[i("el-select",{attrs:{loading:a.tokenLoader,disabled:!a.formAssignCs.channels,placeholder:"Select channel account"},model:{value:a.formAssignCs.number,callback:function(e){a.$set(a.formAssignCs,"number",e)},expression:"formAssignCs.number"}},a._l(a.wanumber,function(e){return i("el-option",{key:e,attrs:{value:e,label:e}})}),1)],1),i("el-form-item",{attrs:{label:"CS Group"}},[i("el-select",{attrs:{placeholder:"Select CS Group (Optional)","allow-create":"",filterable:""},model:{value:a.formAssignCs.group,callback:function(e){a.$set(a.formAssignCs,"group",e)},expression:"formAssignCs.group"}},a._l(a.listGroupCS,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id,"value-key":e.id}})}),1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingAssign},on:{click:a.assignCs}},[a._v("Confirm")]),i("el-button",{on:{click:function(e){a.dialogAssignCS=!1}}},[a._v("Cancel")])],1)],1)],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Unassign Customer Service",visible:a.dialogRemoveCS,width:"30%","before-close":function(e){a.selectedEmail="",a.selectedRows=null,e()}},on:{"update:visible":function(e){a.dialogRemoveCS=e}}},[i("span",[a._v("Unassign user ("),i("b",[a._v(a._s(a.selectedRows?a.selectedRows.email:""))]),a._v(") from Customer Service?")]),i("br"),i("br"),i("el-form",{attrs:{"label-width":"150px","label-position":"left"}},[a.selectedRows?i("el-form-item",{attrs:{label:"Channel Account",required:!0}},[i("el-select",{attrs:{placeholder:"Select channel account"},model:{value:a.formRemoveCS.channels,callback:function(e){a.$set(a.formRemoveCS,"channels",e)},expression:"formRemoveCS.channels"}},a._l(a.selectedRows.oa.map(function(e){return e.channels}),function(e){return i("el-option",{key:e,attrs:{value:e,label:a.upperFirst(e)}})}),1)],1):a._e()],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingRemoveCs},on:{click:function(e){return a.removeCs()}}},[a._v("Confirm")]),i("el-button",{on:{click:function(e){a.dialogRemoveCS=!1}}},[a._v("Cancel")])],1)],1)],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Confirm",visible:a.dialogAssignChecker,width:"30%","before-close":function(e){a.selectedEmail="",a.selectedRows=null,e()}},on:{"update:visible":function(e){a.dialogAssignChecker=e}}},[i("span",[a._v("Assign this user as Checker?")]),i("br"),i("br"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingAssignChecker},on:{click:function(e){return a.assignChecker()}}},[a._v("Confirm")]),i("el-button",{on:{click:function(e){a.dialogAssignChecker=!1}}},[a._v("Cancel")])],1)])],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Confirm",visible:a.dialogRemoveChecker,width:"30%","before-close":function(e){a.selectedEmail="",a.selectedRows=null,e()}},on:{"update:visible":function(e){a.dialogRemoveChecker=e}}},[i("span",[a._v("Remove this user from Checker?")]),i("br"),i("br"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingAssignChecker},on:{click:function(e){return a.removeChecker()}}},[a._v("Confirm")]),i("el-button",{on:{click:function(e){a.dialogRemoveChecker=!1}}},[a._v("Cancel")])],1)])],1),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Info",visible:a.dialogDetail,width:"40%","before-close":function(e){a.selectedEmail="",a.selectedRows=null,e()}},on:{"update:visible":function(e){a.dialogDetail=e}}},[null!=a.selectedRows?i("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingDialogDetail,expression:"loadingDialogDetail"}]},[i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Date Register")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-tag",{attrs:{type:"primary"}},[a._v(a._s(a.formatDate(a.selectedRows.created_at,"dddd, DD MMM YYYY HH:mm")))])],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Email")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-input",{attrs:{type:"text",value:a.selectedRows.email,readonly:"",disabled:""}})],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Name")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-input",{attrs:{type:"text",value:a.selectedRows.name,readonly:"",disabled:""}})],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Username")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-input",{attrs:{type:"text",value:a.selectedRows.username,readonly:"",disabled:""}})],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("PIC")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a.userEmail!==a.selectedRows.email?i("el-switch",{attrs:{value:a.selectedRows.is_pic,"active-text":"Yes","active-value":1,"inactive-text":"No","inactive-value":0},model:{value:a.selectedRows.is_pic,callback:function(e){a.$set(a.selectedRows,"is_pic",e)},expression:"selectedRows.is_pic"}}):a._e(),a.userEmail===a.selectedRows.email?i("el-tag",{attrs:{type:"success"}},[a._v(a._s(1==a.selectedRows.is_pic?"Yes":"No"))]):a._e()],1)],1),"true"==a.allowMakerChecker.options_value||1==a.allowMakerChecker.options_value?i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Checker")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-switch",{attrs:{value:a.selectedRows.is_checker,"active-text":"Yes","active-value":1,"inactive-text":"No","inactive-value":0},model:{value:a.selectedRows.is_checker,callback:function(e){a.$set(a.selectedRows,"is_checker",e)},expression:"selectedRows.is_checker"}})],1)],1):a._e(),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Max Blast")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-input",{attrs:{type:"text",value:a.selectedRows.max_blast,placeholder:"Max blast for this user. Leave empty for unlimited"},nativeOn:{keypress:function(e){return a.numberOnly.apply(null,arguments)},paste:function(e){return a.paste.apply(null,arguments)}},model:{value:a.selectedRows.max_blast,callback:function(e){a.$set(a.selectedRows,"max_blast",e)},expression:"selectedRows.max_blast"}})],1)],1)],1):a._e(),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.loadingDialogDetail},on:{click:a.updateUser}},[i("i",{staticClass:"mdi mdi-content-save"}),a._v(" "+a._s(a.$t("generic.update"))+" ")]),i("el-button",{on:{click:function(e){a.dialogDetail=!1}}},[a._v("Close")])],1)])],1)],1),i("el-tab-pane",{attrs:{label:"Division",name:"division"}},[i("el-row",{staticClass:"mb-20",attrs:{gutter:10}},[i("el-card",[i("el-button",{attrs:{type:"primary",loading:a.loadingAddTemplate},on:{click:function(e){return a.doShowDialogNewDivision()}}},[a._v("Create New Division")])],1)],1),i("div",[i("el-card",[i("div",{staticClass:"group-list scrollable only-y"},[[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingTableDivision,expression:"loadingTableDivision"}],staticStyle:{width:"100%"},attrs:{data:a.division.data}},[i("el-table-column",{attrs:{prop:"createdAt",label:"Created At",width:"250"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("p",{staticStyle:{"font-weight":"bold"}},[a._v(a._s(a.formatDate(e.row.createdAt,"dddd, DD MMM YYYY HH:mm")))])]}}])}),i("el-table-column",{attrs:{prop:"divisionName",label:"Division Name",width:"250"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("p",{staticStyle:{"font-weight":"bold"}},[a._v(a._s(e.row.divisionName))])]}}])}),i("el-table-column",{attrs:{prop:"picName",label:"PIC Name",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("p",{staticStyle:{"font-weight":"bold"}},[a._v(a._s(e.row.picName))])]}}])}),i("el-table-column",{attrs:{prop:"totalAssignedTemplate",label:"Total Template",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("p",{staticStyle:{"font-weight":"bold"}},[a._v(a._s(e.row.totalAssignedTemplate))])]}}])}),i("el-table-column",{attrs:{label:"Operations",width:"450"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{loading:a.division.buttonLoadingViewDivision,type:"default",size:"small"},on:{click:function(e){return a.handleClickViewDivision(t.row.divisionName)}}},[i("i",{staticClass:"mdi mdi-plus"}),a._v(" Assign Template ")]),i("el-button",{attrs:{loading:a.division.buttonLoadingUpdateDivision,type:"primary",size:"small"},on:{click:function(e){return a.handleClickUpdateDivision(t.row.divisionName,t.row.picName)}}},[i("i",{staticClass:"mdi mdi-border-color"}),a._v(" Edit Division ")]),i("el-button",{attrs:{loading:a.division.buttonLoadingDeleteDivision,type:"danger",size:"small"},on:{click:function(e){return a.handleClickDeleteDivision(t.row.divisionName)}}},[i("i",{staticClass:"mdi mdi-delete"}),a._v(" Delete Division ")])]}}])})],1)]],2),i("el-pagination",{attrs:{background:"","prev-text":"Prev","next-text":"Next",layout:"prev, pager, next","page-size":10,"current-page":a.divisionCurrentPage,total:a.totalDivision},on:{"current-change":a.paginateDivision}})],1)],1)],1),i("el-tab-pane",{attrs:{label:"Customer Service",name:"customer_service"}},[a.showAlertError||a.showAlert?i("el-card",{staticStyle:{"margin-bottom":"1em"}},[a.showAlertError?i("error-gope"):a._e(),a.showAlert?i("el-alert",{attrs:{title:a.$t("error"),description:"You are not allowed to see this page.",type:"error",closable:!1,"show-icon":""}}):a._e()],1):a._e(),a.showAlertError||a.showAlert?a._e():i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:a.customer_service.loadingTable,expression:"customer_service.loadingTable"}]},[i("el-pagination",{attrs:{background:"","prev-text":"Prev","next-text":"Next",layout:"prev, pager, next","current-page":a.customer_service.current_page,"page-size":a.customer_service.limit,total:a.customer_service.total},on:{"current-change":a.paginateCs}}),i("el-table",{staticStyle:{width:"100%"},attrs:{data:a.customer_service.list}},[i("el-table-column",{attrs:{prop:"name",label:"Name",width:"200"}}),i("el-table-column",{attrs:{label:"Group",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.groupName?i("el-tag",{staticClass:"mt-10",attrs:{type:"primary",size:"mini"}},[a._v(a._s(e.row.groupName))]):i("el-tag",{attrs:{size:"mini"}},[a._v("-")])]}}],null,!1,1597983947)}),i("el-table-column",{attrs:{prop:"channels",label:"Channels",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v(" "+a._s(a.upperFirst(e.row.channels))+" ")]}}],null,!1,2845235188)}),i("el-table-column",{attrs:{label:"Status",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return["available"==e.row.status?i("el-tag",{staticClass:"mt-10",attrs:{type:"primary",size:"mini"}},[i("i",{staticClass:"mdi mdi-headset"}),a._v(" Available ")]):i("el-tag",{staticClass:"mt-10",attrs:{type:"danger",size:"mini"}},[i("i",{staticClass:"mdi mdi-headset-off"}),a._v(" Not Available ")])]}}],null,!1,2268150257)}),i("el-table-column",{attrs:{prop:"currentOpen",label:"Open Ticket","min-width":"150"}}),i("el-table-column",{attrs:{prop:"waiting",label:"Waiting Ticket","min-width":"150"}}),i("el-table-column",{attrs:{prop:"currentProcess",label:"Processing Ticket","min-width":"150"}}),i("el-table-column",{attrs:{label:"Action",width:"150"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"mt-10",attrs:{type:"warning",size:"mini"},nativeOn:{click:function(e){e.preventDefault(),a.customer_service.dialogEdit.visible=!0,a.customer_service.selected=t.row}}},[i("i",{staticClass:"mdi mdi-account-edit"}),a._v(" Edit ")])]}}],null,!1,3343381311)})],1),i("br"),i("el-pagination",{attrs:{background:"","prev-text":"Prev","next-text":"Next",layout:"prev, pager, next","current-page":a.customer_service.current_page,"page-size":a.customer_service.limit,total:a.customer_service.total},on:{"current-change":a.paginateCs}}),a.showAlertError||a.showAlert?a._e():i("div",[i("el-dialog",{attrs:{title:"Edit Customer Service",visible:a.customer_service.dialogEdit.visible,width:"40%","before-close":function(e){a.customer_service.selected={},e()}},on:{"update:visible":function(e){return a.$set(a.customer_service.dialogEdit,"visible",e)}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:a.customer_service.dialogEdit.loading,expression:"customer_service.dialogEdit.loading"}]},[i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Name")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-input",{model:{value:a.customer_service.selected.name,callback:function(e){a.$set(a.customer_service.selected,"name",e)},expression:"customer_service.selected.name"}})],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Max Handle")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-input-number",{attrs:{min:0,max:999999},model:{value:a.customer_service.selected.maxLoad,callback:function(e){a.$set(a.customer_service.selected,"maxLoad",e)},expression:"customer_service.selected.maxLoad"}})],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Status")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-switch",{attrs:{value:a.customer_service.selected.status,"active-text":"Available","active-value":"available","inactive-text":"Not Available","inactive-value":"not_available"},model:{value:a.customer_service.selected.status,callback:function(e){a.$set(a.customer_service.selected,"status",e)},expression:"customer_service.selected.status"}})],1)],1),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[i("h4",[a._v("Group")])]),i("el-col",{staticClass:"mt-20",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[i("el-select",{attrs:{clearable:"",filterable:""},model:{value:a.customer_service.selected.group,callback:function(e){a.$set(a.customer_service.selected,"group",e)},expression:"customer_service.selected.group"}},a._l(a.listGroupCS,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:a.customer_service.dialogEdit.loading},on:{click:a.updateCs}},[i("i",{staticClass:"mdi mdi-content-save"}),a._v(" "+a._s(a.$t("generic.update"))+" ")]),i("el-button",{on:{click:function(e){a.customer_service.dialogEdit.visible=!1}}},[a._v("Close")])],1)])],1)],1)],1),i("el-tab-pane",{attrs:{label:"CS Group",name:"cs_group"}},[i("el-row",{staticClass:"mb-20",attrs:{gutter:10}},[i("el-card",[i("el-button",{attrs:{type:"primary",loading:a.loadingAddTemplate},on:{click:function(e){return a.doShowDialogNewCsGroup()}}},[a._v("Create New CS Group")])],1)],1),i("div",[i("el-card",[i("div",{staticClass:"group-list scrollable only-y"},[[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingTableCsGroup,expression:"loadingTableCsGroup"}],staticStyle:{width:"100%"},attrs:{data:a.listGroupCS}},[i("el-table-column",{attrs:{prop:"dateCreate",label:"Created At",width:"250"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("p",{staticStyle:{"font-weight":"bold"}},[a._v(a._s(a.formatDate(e.row.dateCreate,"dddd, DD MMM YYYY HH:mm")))])]}}])}),i("el-table-column",{attrs:{prop:"name",label:"Group Name",width:"250"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("p",{staticStyle:{"font-weight":"bold"}},[a._v(a._s(e.row.name))])]}}])}),i("el-table-column",{attrs:{label:"Operations",width:"450"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"mt-10",attrs:{type:"default",size:"small"},on:{click:function(e){return a.handleClickDetailCsGroup(t.row.name)}}},[i("i",{staticClass:"mdi mdi-account-card-details"}),a._v(" Detail ")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return a.handleClickUpdateCsGroup(t.row.id,t.row.name)}}},[i("i",{staticClass:"mdi mdi-border-color"}),a._v(" Edit ")]),0==t.row.isDisabled?i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return a.deleteCsGroup(t.row.id,t.row.name)}}},[i("i",{staticClass:"mdi mdi-delete"}),a._v(" Delete ")]):i("el-button",{attrs:{type:"danger",size:"small",disabled:!0}},[i("i",{staticClass:"mdi mdi-delete"}),a._v(" Delete ")])]}}])})],1)]],2)])],1)],1)],1),i("el-dialog",{attrs:{title:"Create New Division",visible:a.dialogNewDivision},on:{"update:visible":function(e){a.dialogNewDivision=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"Division Name"}},[i("el-input",{attrs:{type:"text",placeholder:"Division name"},model:{value:a.division.divisionName,callback:function(e){a.$set(a.division,"divisionName",e)},expression:"division.divisionName"}})],1),i("el-form-item",{attrs:{label:"PIC Name"}},[i("el-input",{attrs:{type:"text",placeholder:"PIC of division"},model:{value:a.division.picName,callback:function(e){a.$set(a.division,"picName",e)},expression:"division.picName"}})],1),i("el-button",{attrs:{type:"primary",loading:a.division.buttonLoadingCreate},on:{click:a.createDivision}},[a._v("Save")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){a.dialogNewDivision=!1,a.division.divisionName="",a.division.picName=""}}},[a._v("Close")])],1)],1),i("el-dialog",{attrs:{title:a.selectedDivision,visible:a.dialogViewDivision},on:{"update:visible":function(e){a.dialogViewDivision=e}}},[i("el-form",[i("el-form-item",[a.showAlert?a._e():i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingTableDivision,expression:"loadingTableDivision"}],attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{attrs:{shadow:"card-shadow--small"}},[i("div",{staticClass:"group-list scrollable only-y"},[[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingTableDetailDivision,expression:"loadingTableDetailDivision"}],staticStyle:{color:"#000 !important"},attrs:{data:a.division.dataSelected,"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(246, 246, 245, 0.8)"}},[i("el-table-column",{attrs:{prop:"templateName",label:"Template Name"}}),i("el-table-column",{attrs:{prop:"templateId",label:"#"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small",type:"danger",loading:a.buttonloadingremove},on:{click:function(e){return a.deleteAssignedTemplate(t.row.templateId)}}},[i("i",{staticClass:"mdi mdi-delete"}),a._v(" Remove template ")])]}}],null,!1,1281600283)})],1)]],2),i("br"),i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","prev-text":"Prev","next-text":"Next",layout:"prev, pager, next","page-size":10,"current-page":a.divisionTemplateCurrentPage,total:a.division.dataSelectedLength},on:{"current-change":a.paginateDivisionTemplate}})],1)],1)],1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.handleClickAssignTemplate(a.selectedDivision)}}},[a._v("Add")]),i("el-button",{staticClass:"mt-10",attrs:{type:"danger"},on:{click:function(e){a.dialogViewDivision=!1}}},[a._v("Close")])],1)],1)],1),i("el-dialog",{attrs:{title:"Edit Division "+a.selectedDivision,visible:a.dialogUpdateDivision},on:{"update:visible":function(e){a.dialogUpdateDivision=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"Insert a new Division Name"}},[i("el-input",{attrs:{type:"text"},model:{value:a.selectedDivision,callback:function(e){a.selectedDivision=e},expression:"selectedDivision"}})],1),i("el-form-item",{attrs:{label:"PIC Name"}},[i("el-input",{attrs:{type:"text"},model:{value:a.selectedDivisionPic,callback:function(e){a.selectedDivisionPic=e},expression:"selectedDivisionPic"}})],1),i("el-button",{attrs:{type:"primary",loading:a.division.buttonLoadingEdit},on:{click:a.updateDivision}},[a._v("Save")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){a.dialogUpdateDivision=!1}}},[a._v("Close")])],1)],1),i("el-dialog",{attrs:{title:"Assign Template",visible:a.dialogAssignTemplate},on:{"update:visible":function(e){a.dialogAssignTemplate=e}}},[i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"Template"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Select template to assigned",loading:a.loadingListHsm},on:{change:a.showSelectedHsm},model:{value:a.selectedHsm,callback:function(e){a.selectedHsm=e},expression:"selectedHsm"}},a._l(a.hsmList,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id,disabled:!!a.hsmAssigned(e.id)}})}),1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:a.assignTemplate.buttonLoading},on:{click:a.createAssignTemplate}},[a._v("Save")]),i("el-button",{attrs:{type:"danger"},on:{click:a.closeAssignTemplate}},[a._v("Close")])],1)],1)],1),i("el-dialog",{attrs:{title:"Create New CS Group",visible:a.dialogNewCsGroup},on:{"update:visible":function(e){a.dialogNewCsGroup=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"Group Name"}},[i("el-input",{attrs:{type:"text",placeholder:"Insert Group name"},model:{value:a.cs_group.name,callback:function(e){a.$set(a.cs_group,"name",e)},expression:"cs_group.name"}})],1),i("el-button",{attrs:{type:"primary",loading:a.cs_group.buttonLoadingCreate},on:{click:a.createCsGroup}},[a._v("Save")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){a.dialogNewCsGroup=!1,a.cs_group.name=""}}},[a._v("Close")])],1)],1),i("el-dialog",{attrs:{title:"Edit CS Group ",visible:a.dialogUpdateCsGroup},on:{"update:visible":function(e){a.dialogUpdateCsGroup=e}}},[i("el-form",[i("el-form-item",{attrs:{label:"Insert a new CS Group name"}},[i("el-input",{attrs:{type:"text"},model:{value:a.selectedCsGroup[0].name,callback:function(e){a.$set(a.selectedCsGroup[0],"name",e)},expression:"selectedCsGroup[0].name"}})],1),i("el-button",{attrs:{type:"primary",loading:a.cs_group.buttonLoadingEdit},on:{click:a.updateCsGroup}},[a._v("Save")]),i("el-button",{attrs:{type:"danger"},on:{click:a.handleClickCloseCsGroup}},[a._v("Close")])],1)],1),i("el-dialog",{attrs:{title:"Member Group",visible:a.dialogTableDetailCsVisible},on:{"update:visible":function(e){a.dialogTableDetailCsVisible=e}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.removeMemberLoading,expression:"removeMemberLoading"}],attrs:{data:a.checkTotalCsGroup}},[i("el-table-column",{attrs:{property:"name",label:"Name",width:"250"}}),i("el-table-column",{attrs:{property:"groupName",label:"Group",width:"250"}}),i("el-table-column",{attrs:{property:"name",width:"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return a.removeMemberGroup(t.row.name)}}})]}}])})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){a.dialogTableDetailCsVisible=!1}}},[a._v("Close")])],1)],1)],1)},[],!1,null,"1bdb67e1",null);t.default=I.exports},"73a8":function(e,t,a){"use strict";a("5ca3")},7514:function(e,t,a){"use strict";var i=a("5ca1"),s=a("0a49")(5),r="find",n=!0;r in[]&&Array(1)[r](function(){n=!1}),i(i.P+i.F*n,"Array",{find:function(e){return s(this,e,1<arguments.length?arguments[1]:void 0)}}),a("9c6c")(r)},"90d3":function(e,t,a){},cd1c:function(e,t,a){var i=a("e853");e.exports=function(e,t){return new(i(e))(t)}},e853:function(e,t,a){var i=a("d3f4"),s=a("1169"),r=a("2b4c")("species");e.exports=function(e){var t;return s(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!s(t.prototype)||(t=void 0),i(t)&&(null===(t=t[r])&&(t=void 0))),void 0===t?Array:t}},fc90:function(e,t,a){"use strict";a("90d3")}}]);