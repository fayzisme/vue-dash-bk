(window.webpackJsonp=window.webpackJsonp||[]).push([["whatsapp-api"],{2133:function(e,t,a){"use strict";a("b3fa")},"2dba":function(e,t,a){},"43a2":function(e,t,a){"use strict";a("4d8a")},4574:function(e,t,a){},"4cc0":function(e,t,a){"use strict";a.r(t);var r,s,o,i,n=(a("96cf"),a("3b8d")),l=a("271f"),c=(a("db49"),{data:function(){return{loadingbtnUpdate:!1,loadingCredential:!1,token:"",selectedPhoneNumber:"",whatsapp_number:[],tokenLoader:!0,dataTable:[],showFormMessage:!1,showAlertMessage:!1,showAlertError:!1,showAlertErrorLoadCredential:!1,data:{phoneNumber:"",token:"",webhook:"",sendStatus:!1,helpdesk:!0},options:[{value:"false",label:"False"},{value:"true",label:"True"}]}},methods:{updateCredential:(i=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("Are you sure want to update your webhook?","Confirm",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingbtnUpdate=!0,e.next=3,Object(l.a)({method:"patch",url:"user/detail/credential",data:{number:t.selectedPhoneNumber,url:t.data.webhook,send_status:t.data.sendStatus}}).then(function(e){200==e.data.ec?t.$swal(t.$t("success"),void 0,"success").then(function(){t.loadCredential()}):t.$swal(t.$t("error"),t.$t("generic.failed_update"),"warning")}).catch(function(e){t.$swal(t.$t("error"),t.$t("error_text"),"error")});case 3:t.loadingbtnUpdate=!1;case 4:case"end":return e.stop()}},e)}))).catch(function(e){});case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),mailto:function(){location.href="mailto: business.solution@damcorp.id"},changeFilter:function(){this.loadCredential()},loadCredential:(o=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingCredential=!0,this.showAlertErrorLoadCredential=!1,this.data={webhook:"",token:"",helpdesk:!0,sendStatus:!1},e.next=5,Object(l.a)({method:"post",url:"user/detail/credential",data:{number:this.selectedPhoneNumber}}).then(function(e){200==e.data.ec?(e.data.data.webhook.webhook[0]?(t.data.webhook=e.data.data.webhook.webhook[0].url,t.data.sendStatus=e.data.data.webhook.webhook[0].send_status):(t.data.webhook="",t.data.sendStatus=!1),t.data.token=e.data.data.token,t.data.helpdesk=e.data.data.helpdesk||!1,t.showFormMessage=!0):(400==e.data.ec&&"not_subscribe"==e.data.message||500==e.data.ec)&&(t.showAlertErrorLoadCredential=!0),t.loadingCredential=!1}).catch(function(e){t.showAlertErrorLoadCredential=!0,t.loadingCredential=!1});case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),loadWa:(s=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({method:"post",url:"user/detail/number",data:{channels:"whatsapp"}}).then(function(e){200==e.data.ec?(t.whatsapp_number=e.data.data,t.selectedPhoneNumber=t.whatsapp_number[0],t.showFormMessage=!0):400==e.data.ec&&"not_subscribe"==e.data.message?t.showAlertMessage=!0:500==e.data.ec&&(t.showAlertError=!0),t.tokenLoader=!1}).catch(function(e){t.showAlertError=!0,t.tokenLoader=!1});case 2:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)})},mounted:(r=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWa();case 2:this.loadCredential();case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}),a=(a("43a2"),a("2877")),c=Object(a.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tokenLoader,expression:"tokenLoader"}],staticClass:"scrollable only-y"},[a("div",{staticClass:"page-header"},[a("h1",[t._v(t._s(t.$t("whatsapp.whatsapp"))+" Numbers")])]),t.showAlertMessage?a("el-card",{staticStyle:{"margin-bottom":"1em"},attrs:{align:"center"}},[a("h2",[t._v("Start messaging your customers today")]),a("span",{domProps:{innerHTML:t._s(t.$t("promote.desc.whatsapp"))}}),a("br"),a("br"),a("span",[a("el-button",{on:{click:function(e){return t.mailto()}}},[t._v("Send us e-mail")])],1)]):t._e(),t.showFormMessage?a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCredential,expression:"loadingCredential"}],staticClass:"1024-card",staticStyle:{"margin-bottom":"1em"}},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h5",[t._v("Phone Number")])]),a("el-col",{staticClass:"mt-10",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("el-select",{attrs:{"default-first-option":!0},on:{change:t.changeFilter},model:{value:t.selectedPhoneNumber,callback:function(e){t.selectedPhoneNumber=e},expression:"selectedPhoneNumber"}},t._l(t.whatsapp_number,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1)],1),t.showAlertErrorLoadCredential?t._e():a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h5",[t._v("Your API Token")])]),a("el-col",{staticClass:"mt-10",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[a("pre",{staticStyle:{"word-wrap":"break-word","white-space":"pre-wrap !important"}},[t._v(t._s(t.data.token))])])],1),t.showAlertErrorLoadCredential?t._e():a("el-row",{staticClass:"mt-10",attrs:{gutter:30}},[a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h5",[t._v("Your Webhook URL")])]),a("el-col",{staticClass:"mt-10",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[t.data.helpdesk?a("el-alert",{attrs:{type:"primary",title:void 0,description:"This number currently connected to our Customer Service API",closable:!1}}):a("el-input",{attrs:{type:"text",placeholder:"Webhook URL"},model:{value:t.data.webhook,callback:function(e){t.$set(t.data,"webhook",e)},expression:"data.webhook"}})],1)],1),t.showAlertErrorLoadCredential?t._e():a("el-row",{staticClass:"mt-10",attrs:{gutter:30}},[a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("h5",[t._v("Receive Message Status")])]),a("el-col",{staticClass:"mt-10",attrs:{xs:18,sm:18,md:18,lg:18,xl:18}},[t.data.helpdesk?a("el-alert",{attrs:{type:"primary",title:void 0,description:"This number currently connected to our Customer Service API",closable:!1}}):a("el-switch",{staticStyle:{display:"block","margin-top":"10px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},model:{value:t.data.sendStatus,callback:function(e){t.$set(t.data,"sendStatus",e)},expression:"data.sendStatus"}})],1)],1),t.showAlertErrorLoadCredential||t.data.helpdesk?t._e():a("el-row",{staticClass:"mt-10",attrs:{gutter:30}},[a("el-col",{attrs:{xs:4,sm:4,md:4,lg:4,xl:4}},[a("el-button",{attrs:{type:"primary",loading:t.loadingbtnUpdate},on:{click:t.updateCredential}},[a("i",{staticClass:"mdi mdi-content-save"}),t._v(" "+t._s(t.$t("generic.update"))+" ")])],1)],1),a("el-row",{staticClass:"mb-20",attrs:{gutter:30}},[t.showAlertErrorLoadCredential?a("el-alert",{attrs:{title:t.$t("error"),description:t.$t("alert_error_text"),type:"error",closable:!1,"show-icon":""}}):t._e()],1)],1):t._e(),t.showAlertError?a("el-card",{staticStyle:{"margin-bottom":"1em"}},[a("error-gope-siji")],1):t._e()],1)},[],!1,null,"62ca44ec",null);t.default=c.exports},"4d8a":function(e,t,a){},"7b9b":function(e,t,a){"use strict";a.r(t);var r,s,o,i,n=(a("96cf"),a("3b8d")),l=a("271f"),c=(a("db49"),{data:function(){return{loadingbtnUpdate:!1,loadingCredential:!1,token:"",selectedPhoneNumber:"",whatsapp_number:[],tokenLoader:!0,dataTable:[],showFormMessage:!1,showAlertMessage:!1,showAlertError:!1,showAlertErrorLoadCredential:!1,data:{phoneNumber:"",token:"",webhook:"",helpdesk:!0},phoneNumbers:[]}},methods:{getPhoneNumber:(i=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingCredential=!0,this.showAlertErrorLoadCredential=!1,e.next=4,Object(l.a)({method:"get",url:"bussiness/phone-number"}).then(function(e){200==e.data.ec?t.phoneNumbers=e.data.data.data:400==e.data.ec&&(t.showAlertErrorLoadCredential=!0),t.loadingCredential=!1}).catch(function(e){t.showAlertErrorLoadCredential=!0,t.loadingCredential=!1});case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),updateCredential:(o=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$confirm("Are you sure want to update your webhook?","Confirm",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingbtnUpdate=!0,e.next=3,Object(l.a)({method:"patch",url:"user/detail/credential",data:{number:t.selectedPhoneNumber,url:t.data.webhook}}).then(function(e){200==e.data.ec?t.$swal(t.$t("success"),void 0,"success").then(function(){t.loadCredential()}):t.$swal(t.$t("error"),t.$t("generic.failed_update"),"warning")}).catch(function(e){t.$swal(t.$t("error"),t.$t("error_text"),"error")});case 3:t.loadingbtnUpdate=!1;case 4:case"end":return e.stop()}},e)}))).catch(function(e){});case 1:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),mailto:function(){location.href="mailto: business.solution@damcorp.id"},changeFilter:function(){this.loadCredential()},loadWa:(s=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({method:"post",url:"user/detail/number",data:{channels:"whatsapp"}}).then(function(e){200==e.data.ec?(t.whatsapp_number=e.data.data,t.selectedPhoneNumber=t.whatsapp_number[0],t.showFormMessage=!0):400==e.data.ec&&"not_subscribe"==e.data.message?t.showAlertMessage=!0:500==e.data.ec&&(t.showAlertError=!0),t.tokenLoader=!1}).catch(function(e){t.showAlertError=!0,t.tokenLoader=!1});case 2:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)})},mounted:(r=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWa();case 2:return e.next=4,this.getPhoneNumber();case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}),a=(a("bb58"),a("2877")),c=Object(a.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tokenLoader,expression:"tokenLoader"}],staticClass:"scrollable only-y"},[t._m(0),t.showAlertMessage?a("el-card",{staticStyle:{"margin-bottom":"1em"},attrs:{align:"center"}},[a("h2",[t._v("Start messaging your customers today")]),a("span",{domProps:{innerHTML:t._s(t.$t("promote.desc.whatsapp"))}}),a("br"),a("br"),a("span",[a("el-button",{on:{click:function(e){return t.mailto()}}},[t._v("Send us e-mail")])],1)]):t._e(),t.showFormMessage?a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCredential,expression:"loadingCredential"}],staticClass:"1024-card",staticStyle:{"margin-bottom":"1em"}},[a("el-table",{staticStyle:{width:"100%",color:"#000 !important"},attrs:{data:t.phoneNumbers,"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(246, 246, 245, 0.8)"}},[a("el-table-column",{attrs:{prop:"verified_name",label:"Name"}}),a("el-table-column",{attrs:{prop:"quality_rating",label:"Quality Rating"},scopedSlots:t._u([{key:"default",fn:function(e){return["GREEN"==e.row.quality_rating?a("span",{attrs:{type:"default",size:"small"}},[a("el-tag",{attrs:{type:"success"}},["GREEN"==e.row.quality_score.score?a("span",[a("i",{staticClass:"mdi mdi-brightness-1",staticStyle:{color:"green"}}),t._v(" High ")]):t._e()])],1):"YELLOW"==e.row.quality_rating?a("span",{attrs:{type:"default",size:"small"}},[a("el-tag",{attrs:{type:"success"}},["YELLOW"==e.row.quality_score.score?a("span",[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{staticClass:"tooltip",staticStyle:{"font-size":"12px","line-height":"18px",width:"250px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.quality_score.reason))]),a("i",{staticClass:"mdi mdi-brightness-1",staticStyle:{color:"yellow"}})]),t._v(" Medium ")],1):t._e()])],1):"RED"==e.row.quality_rating?a("span",{attrs:{type:"default",size:"small"}},[a("el-tag",{attrs:{type:"success"}},["RED"==e.row.quality_score.score?a("span",[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{staticClass:"tooltip",staticStyle:{"font-size":"12px","line-height":"18px",width:"250px"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.quality_score.reason))]),a("i",{staticClass:"mdi mdi-brightness-1",staticStyle:{color:"red"}})]),t._v(" Low ")],1):t._e()])],1):a("span",{attrs:{type:"default",size:"small"}},[a("el-tag",{attrs:{type:"info"}},[a("i",{staticClass:"mdi mdi-brightness-1",staticStyle:{color:"grey"}}),t._v(" Unavailable ")])],1)]}}],null,!1,2886491036)}),a("el-table-column",{attrs:{prop:"display_phone_number",label:"Phone Number"}})],1)],1):t._e(),t.showAlertError?a("el-card",{staticStyle:{"margin-bottom":"1em"}},[a("error-gope-siji")],1):t._e()],1)},[function(){var e=this.$createElement,e=this._self._c||e;return e("div",{staticClass:"page-header"},[e("h1",[this._v("Number Status")])])}],!1,null,"2586b58a",null);t.default=c.exports},8773:function(e,t,a){"use strict";a("4574")},"8d2f":function(e,t,a){"use strict";a.r(t);var r,s,o,i,n=(a("96cf"),a("3b8d")),l=a("271f"),c=a("db49"),d={zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},"zh-tw":{hint:"點擊，或拖動圖片至此處",loading:"正在上傳……",noSupported:"瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！",success:"上傳成功",fail:"圖片上傳失敗",preview:"頭像預覽",btn:{off:"取消",close:"關閉",back:"上一步",save:"保存"},error:{onlyImg:"僅限圖片格式",outOfSize:"單文件大小不能超過 ",lowestPx:"圖片最低像素為（寬*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}},ro:{hint:"Atinge sau trage fișierul aici",loading:"Se încarcă",noSupported:"Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.",success:"S-a încărcat cu succes",fail:"A apărut o problemă la încărcare",preview:"Previzualizează",btn:{off:"Anulează",close:"Închide",back:"Înapoi",save:"Salvează"},error:{onlyImg:"Doar imagini",outOfSize:"Imaginea depășește limita de: ",loewstPx:"Imaginea este prea mică; Minim: "}},ru:{hint:"Нажмите, или перетащите файл в это окно",loading:"Загружаю……",noSupported:"Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры",success:"Загрузка выполнена успешно",fail:"Ошибка загрузки",preview:"Предпросмотр",btn:{off:"Отменить",close:"Закрыть",back:"Назад",save:"Сохранить"},error:{onlyImg:"Только изображения",outOfSize:"Изображение превышает предельный размер: ",lowestPx:"Минимальный размер изображения: "}},"pt-br":{hint:"Clique ou arraste o arquivo aqui para carregar",loading:"Carregando…",noSupported:"Browser não suportado, use o IE10+ ou outro browser",success:"Sucesso ao carregar imagem",fail:"Falha ao carregar imagem",preview:"Pré-visualizar",btn:{off:"Cancelar",close:"Fechar",back:"Voltar",save:"Salvar"},error:{onlyImg:"Apenas imagens",outOfSize:"A imagem excede o limite de tamanho: ",lowestPx:"O tamanho da imagem é muito pequeno. Tamanho mínimo: "}},fr:{hint:"Cliquez ou glissez le fichier ici.",loading:"Téléchargement…",noSupported:"Votre navigateur n'est pas supporté. Utilisez IE10 + ou un autre navigateur s'il vous plaît.",success:"Téléchargement réussit",fail:"Téléchargement echoué",preview:"Aperçu",btn:{off:"Annuler",close:"Fermer",back:"Retour",save:"Enregistrer"},error:{onlyImg:"Image uniquement",outOfSize:"L'image sélectionnée dépasse la taille maximum: ",lowestPx:"L'image sélectionnée est trop petite. Dimensions attendues: "}},nl:{hint:"Klik hier of sleep een afbeelding in dit vlak",loading:"Uploaden…",noSupported:"Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.",success:"Upload succesvol",fail:"Upload mislukt",preview:"Voorbeeld",btn:{off:"Annuleren",close:"Sluiten",back:"Terug",save:"Opslaan"},error:{onlyImg:"Alleen afbeeldingen",outOfSize:"De afbeelding is groter dan: ",lowestPx:"De afbeelding is te klein! Minimale afmetingen: "}},tr:{hint:"Tıkla veya yüklemek istediğini buraya sürükle",loading:"Yükleniyor…",noSupported:"Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın",success:"Yükleme başarılı",fail:"Yüklemede hata oluştu",preview:"Önizle",btn:{off:"İptal",close:"Kapat",back:"Geri",save:"Kaydet"},error:{onlyImg:"Sadece resim",outOfSize:"Resim yükleme limitini aşıyor: ",lowestPx:"Resmin boyutu çok küçük. En az olması gereken: "}},"es-MX":{hint:"Selecciona o arrastra una imagen",loading:"Subiendo...",noSupported:"Tu navegador no es soportado, por favor usa IE10+ u otros navegadores más recientes",success:"Subido exitosamente",fail:"Sucedió un error",preview:"Vista previa",btn:{off:"Cancelar",close:"Cerrar",back:"Atrás",save:"Guardar"},error:{onlyImg:"Únicamente imágenes",outOfSize:"La imagen excede el tamaño maximo:",lowestPx:"La imagen es demasiado pequeña. Se espera por lo menos:"}},de:{hint:"Klick hier oder zieh eine Datei hier rein zum Hochladen",loading:"Hochladen…",noSupported:"Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser",success:"Upload erfolgreich",fail:"Upload fehlgeschlagen",preview:"Vorschau",btn:{off:"Abbrechen",close:"Schließen",back:"Zurück",save:"Speichern"},error:{onlyImg:"Nur Bilder",outOfSize:"Das Bild ist zu groß: ",lowestPx:"Das Bild ist zu klein. Mindestens: "}},ja:{hint:"クリック・ドラッグしてファイルをアップロード",loading:"アップロード中...",noSupported:"このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。",success:"アップロード成功",fail:"アップロード失敗",preview:"プレビュー",btn:{off:"キャンセル",close:"閉じる",back:"戻る",save:"保存"},error:{onlyImg:"画像のみ",outOfSize:"画像サイズが上限を超えています。上限: ",lowestPx:"画像が小さすぎます。最小サイズ: "}},ua:{hint:"Натисніть, або перетягніть файл в це вікно",loading:"Завантажую……",noSupported:"Ваш браузер не підтримується, будь ласка скористайтесь IE10 + або іншими браузерами",success:"Завантаження виконано успішно",fail:"Помилка завантаження",preview:"Попередній перегляд",btn:{off:"Відмінити",close:"Закрити",back:"Назад",save:"Зберегти"},error:{onlyImg:"Тільки зображення",outOfSize:"Зображення перевищує граничний розмір: ",lowestPx:"Мінімальний розмір зображення: "}},it:{hint:"Clicca o trascina qui il file per caricarlo",loading:"Caricamento del file…",noSupported:"Browser non supportato, per favore usa IE10+ o un altro browser",success:"Caricamento completato",fail:"Caricamento fallito",preview:"Anteprima",btn:{off:"Annulla",close:"Chiudi",back:"Indietro",save:"Salva"},error:{onlyImg:"Sono accettate solo immagini",outOfSize:"L'immagine eccede i limiti di dimensione: ",lowestPx:"L'immagine è troppo piccola. Il requisito minimo è: "}},ar:{hint:"اضغط أو اسحب الملف هنا للتحميل",loading:"جاري التحميل...",noSupported:"المتصفح غير مدعوم ، يرجى استخدام IE10 + أو متصفح أخر",success:"تم التحميل بنجاح",fail:"فشل التحميل",preview:"معاينه",btn:{off:"إلغاء",close:"إغلاق",back:"رجوع",save:"حفظ"},error:{onlyImg:"صور فقط",outOfSize:"تتجاوز الصوره الحجم المحدد: ",lowestPx:"حجم الصورة صغير جدا. من المتوقع على الأقل: "}},ug:{hint:"مەزكۇر دائىرىنى چىكىپ رەسىم تاللاڭ ياكى رەسىمنى سۆرەپ ئەكىرىڭ",loading:"يوللىنىۋاتىدۇ...",noSupported:"تور كۆرگۈچ بۇ ئىقتىدارنى قوللىمايدۇ ، يۇقىرى نەشىردىكى تور كۆرگۈچنى ئىشلىتىڭ",success:"غەلبىلىك بولدى",fail:"مەغلۇب بولدى",preview:"ئۈنۈم رەسىم",btn:{off:"بولدى قىلىش",close:"تاقاش",back:"ئالدىنقى قەدەم",save:"ساقلاش"},error:{onlyImg:"پەقەت رەسىم فورماتىنىلا قوللايدۇ",outOfSize:"رەسىم چوڭ - كىچىكلىكى چەكتىن ئىشىپ كەتتى",lowestPx:"رەسىمنىڭ ئەڭ كىچىك ئۆلچىمى :"}},th:{hint:"คลิ๊กหรือลากรูปมาที่นี่",loading:"กำลังอัพโหลด…",noSupported:"เบราเซอร์ไม่รองรับ, กรุณาใช้ IE เวอร์ชั่น 10 ขึ้นไป หรือใช้เบราเซอร์ตัวอื่น",success:"อัพโหลดสำเร็จ",fail:"อัพโหลดล้มเหลว",preview:"ตัวอย่าง",btn:{off:"ยกเลิก",close:"ปิด",back:"กลับ",save:"บันทึก"},error:{onlyImg:"ไฟล์ภาพเท่านั้น",outOfSize:"ไฟล์ใหญ่เกินกำหนด: ",lowestPx:"ไฟล์เล็กเกินไป. อย่างน้อยต้องมีขนาด: "}},mm:{hint:"ဖိုင်ကို ဤနေရာတွင် နှိပ်၍ (သို့) ဆွဲထည့်၍ တင်ပါ",loading:"တင်နေသည်…",noSupported:"ဤဘရောက်ဇာကို အထောက်အပံ့ မပေးပါ၊ ကျေးဇူးပြု၍ IE10+ သို့မဟုတ် အခြား ဘရောက်ဇာ ကို အသုံးပြုပါ",success:"ဖိုင်တင်နေမှု မပြီးမြောက်ပါ",fail:"ဖိုင်တင်နေမှု မအောင်မြင်ပါ",preview:"အစမ်းကြည့်",btn:{off:"မလုပ်တော့ပါ",close:"ပိတ်မည်",back:"နောက်သို့",save:"သိမ်းမည်"},error:{onlyImg:"ဓာတ်ပုံ သီးသန့်သာ",outOfSize:"ဓာတ်ပုံဆိုဒ် ကြီးလွန်းသည် ။ အများဆုံး ဆိုဒ် : ",lowestPx:"ဓာတ်ပုံဆိုဒ် သေးလွန်းသည်။ အနည်းဆုံး ဆိုဒ် : "}},se:{hint:"Klicka eller dra en fil hit för att ladda upp den",loading:"Laddar upp…",noSupported:"Din webbläsare stöds inte, vänligen använd IE10+ eller andra webbläsare",success:"Uppladdning lyckades",fail:"Uppladdning misslyckades",preview:"Förhandsgranska",btn:{off:"Avbryt",close:"Stäng",back:"Tillbaka",save:"Spara"},error:{onlyImg:"Endast bilder",outOfSize:"Bilden är större än max-gränsen: ",lowestPx:"Bilden är för liten. Minimum är: "}}},u={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"},p={props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},noRotate:{type:Boolean,default:!0},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"},imgBgc:{type:String,default:"#fff"},withCredentials:{type:Boolean,default:!1},method:{type:String,default:"POST"}},data(){let{imgFormat:e,langType:t,langExt:a,width:r,height:s}=this,o=!0,i=-1===["jpg","png"].indexOf(e)?"jpg":e,n=d[t]||d.en,l=u[i];return this.imgFormat=i,a&&Object.assign(n,a),"function"!=typeof FormData&&(o=!1),{mime:l,lang:n,isSupported:o,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:r/s,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:184},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle(){var e=this["progress"];return{width:e+"%"}},sourceImgStyle(){var{scale:e,sourceImgMasking:t}=this;return{top:e.y+t.y+"px",left:e.x+t.x+"px",width:e.width+"px",height:e.height+"px"}},sourceImgMasking(){let{width:e,height:t,ratio:a,sourceImgContainer:r}=this,s=r,o=s.width/s.height,i=0,n=0,l=s.width,c=s.height,d=1;return a<o&&(d=s.height/t,l=s.height*a,i=(s.width-l)/2),o<a&&(d=s.width/e,c=s.width/a,n=(s.height-c)/2),{scale:d,x:i,y:n,width:l,height:c}},sourceImgShadeStyle(){var{sourceImgMasking:e,sourceImgContainer:t}=this;return{width:(e.width==t.width?e.width:(t.width-e.width)/2)+"px",height:(e.height==t.height?e.height:(t.height-e.height)/2)+"px"}},previewStyle(){let{ratio:e,previewContainer:t}=this,a=t,r=a.width,s=a.height,o=r/s;return e<o&&(r=a.height*e),o<e&&(s=a.width/e),{width:r+"px",height:s+"px"}}},watch:{value(e){e&&1!=this.loading&&this.reset()}},methods:{ripple(e){!function(e,t){var a=Object.assign({ele:e.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},t),r=a.ele;if(r){var s=r.getBoundingClientRect(),t=r.querySelector(".e-ripple");"center"===(t?t.className="e-ripple":((t=document.createElement("span")).className="e-ripple",t.style.height=t.style.width=Math.max(s.width,s.height)+"px",r.appendChild(t)),a.type)?(t.style.top=s.height/2-t.offsetHeight/2+"px",t.style.left=s.width/2-t.offsetWidth/2+"px"):(t.style.top=e.pageY-s.top-t.offsetHeight/2-document.body.scrollTop+"px",t.style.left=e.pageX-s.left-t.offsetWidth/2-document.body.scrollLeft+"px"),t.style.backgroundColor=a.bgc,t.className="e-ripple z-active"}}(e)},off(){setTimeout(()=>{this.$emit("input",!1),3==this.step&&2==this.loading&&this.setStep(1)},200)},setStep(e){setTimeout(()=>{this.step=e},200)},preventDefault(e){return e.preventDefault(),!1},handleClick(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange(e){e.preventDefault(),1!==this.loading&&(e=e.target.files||e.dataTransfer.files,this.reset(),this.checkFile(e[0])&&this.setSourceImg(e[0]))},checkFile(e){var t=this,{lang:a,maxSize:r}=t;return-1===e.type.indexOf("image")?(t.hasError=!0,t.errorMsg=a.error.onlyImg,!1):!(e.size/1024>r&&(t.hasError=!0,t.errorMsg=a.error.outOfSize+r+"kb",1))},reset(){this.loading=0,this.hasError=!1,this.errorMsg="",this.progress=0},setSourceImg(e){this.$emit("src-file-set",e.name,e.type,e.size);let t=this,a=new FileReader;a.onload=function(e){t.sourceImgUrl=a.result,t.startCrop()},a.readAsDataURL(e)},startCrop(){let n=this,{width:l,height:c,ratio:d,scale:u,sourceImgUrl:e,sourceImgMasking:t,lang:p}=n,h=t,m=new Image;m.src=e,m.onload=function(){let e=m.naturalWidth,t=m.naturalHeight,a=e/t,r=h.width,s=h.height,o=0,i=0;if(e<l||t<c)return n.hasError=!0,n.errorMsg=p.error.lowestPx+l+"*"+c,!1;d>a&&(s=r/a,i=(h.height-s)/2),d<a&&(r=s*a,o=(h.width-r)/2),u.range=0,u.x=o,u.y=i,u.width=r,u.height=s,u.minWidth=r,u.minHeight=s,u.maxWidth=e*h.scale,u.maxHeight=t*h.scale,u.naturalWidth=e,u.naturalHeight=t,n.sourceImg=m,n.createImg(),n.setStep(2)}},imgStartMove(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;let t=e.targetTouches?e.targetTouches[0]:e,{sourceImgMouseDown:a,scale:r}=this,s=a;s.mX=t.screenX,s.mY=t.screenY,s.x=r.x,s.y=r.y,s.on=!0},imgMove(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;let t=e.targetTouches?e.targetTouches[0]:e,{sourceImgMouseDown:{on:a,mX:r,mY:s,x:o,y:i},scale:n,sourceImgMasking:l}=this,c=l,d=t.screenX,u=t.screenY,p=d-r,h=u-s,m=o+p,g=i+h;a&&(0<m&&(m=0),0<g&&(g=0),m<c.width-n.width&&(m=c.width-n.width),g<c.height-n.height&&(g=c.height-n.height),n.x=m,n.y=g)},rotateImg(e){let{sourceImg:t,scale:{naturalWidth:a,naturalHeight:r}}=this,s=r,o=a,i=this.$refs.canvas,n=i.getContext("2d");i.width=s,i.height=o,n.clearRect(0,0,s,o),n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,s,o),n.translate(s,0),n.rotate(90*Math.PI/180),n.drawImage(t,0,0,a,r);var l=i.toDataURL(u.png);this.sourceImgUrl=l,this.startCrop()},startZoomAdd(e){let a=this,r=a["scale"];r.zoomAddOn=!0,function e(){var t;r.zoomAddOn&&(t=100<=r.range?100:++r.range,a.zoomImg(t),setTimeout(function(){e()},60))}()},endZoomAdd(e){this.scale.zoomAddOn=!1},startZoomSub(e){let a=this,r=a["scale"];r.zoomSubOn=!0,function e(){var t;r.zoomSubOn&&(t=r.range<=0?0:--r.range,a.zoomImg(t),setTimeout(function(){e()},60))}()},endZoomSub(e){let t=this["scale"];t.zoomSubOn=!1},zoomChange(e){this.zoomImg(e.target.value)},zoomImg(e){let t=this,{sourceImgMasking:a,scale:r}=this,{maxWidth:s,maxHeight:o,minWidth:i,minHeight:n,width:l,height:c,x:d,y:u}=r,p=a,h=p.width,m=p.height,g=i+(s-i)*e/100,f=n+(o-n)*e/100,w=h/2-g/l*(h/2-d),v=m/2-f/c*(m/2-u);0<w&&(w=0),0<v&&(v=0),w<h-g&&(w=h-g),v<m-f&&(v=m-f),r.x=w,r.y=v,r.width=g,r.height=f,r.range=e,setTimeout(function(){r.range==e&&t.createImg()},300)},createImg(e){let t=this,{imgFormat:a,imgBgc:r,mime:s,sourceImg:o,scale:{x:i,y:n,width:l,height:c},sourceImgMasking:{scale:d}}=t,u=t.$refs.canvas,p=u.getContext("2d");e&&(t.sourceImgMouseDown.on=!1),u.width=t.width,u.height=t.height,p.clearRect(0,0,t.width,t.height),p.fillStyle="png"==a?"rgba(0,0,0,0)":r,p.fillRect(0,0,t.width,t.height),p.drawImage(o,i/d,n/d,l/d,c/d),t.createImgUrl=u.toDataURL(s)},prepareUpload(){var{url:e,createImgUrl:t,field:a,ki:r}=this;this.$emit("crop-success",t,a,r),"string"==typeof e&&e?this.upload():this.off()},upload(){let t=this,{lang:a,imgFormat:e,mime:r,url:s,params:o,headers:i,field:n,ki:l,createImgUrl:c,withCredentials:d,method:u}=this,p=new FormData;p.append(n,function(e,t){e=e.split(",")[1],e=window.atob(e);for(var a=new Uint8Array(e.length),r=0;r<e.length;r++)a[r]=e.charCodeAt(r);return new Blob([a],{type:t})}(c,r),n+"."+e),"object"==typeof o&&o&&Object.keys(o).forEach(e=>{p.append(e,o[e])});function h(e){e.lengthComputable&&(t.progress=100*Math.round(e.loaded)/e.total)}t.reset(),t.loading=1,t.setStep(3),new Promise(function(e,t){let a=new XMLHttpRequest;a.open(u,s,!0),a.withCredentials=d,a.onreadystatechange=function(){4===this.readyState&&(200===this.status||201===this.status?e(JSON.parse(this.responseText)):t(this.status))},a.upload.addEventListener("progress",h,!1),"object"==typeof i&&i&&Object.keys(i).forEach(e=>{a.setRequestHeader(e,i[e])}),a.send(p)}).then(function(e){t.value&&(t.loading=2,t.$emit("crop-upload-success",e,n,l))},function(e){t.value&&(t.loading=3,t.hasError=!0,t.errorMsg=a.fail,t.$emit("crop-upload-fail",e,n,l))})}},created(){document.addEventListener("keyup",e=>{!this.value||"Escape"!=e.key&&27!=e.keyCode||this.off()})}},h=(a("2133"),a("2877")),p=Object(h.a)(p,function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[e("div",{staticClass:"vicp-wrap"},[e("div",{staticClass:"vicp-close",on:{click:t.off}},[e("i",{staticClass:"vicp-icon4"})]),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.step,expression:"step == 1"}],staticClass:"vicp-step1"},[e("div",{staticClass:"vicp-drop-area",on:{dragleave:t.preventDefault,dragover:t.preventDefault,dragenter:t.preventDefault,click:t.handleClick,drop:t.handleChange}},[e("i",{directives:[{name:"show",rawName:"v-show",value:1!=t.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[e("i",{staticClass:"vicp-icon1-arrow"}),e("i",{staticClass:"vicp-icon1-body"}),e("i",{staticClass:"vicp-icon1-bottom"})]),e("span",{directives:[{name:"show",rawName:"v-show",value:1!==t.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[t._v(t._s(t.lang.hint))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[t._v(t._s(t.lang.noSupported))]),1==t.step?e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:t.handleChange}}):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"vicp-error"},[e("i",{staticClass:"vicp-icon2"}),t._v(" "+t._s(t.errorMsg)+" ")]),e("div",{staticClass:"vicp-operate"},[e("a",{on:{click:t.off,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.off))])])]),2==t.step?e("div",{staticClass:"vicp-step2"},[e("div",{staticClass:"vicp-crop"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[e("div",{staticClass:"vicp-img-container"},[e("img",{ref:"img",staticClass:"vicp-img",style:t.sourceImgStyle,attrs:{src:t.sourceImgUrl,draggable:"false"},on:{drag:t.preventDefault,dragstart:t.preventDefault,dragend:t.preventDefault,dragleave:t.preventDefault,dragover:t.preventDefault,dragenter:t.preventDefault,drop:t.preventDefault,touchstart:t.imgStartMove,touchmove:t.imgMove,touchend:t.createImg,touchcancel:t.createImg,mousedown:t.imgStartMove,mousemove:t.imgMove,mouseup:t.createImg,mouseout:t.createImg}}),e("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:t.sourceImgShadeStyle}),e("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:t.sourceImgShadeStyle})]),e("div",{staticClass:"vicp-range"},[e("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:t.scale.range},on:{mousemove:t.zoomChange}}),e("i",{staticClass:"vicp-icon5",on:{mousedown:t.startZoomSub,mouseout:t.endZoomSub,mouseup:t.endZoomSub}}),e("i",{staticClass:"vicp-icon6",on:{mousedown:t.startZoomAdd,mouseout:t.endZoomAdd,mouseup:t.endZoomAdd}})]),t.noRotate?t._e():e("div",{staticClass:"vicp-rotate"},[e("i",{on:{click:t.rotateImg}},[t._v("↻")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[e("div",{staticClass:"vicp-preview"},[t.noSquare?t._e():e("div",{staticClass:"vicp-preview-item"},[e("img",{style:t.previewStyle,attrs:{src:t.createImgUrl}}),e("span",[t._v(t._s(t.lang.preview))])]),t.noCircle?t._e():e("div",{staticClass:"vicp-preview-item vicp-preview-item-circle"},[e("img",{style:t.previewStyle,attrs:{src:t.createImgUrl}}),e("span",[t._v(t._s(t.lang.preview))])])])])]),e("div",{staticClass:"vicp-operate"},[e("a",{on:{click:function(e){return t.setStep(1)},mousedown:t.ripple}},[t._v(t._s(t.lang.btn.back))]),e("a",{staticClass:"vicp-operate-btn",on:{click:t.prepareUpload,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.save))])])]):t._e(),3==t.step?e("div",{staticClass:"vicp-step3"},[e("div",{staticClass:"vicp-upload"},[e("span",{directives:[{name:"show",rawName:"v-show",value:1===t.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[t._v(t._s(t.lang.loading))]),e("div",{staticClass:"vicp-progress-wrap"},[e("span",{directives:[{name:"show",rawName:"v-show",value:1===t.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:t.progressStyle})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"vicp-error"},[e("i",{staticClass:"vicp-icon2"}),t._v(" "+t._s(t.errorMsg)+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[e("i",{staticClass:"vicp-icon3"}),t._v(" "+t._s(t.lang.success)+" ")])]),e("div",{staticClass:"vicp-operate"},[e("a",{on:{click:function(e){return t.setStep(2)},mousedown:t.ripple}},[t._v(t._s(t.lang.btn.back))]),e("a",{on:{click:t.off,mousedown:t.ripple}},[t._v(t._s(t.lang.btn.close))])])]):t._e(),e("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:t.width,height:t.height}})])])},[],!1,null,null,null).exports,m=a("c0d6"),n={name:"WhatsappProfile",components:{myUpload:p},data:function(){return{loadingPage:!0,loadingBtn:!1,showAlertError:!1,showAlertMessage:!1,showFormMessage:!0,showAlertErrorLoadCredential:!1,errorDesc:this.$t("alert_error_text"),whatsapp_number:[],selectedPhoneNumber:"",profile:{websites:[]},website:0,profpic:"",about:"",showCropModal:!1,img:"",url:c.a.baseApi,headerUpload:{"api-key":m.a.getters.accessToken},isChangeProfPic:!1}},methods:{changeFilter:function(){this.loadProfile()},cropSuccess:function(e,t){},cropUploadSuccess:function(e,t){200==e.ec&&void 0!==e.data.url?(this.isChangeProfPic=!0,this.profpic=e.data.url):this.$message.error("Upload failed! Please try again.")},cropUploadFail:function(e,t){this.$message.error("Upload failed! Please try again.")},addWebsite:function(){this.website+=1},updateProfile:(i=Object(n.a)(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingBtn=!0,t={description:this.profile,about:this.about,number:this.selectedPhoneNumber},1==this.isChangeProfPic&&(t.photo=this.profpic),e.next=5,Object(l.a)({method:"patch",url:"user/profile",data:t}).then(function(e){200==e.data.ec?a.$swal(a.$t("success"),"","success").then(function(e){a.loadProfile()}):a.$message.error(a.$t("error_text"))}).catch(function(e){a.$message.error(a.$t("error_text"))});case 5:this.loadingBtn=!1;case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t?a?this.profpic=URL.createObjectURL(e.raw):this.$message.error("Avatar picture size can not exceed 2MB!"):this.$message.error("Avatar picture must be JPG format!"),t&&a},loadWa:(o=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingPage=!0,e.next=3,Object(l.a)({method:"post",url:"user/detail/number",data:{channels:"whatsapp"}}).then(function(e){200==e.data.ec?(t.whatsapp_number=e.data.data,t.selectedPhoneNumber=t.whatsapp_number[0],t.showFormMessage=!0,t.loadProfile()):400==e.data.ec&&"not_subscribe"==e.data.message?t.showAlertMessage=!0:500==e.data.ec&&(t.showAlertError=!0)}).catch(function(e){t.showAlertError=!0});case 3:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),loadProfile:(s=Object(n.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadingPage=!0,e.next=3,Object(l.a)({method:"get",url:"user/profile",params:{number:this.selectedPhoneNumber}}).then(function(e){200==e.data.ec?(t.showFormMessage=!0,t.showAlertErrorLoadCredential=!1,t.profile=e.data.data.description,t.website=1<=e.data.data.description.websites.length?e.data.data.description.websites.length:1,t.profpic=e.data.data.photo,t.about=e.data.data.profile):(t.showAlertErrorLoadCredential=!0,403==e.data.ec?t.errorDesc=t.$t("whatsapp.not_allowed"):t.errorDesc=t.$t("error_text"))}).catch(function(e){t.showAlertErrorLoadCredential=!0});case 3:this.loadingPage=!1;case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},mounted:(r=Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadWa();case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},n=(a("8773"),Object(h.a)(n,function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingPage,expression:"loadingPage"}],staticClass:"scrollable only-y"},[r("div",{staticClass:"page-header"},[r("h1",[a._v(a._s(a.$t("whatsapp.whatsapp"))+" Profile")])]),a.showAlertMessage?r("el-card",{staticStyle:{"margin-bottom":"1em"},attrs:{align:"center"}},[r("h2",[a._v("Start messaging your customers today")]),r("span",{domProps:{innerHTML:a._s(a.$t("promote.desc.whatsapp"))}}),r("br"),r("br"),r("span",[r("el-button",{on:{click:function(e){return a.mailto()}}},[a._v("Send us e-mail")])],1)]):a._e(),r("el-card",{directives:[{name:"loading",rawName:"v-loading",value:a.loadingPage,expression:"loadingPage"}],staticStyle:{"margin-bottom":"1em"}},[a.showAlertError||a.showAlertMessage?a._e():r("el-row",{staticStyle:{padding:"20px 151px 20px 20px"},attrs:{gutter:30}},[r("el-col",{attrs:{xs:24,sm:24,md:14,lg:20,xl:20}},[r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{xs:4,sm:4,md:8,lg:4,xl:4}},[r("h5",[a._v("Phone Number")])]),r("el-col",{staticClass:"mt-10",attrs:{xs:20,sm:20,md:16,lg:20,xl:20}},[r("el-select",{attrs:{"default-first-option":!0},on:{change:a.changeFilter},model:{value:a.selectedPhoneNumber,callback:function(e){a.selectedPhoneNumber=e},expression:"selectedPhoneNumber"}},a._l(a.whatsapp_number,function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1)],1),a.showAlertErrorLoadCredential?a._e():r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{xs:4,sm:4,md:8,lg:4,xl:4}},[r("h5",[a._v("Email")])]),r("el-col",{staticClass:"mt-10",attrs:{xs:20,sm:20,md:16,lg:20,xl:20}},[r("el-input",{attrs:{type:"text"},model:{value:a.profile.email,callback:function(e){a.$set(a.profile,"email",e)},expression:"profile.email"}})],1)],1),a._l(a.website,function(e,t){return a.showAlertErrorLoadCredential?a._e():r("el-row",{key:t,attrs:{gutter:30}},[r("el-col",{attrs:{xs:4,sm:4,md:8,lg:4,xl:4}},[r("h5",[a._v("Website")])]),r("el-col",{staticClass:"mt-10",attrs:{xs:20,sm:20,md:16,lg:20,xl:20}},[r("el-input",{attrs:{placeholder:"Your company's website URL",type:"text"},model:{value:a.profile.websites[t],callback:function(e){a.$set(a.profile.websites,t,e)},expression:"profile.websites[i]"}})],1)],1)}),!a.showAlertErrorLoadCredential&&!a.showAlertError&&!a.showAlertMessage&&a.website<2?r("el-row",{staticClass:"mb-10 mt-10",attrs:{gutter:30,align:"center"}},[r("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[r("el-button",{attrs:{type:"info"},on:{click:a.addWebsite}},[a._v(" "+a._s(a.$t("generic.add")))])],1)],1):a._e(),a.showAlertErrorLoadCredential?a._e():r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{xs:4,sm:4,md:8,lg:4,xl:4}},[r("h5",[a._v("Description")])]),r("el-col",{staticClass:"mt-10",attrs:{xs:20,sm:20,md:16,lg:20,xl:20}},[r("el-input",{attrs:{placeholder:"Describe a little word about your company",type:"textarea",rows:5},model:{value:a.profile.description,callback:function(e){a.$set(a.profile,"description",e)},expression:"profile.description"}})],1)],1),a.showAlertErrorLoadCredential?a._e():r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{xs:4,sm:4,md:8,lg:4,xl:4}},[r("h5",[a._v("Address")])]),r("el-col",{staticClass:"mt-10",attrs:{xs:20,sm:20,md:16,lg:20,xl:20}},[r("el-input",{attrs:{placeholder:"Your company address",type:"textarea",rows:5},model:{value:a.profile.address,callback:function(e){a.$set(a.profile,"address",e)},expression:"profile.address"}})],1)],1),a.showAlertErrorLoadCredential?a._e():r("el-row",{attrs:{gutter:30}},[r("el-col",{attrs:{xs:4,sm:4,md:8,lg:4,xl:4}},[r("h5",[a._v("Status")])]),r("el-col",{staticClass:"mt-10",attrs:{xs:20,sm:20,md:16,lg:20,xl:20}},[r("el-input",{attrs:{type:"text"},model:{value:a.about,callback:function(e){a.about=e},expression:"about"}})],1)],1)],2),a.showAlertErrorLoadCredential?a._e():r("el-col",{attrs:{xs:24,sm:24,md:10,lg:4,xl:4}},[r("el-col",{staticClass:"mt-10",attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[r("div",{staticClass:"container-profpic"},[r("img",{staticClass:"avatar",staticStyle:{"border-radius":"50%"},attrs:{src:a.profpic,width:"200px",height:"200px"}}),r("div",{staticClass:"overlay"},[r("el-button",{staticClass:"btn-camera-upload",attrs:{type:"primary",icon:"mdi mdi-camera",circle:""},on:{click:function(e){a.showCropModal=!0}}})],1)]),r("my-upload",{attrs:{field:"img",langType:"en",width:300,height:300,url:a.url+"upload/image",headers:a.headerUpload,params:{number:a.selectedPhoneNumber},"img-format":"jpg"},on:{"crop-success":a.cropSuccess,"crop-upload-success":a.cropUploadSuccess,"crop-upload-fail":a.cropUploadFail},model:{value:a.showCropModal,callback:function(e){a.showCropModal=e},expression:"showCropModal"}})],1)],1)],1),a.showAlertErrorLoadCredential||a.showAlertError||a.showAlertMessage?a._e():r("el-row",{staticClass:"mb-10 mt-10",attrs:{gutter:30,align:"center"}},[r("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[r("el-button",{attrs:{type:"primary",loading:a.loadingBtn},on:{click:a.updateProfile}},[r("i",{staticClass:"mdi mdi-content-save"}),a._v(" "+a._s(a.$t("generic.update")))])],1)],1),r("el-row",{attrs:{gutter:30}},[a.showAlertErrorLoadCredential?r("el-alert",{attrs:{title:a.$t("error"),description:a.errorDesc,type:"error",closable:!1,"show-icon":""}}):a._e()],1)],1),a.showAlertError?r("el-card",{staticStyle:{"margin-bottom":"1em"}},[r("error-gope-siji")],1):a._e()],1)},[],!1,null,"71c57699",null));t.default=n.exports},b3fa:function(e,t,a){},bb58:function(e,t,a){"use strict";a("2dba")}}]);